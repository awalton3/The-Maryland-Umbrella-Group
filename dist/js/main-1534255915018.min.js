(function(angular){
'use strict';
angular
    .module('root', [
    'common',
    'components',
    'templates'
  ]);
})(window.angular);
(function(angular){
'use strict';
angular
    .module('components', [
    'components.auth',
    'components.memos',
    'components.student',
    'components.uploads',
    'components.hours'
  ])
})(window.angular);
(function(angular){
'use strict';
angular
  .module('common', [
    'ui.router',
    'ngMaterial',
    'ngMessages',
  ]);
})(window.angular);
(function(angular){
'use strict';
angular
  .module('common', [
    'ui.router',
    'ngMaterial',
    'ngMessages',
  ]);
})(window.angular);
(function(angular){
'use strict';
/**
 *
 * @ngdoc object
 * @name components.auth
 *
 * @requires ui.router,ngParse,ngMaterial,ngMessages
 *
 * @description
 *
 * This is the auth module. It includes login, register, and reset components for auth feature.
 *
 **/

angular
    .module('components.auth', [
    'ui.router',
    'ngParse',
    'ngMaterial',
    'ngMessages'
  ])
    .config(["ParseProvider", function (ParseProvider) {
        var MY_PARSE_APP_ID = 'uDzN7E7NYIbwdzKLUwNBtDtGfxyxrrBo3C6xGri3';
        var MY_PARSE_JS_KEY = '0VcWEWBLIwEcExM2Nz3TziSGjKiMsoU7SNjI5RPA';
        ParseProvider.initialize(MY_PARSE_APP_ID, MY_PARSE_JS_KEY);
        ParseProvider.serverURL = 'https://parseapi.back4app.com/';

    }])
    .run(["$transitions", "$state", "AuthService", "$rootScope", function ($transitions, $state, AuthService, $rootScope) {
        $rootScope.currentUser = Parse.User.current();
        $transitions.onStart({
            to: function (state) {
                return !!(state.data && state.data.requiredAuth);
            }
        }, function () {
            return AuthService
                .requireAuthentication()
                .catch(function () {
                    return $state.target('auth');
                });
        });
        $transitions.onStart({
            to: 'auth'
        }, function () {
            if (AuthService.isAuthenticated()) {
                if ($rootScope.currentUser.attributes.type === 'STUDENT') {
                  return $state.go('student-app');
                } else {
                  return $state.go('tutor-app');
                }
            }
        });
    }]);
})(window.angular);
(function(angular){
'use strict';
angular
    .module('components.hours', [
    'ui.router'
  ]);
})(window.angular);
(function(angular){
'use strict';
angular
    .module('components.memos', [
    'ui.router'
  ]);
})(window.angular);
(function(angular){
'use strict';
angular
    .module('components.student', [
    'ui.router'
  ]);
})(window.angular);
(function(angular){
'use strict';
angular
    .module('components.uploads', [
    'ui.router'
  ]);
})(window.angular);
(function(angular){
'use strict';
var root = {
    templateUrl: './root.html'
};

angular
    .module('root')
    .component('root', root);
})(window.angular);
(function(angular){
'use strict';
var appNav = {
  templateUrl: './app-nav.html',
  controller: 'AppNavController',
  bindings: {
    title: '@',
    leftIcon: '@',
    rightIcon: '@'
  }
}

angular
  .module('common')
  .component('appNav', appNav);
})(window.angular);
(function(angular){
'use strict';
AppNavController.$inject = ["$mdSidenav"];
function AppNavController($mdSidenav) {

  var ctrl = this;
  ctrl.$onInit = function() {
    //define variables
    ctrl.toggleLeft = buildToggler('left');
    ctrl.toggleRight = buildToggler('right');

    //define functions
    ctrl.buildToggler = buildToggler;
    ctrl.toggleNavs = toggleNavs;
  }

  function buildToggler(componentId) {
    return function() {
      $mdSidenav(componentId).toggle();
    };
  }

  function toggleNavs(componentId) {
    ctrl.isRightNavLocked = !ctrl.isRightNavLocked;
    buildToggler(componentId);
  }
}

angular
  .module('common')
  .controller('AppNavController', AppNavController);
})(window.angular);
(function(angular){
'use strict';
var appSidenav = {
  templateUrl: './app-sidenav.html',
  controller: 'AppSidenavController'
};

angular
  .module('common')
  .component('appSidenav', appSidenav);
})(window.angular);
(function(angular){
'use strict';
AppSidenavController.$inject = ["AuthService", "$state", "$rootScope"];
function AppSidenavController(AuthService, $state, $rootScope) {
  var ctrl = this;

  ctrl.$onInit = function() {
    //define variables
    ctrl.user = $rootScope.currentUser;
    //define functions
    ctrl.logout = logout;
    ctrl.goToHourLog = goToHourLog;
    ctrl.goToUploads = goToUploads;
  }

  function logout() {
    AuthService.logout()
      .then(() => {
        $state.go('auth');
      });
  };

  function goToHourLog() {
    $state.go('hours')
  }

  function goToUploads() {
    $state.go('uploads')
  }

}

angular
  .module('common')
  .controller('AppSidenavController', AppSidenavController);
})(window.angular);
(function(angular){
'use strict';
class UserModel {
    constructor(Parse) {
        this.Parse = Parse;
        this.data = {};
        this.name = 'User';
        this.fields = [
            'lastName',
            'emailVerified',
            'data',
            'type',
            'authData',
            'username',
            'firstname',
            'password',
            'email'
        ];
    }
    New(obj) {
        if (angular.isUndefined(obj)) {
            let parseObject = new this.Parse.Object(this.name)
            this.Parse.defineAttributes(parseObject, this.fields);
            return parseObject;
        } else {
            this.Parse.defineAttributes(obj, this.fields);
            return obj;
        }
    }
    getById(id) {
        return new this.Parse.Query(this.New()).get(id)
            .then(result => {
                this.Parse.defineAttributes(result, this.fields);
                this.data = result;
                return Promise.resolve(result);
            }).catch(error => Promise.reject(error));
    }
}

angular
    .module('common')
    .service('UserModel', UserModel);
})(window.angular);
(function(angular){
'use strict';
var studentApp = {
  templateUrl: './student-app.html',
  controller: 'StudentAppController'
};

angular
  .module('common')
  .component('studentApp', studentApp)
  .config(["$stateProvider", function($stateProvider) {
    $stateProvider
      .state('student-app', {
        redirectTo: 'student',
        url: '/',
        data: {
          requiredAuth: true
        },
        component: 'studentApp',
        resolve: {
          authorization: ['$q', '$rootScope', function($q, $rootScope) {
            var deferred = $q.defer();
            if ($rootScope.currentUser !== null) {
              if ($rootScope.currentUser.attributes.type === 'STUDENT') {
                deferred.resolve();
              } else {
                deferred.reject('You are not authorized to visit this page');
              }
            } else {
              deferred.resolve();
            }
            return deferred.promise;
          }]
        }
      })
  }]);
})(window.angular);
(function(angular){
'use strict';
StudentAppController.$inject = ["AuthService", "$state"];
function StudentAppController(AuthService, $state) {
    var ctrl = this;
    ctrl.user = AuthService.getUser();
    ctrl.logout = function () {
        AuthService.logout()
            .then(function () {
                $state.go('auth');
            });
    };
}

angular
    .module('common')
    .controller('StudentAppController', StudentAppController);
})(window.angular);
(function(angular){
'use strict';
init.$inject = ["$rootScope", "$uiRouter", "$mdSidenav"];
function init($rootScope, $uiRouter, $mdSidenav) {
    var Visualizer = window['ui-router-visualizer'].Visualizer;
    var pluginInstance = $uiRouter.plugin(Visualizer);

    $rootScope.toggleMenu = toggleMenu;

    function toggleMenu(navId) {
        console.log('toggle sidenav: ' + navId);
        $mdSidenav(navId)
            .toggle();
    }
}

angular
    .module('common')
    .run(init)
})(window.angular);
(function(angular){
'use strict';
var tutorApp = {
  templateUrl: './tutor-app.html',
  controller: 'TutorAppController'
};

angular
  .module('common')
  .component('tutorApp', tutorApp)
  .config(["$stateProvider", function($stateProvider) {
    $stateProvider
      .state('tutor-app', {
        redirectTo: 'uploads',
        url: '/',
        data: {
          requiredAuth: true
        },
        component: 'tutorApp',
        resolve: {
          authorization: ['$q', '$rootScope', function($q, $rootScope) {
            var deferred = $q.defer();
            if ($rootScope.currentUser !== null) {
              if ($rootScope.currentUser.attributes.type === 'TUTOR') {
                deferred.resolve();
              } else {
                deferred.reject('You are not authorized to visit this page');
              }
            } else {
              deferred.resolve();
            }
            return deferred.promise;
          }]
        }
      })
  }]);
})(window.angular);
(function(angular){
'use strict';
TutorAppController.$inject = ["AuthService", "$state"];
function TutorAppController(AuthService, $state) {
    var ctrl = this;
    ctrl.user = AuthService.getUser();
    ctrl.logout = function () {
        AuthService.logout()
            .then(function () {
                $state.go('auth');
            });
    };
}

angular
    .module('common')
    .controller('TutorAppController', TutorAppController);
})(window.angular);
(function(angular){
'use strict';
init.$inject = ["$rootScope", "$uiRouter", "$mdSidenav"];
function init($rootScope, $uiRouter, $mdSidenav) {
    var Visualizer = window['ui-router-visualizer'].Visualizer;
    var pluginInstance = $uiRouter.plugin(Visualizer);

    $rootScope.toggleMenu = toggleMenu;

    function toggleMenu(navId) {
        console.log('toggle sidenav: ' + navId);
        $mdSidenav(navId)
            .toggle();
    }
}

angular
    .module('common')
    .run(init)
})(window.angular);
(function(angular){
'use strict';
var auth = {
    templateUrl: './auth.html',
    controller: 'AuthController'
};

angular
    .module('components.auth')
    .component('auth', auth)
    .config(["$stateProvider", "$urlRouterProvider", function ($stateProvider, $urlRouterProvider) {
        $stateProvider
            .state('auth', {
                url: '/auth',
                component: 'auth'
            });
         $urlRouterProvider.otherwise('/auth');
    }]);
})(window.angular);
(function(angular){
'use strict';
AuthController.$inject = ["AuthService"];
function AuthController(AuthService) {
  var ctrl = this;

  ctrl.$onInit = function() {
    // define variables
    ctrl.showRegister = false;
    ctrl.showReset = false;
    ctrl.showLogin = true;

    // define functions
    ctrl.toggleRegister = toggleRegister;
    ctrl.toggleReset = toggleReset;
    ctrl.toggleLogin = toggleLogin;
    ctrl.register = register;
    ctrl.login = login;
    ctrl.reset = reset;
  }

  function toggleRegister() {
    ctrl.showRegister = !ctrl.showRegister;
    ctrl.showLogin = !ctrl.showLogin;
  }

  function toggleReset(event) {
    ctrl.userEmail = event.email;
    ctrl.showReset = !ctrl.showReset;
    ctrl.showLogin = !ctrl.showLogin;
  }

  function toggleLogin() {
    ctrl.showLogin = !ctrl.showLogin;
    ctrl.showReset = !ctrl.showReset;
  }

  function login(event) {
    return AuthService.login(event.user)
  }

  function register(event) {
    return AuthService.register(event.user)
      .signUp(null)
      .then(() => {
        alert("A verfication email has been sent to " + event.user.email)
        return AuthService.logout()
          .then(() => {
            toggleRegister();
          })
      })
      .catch(error => alert(error))
  }

  //TODO put logic in AuthService
  function reset(email) {
    if (email) {
      Parse.User
        .requestPasswordReset(email)
        .then(() => {
          alert('A password reset email has been sent to ' + email);
          toggleLogin();
        })
        .catch(err => {
          alert(err.code + " " + err.message);
        });
    }
  }
}

angular
  .module('components.auth')
  .controller('AuthController', AuthController);
})(window.angular);
(function(angular){
'use strict';
/**
 * @ngdoc service
 * @name components.auth:AuthService
 *
 * @description Handles authentication for app
 */

AuthService.$inject = ["Parse", "$state", "$rootScope"];
function AuthService(Parse, $state, $rootScope) {
  var auth = new Parse.User(); // creates a new user in Parse
  var currentUser = null; //holds info about current user
  // var isLogin = false; //sends signal to controller on whether to route to login tab

  //this.isLogin = false;

  /**
   * @ngdoc method
   * @name AuthService#storeAuthData
   * @methodOf components.auth:AuthService
   * @param {object} obj Parse user object
   * @returns {object} returns currentUser object
   */

  function storeAuthData(response) {
    currentUser = response;
    response = Parse.User.current();
    return currentUser;
  }

  /**
   * @ngdoc method
   * @name AuthService#clearAuthData
   * @methodOf components.auth:AuthService
   * @returns {object} returns a blank user object
   */

  function clearAuthData() {
    currentUser = Parse.User.current(); // this will now be null
    return currentUser;
  }

  /**
   * @ngdoc method
   * @name AuthService#login
   * @methodOf components.auth:AuthService
   * @param {object} obj user data from auth-form
   * @returns {object} returns the current user object
   */

  this.login = function(user) {
    let userType = user.type
    return Parse.User
      .logIn(user.email, user.password)
      .then(user => {
        if (user.attributes.emailVerified && user.attributes.type === userType) {
          storeAuthData()
          if (userType === 'STUDENT') {
            $state.go('student-app')
          } else {
            $state.go('tutor-app')
          }
        } else {
          this.logout()
            .then(() => {
              alert('Please verify email address or ensure you are logging in as the correct user type.');
            })
        }
      })
      .catch(error => alert(error))
  };

  /**
   * @ngdoc method
   * @name AuthService#register
   * @methodOf components.auth:AuthService
   * @param {object} obj user data from auth-form
   * @returns {object} returns the current user object
   */

  this.register = function(user) {
    auth.set("username", user.email);
    auth.set("firstname", user.firstname);
    auth.set("lastname", user.lastname);
    auth.set("password", user.password);
    auth.set("email", user.email);
    auth.set("type", user.type)
    return auth
  };

  /**
   * @ngdoc method
   * @name AuthService#logout
   * @methodOf components.auth:AuthService
   * @returns {object} returns an empty user object
   */

  this.logout = function() {
    return Parse.User.logOut()
      .then(clearAuthData);
  };

  /**
   * @ngdoc method
   * @name AuthService#requireAuthentication
   * @methodOf components.auth:AuthService
   * @returns {promise} returns resolve or reject based on user authentication
   */

  this.requireAuthentication = function() {
    return new Promise(function(resolve, reject) {
      if (!!Parse.User.current() && Parse.User.current()
        .authenticated()) {
        resolve();
      } else {
        reject();
      }
    });
  }

  /**
   * @ngdoc method
   * @name AuthService#isAuthenticated
   * @methodOf components.auth:AuthService
   * @returns {boolean} returns whether user is authenticated based on sessionStorage
   */

  this.isAuthenticated = function() {
    return !!(Parse.User.current() && Parse.User.current()
      .authenticated());
  };

  /**
   * @ngdoc method
   * @name AuthService#getUser
   * @methodOf components.auth:AuthService
   * @returns {object} returns currentUser sessionStorage object
   */

  this.getUser = function() {
    if (auth) {
      return auth;
    }
  };

};

angular
  .module('components.auth')
  .service('AuthService', AuthService);
})(window.angular);
(function(angular){
'use strict';
var hours = {
  templateUrl: './hours.html',
  controller: 'HoursController',
  bindings: {}
}

angular
  .module('components.hours')
  .component('hours', hours)
  .config(["$stateProvider", function($stateProvider) {
    $stateProvider.state('hours', {
      parent: 'tutor-app',
      url: 'tutor/hours',
      component: 'hours'
    })
  }]);
})(window.angular);
(function(angular){
'use strict';
HoursController.$inject = ["$mdSidenav", "$rootScope"];
function HoursController($mdSidenav, $rootScope) {
  var ctrl = this;

  ctrl.$onInit = function() {
    //define variables
    ctrl.user = $rootScope.currentUser;

    //define functions

  }
}

angular
  .module('components.hours')
  .controller('HoursController', HoursController);
})(window.angular);
(function(angular){
'use strict';
var memos = {
    templateUrl: './memos.html',
    controller: 'MemosController',
    bindings: {}
}

angular
    .module('components.memos')
    .component('memos', memos)
    .config(["$stateProvider", function ($stateProvider) {
        $stateProvider.state('memos', {
            parent: 'app',
            url: 'memos',
            component: 'memos'
        })
    }]);
})(window.angular);
(function(angular){
'use strict';
MemosController.$inject = ["$state"];
function MemosController($state) {

    var ctrl = this;
    ctrl.$onInit = function () {

    }

}


angular
    .module('components.memos')
    .controller('MemosController', MemosController);
})(window.angular);
(function(angular){
'use strict';
var student = {
  templateUrl: './student.html',
  controller: 'StudentController',
  bindings: {}
}

angular
  .module('components.student')
  .component('student', student)
  .config(["$stateProvider", function($stateProvider) {
    $stateProvider.state('student', {
      parent: 'student-app',
      url: 'student',
      component: 'student'
    })
  }]);
})(window.angular);
(function(angular){
'use strict';
function StudentController() {

    var ctrl = this;
    ctrl.$onInit = function () {

    }

}

angular
    .module('components.student')
    .controller('StudentController', StudentController);
})(window.angular);
(function(angular){
'use strict';
var uploads = {
  templateUrl: './uploads.html',
  controller: 'UploadsController',
  bindings: {}
}

angular
  .module('components.uploads')
  .component('uploads', uploads)
  .config(["$stateProvider", function($stateProvider) {
    $stateProvider.state('uploads', {
      parent: 'tutor-app',
      url: 'tutor/uploads',
      component: 'uploads'
    })
  }]);
})(window.angular);
(function(angular){
'use strict';
UploadsController.$inject = ["$mdSidenav", "$rootScope"];
function UploadsController($mdSidenav, $rootScope) {

  var ctrl = this;
  ctrl.$onInit = function() {
    //define variables
    ctrl.user = $rootScope.currentUser;

    //define functions
    console.log($rootScope.currentUser.id);
  }
}

angular
  .module('components.uploads')
  .controller('UploadsController', UploadsController);
})(window.angular);
(function(angular){
'use strict';
var authForm = {
    bindings: {
        user: '<',
        userType: '<',
        button: '@',
        message: '@',
        onSubmit: '&',
        onReset: '&'
    },
    templateUrl: './auth-form.html',
    controller: 'AuthFormController'
};

angular
    .module('components.auth')
    .component('authForm', authForm);
})(window.angular);
(function(angular){
'use strict';
function AuthFormController() {
  
  var ctrl = this;

  ctrl.$onInit = function() {
    ctrl.submitForm = submitForm;
    ctrl.reset = reset;
  }

  ctrl.$onChanges = function(changes) {
    if (changes.user) {
      ctrl.user = angular.copy(ctrl.user);
    }
  };

// function passes click event with user object to login component
  function submitForm() {
    ctrl.onSubmit({
      $event: {
        user: ctrl.user
      }
    });
  };

// function passes click event with user email to login component
  function reset() {
    ctrl.onReset({
      $event: {
        email: ctrl.user.email
      }
    });
  };

}

angular
  .module('components.auth')
  .controller('AuthFormController', AuthFormController);
})(window.angular);
(function(angular){
'use strict';
var login = {
    templateUrl: './login.html',
    controller: 'LoginController',
    bindings: {
      userType: '@',
      onRegister: '&',
      onReset: '&',
      onLogin: '&'
    }
};

angular
    .module('components.auth')
    .component('login', login);
})(window.angular);
(function(angular){
'use strict';
LoginController.$inject = ["AuthService", "$state"];
function LoginController(AuthService, $state) {
  var ctrl = this;

  //initialize user data
  ctrl.$onInit = function() {
    //define variables
      ctrl.user = {
          email: '',
          password: '',
          type: ctrl.userType
      };

    ///define functions
    ctrl.login = login;
    ctrl.reset = reset;
  };

  function login(event) {
    ctrl.onLogin({
      $event: {
        user: event.user
      }
    });
  };

  function reset(event) {
    ctrl.onReset({
      $event: {
        email: event.email
      }
    });
  };

}

angular
  .module('components.auth')
  .controller('LoginController', LoginController);
})(window.angular);
(function(angular){
'use strict';
var register = {
    templateUrl: './register.html',
    controller: 'RegisterController',
    bindings: {
      userType: '@',
      onLogin: '&',
      onRegister: '&'
    }
};

angular
    .module('components.auth')
    .component('register', register);
})(window.angular);
(function(angular){
'use strict';
function RegisterController() {
  var ctrl = this;

  ctrl.$onInit = function() {
    //define variables
    ctrl.error = null;
    ctrl.user = {
      email: '',
      password: '',
      type: ctrl.userType
    };
    ///define functions
    ctrl.register = register;
  };

  function register(event) {
    ctrl.onRegister({
      $event: {
        user: event.user
      }
    });
  };
}

angular
  .module('components.auth')
  .controller('RegisterController', RegisterController);
})(window.angular);
(function(angular){
'use strict';
var reset = {
    templateUrl: './reset.html',
    controller: 'ResetController',
    bindings: {
      onLogin: '&',
      userType: '@',
      userEmail: '<',
      onReset: '&'
    }
};

angular
    .module('components.auth')
    .component('reset', reset);
})(window.angular);
(function(angular){
'use strict';
function ResetController() {

}


angular
  .module('components.auth')
  .controller('ResetController', ResetController);
})(window.angular);
(function(angular){
'use strict';
angular.module('templates', []).run(['$templateCache', function($templateCache) {$templateCache.put('./root.html','<div class="root">\n    <div ui-view></div>\n</div>\n');
$templateCache.put('./app-nav.html','<md-toolbar class="md-scroll-shrink background" flex>\n  <div class="md-toolbar-tools" layout="row" layout-align="space-between center">\n    <div>\n      <md-button ng-click="$ctrl.toggleLeft()" class="md-icon-button">\n        <img src="img/{{$ctrl.leftIcon}}.svg" />\n      </md-button>\n    </div>\n    <div>\n      <h1 class="text--weightBold text--upperCase" style="color: #2b5570">{{ $ctrl.title }}</h1>\n    </div>\n    <div>\n      <md-button ng-click="" class="md-icon-button">\n        <i style="color: #2b5570" class="material-icons">{{$ctrl.rightIcon}}</i>\n      </md-button>\n    </div>\n  </div>\n</md-toolbar>\n');
$templateCache.put('./app-sidenav.html','<md-sidenav class="md-sidenav-left sideNavLeft--width height--full background--baseColor" md-component-id="left" md-whiteframe="4" flex>\n\n  <md-content class="background--baseColor">\n    <md-card class="background sideNavLeft__userCard">\n      <md-card-title layout="row" layout-align="space-around center">\n        <div>\n          <img src="img/mughub__logoicon.png" width="60px" />\n        </div>\n        <div>\n          <p style="color: #2b5570" class="text--right text--weightBold text--upperCase md-body-1">{{ $ctrl.user.attributes.firstname }} {{ $ctrl.user.attributes.lastname }}</p>\n          <p style="color: #2b5570" class="text--right text--upperCase md-caption">{{ $ctrl.user.attributes.type }}</p>\n        </div>\n      </md-card-title>\n    </md-card>\n    <div layout="column" layout-align="center center">\n      <md-list-item ng-click="$ctrl.goToUploads()" md-ink-ripple="#2b5570" class="sideNavLeft__options">\n        <p style="color: #eaeaea" class="text--center text--weightBold text--upperCase">UPLOADS</p>\n      </md-list-item>\n      <md-list-item ng-click="$ctrl.goToHourLog()" md-ink-ripple="#2b5570" class="sideNavLeft__options">\n        <p style="color: #eaeaea" class="text--center text--weightBold text--upperCase">HOUR LOG</p>\n      </md-list-item>\n      <md-list-item ng-click="$ctrl.logout()" md-ink-ripple="#2b5570" class="sideNavLeft__options" flex>\n        <p style="color: #de6600" class="text--center text--weightBold text--upperCase">LOGOUT</p>\n      </md-list-item>\n    </div>\n  </md-content>\n\n</md-sidenav>\n');
$templateCache.put('./student-app.html','<div class="root">\n    <!-- <app-nav user="$ctrl.user" on-logout="$ctrl.logout();"></app-nav> -->\n    <!-- <md-sidenav flex-order="2" md-component-id="side" md-whiteframe="3" md-disable-backdrop class="md-sidenav-right md-no-pagination app__sidenav--height app__sidenav--width app__sidenav--position app__sidenav--overflow-x">\n        <div ui-view="side"></div>\n    </md-sidenav> -->\n    <div>\n        <div ui-view></div>\n    </div>\n</div>\n');
$templateCache.put('./tutor-app.html','<div class="root">\n    <!-- <app-nav user="$ctrl.user" on-logout="$ctrl.logout();"></app-nav> -->\n    <!-- <md-sidenav flex-order="2" md-component-id="side" md-whiteframe="3" md-disable-backdrop class="md-sidenav-right md-no-pagination app__sidenav--height app__sidenav--width app__sidenav--position app__sidenav--overflow-x">\n        <div ui-view="side"></div>\n    </md-sidenav> -->\n    <div>\n        <div ui-view></div>\n    </div>\n</div>\n');
$templateCache.put('./auth.html','<md-content class="background height--full width--full" layout="column" layout-align="center center">\n\n  <div>\n    <img src="img/mughub_logo.png" width="170px" />\n  </div>\n\n  <div class="width--full auth--animation ng-enter" style="margin-top: -30px;">\n    <md-tabs class="width--full md-no-animation" md-center-tabs="true" md-dynamic-height>\n\n      <md-tab label="STUDENT">\n        <md-content class="background auth--animation ng-enter">\n          <login ng-if="$ctrl.showLogin" on-login="$ctrl.login($event)" on-register="$ctrl.toggleRegister()" on-reset="$ctrl.toggleReset($event)" user-type="STUDENT"></login>\n          <register ng-if="$ctrl.showRegister" on-register="$ctrl.register($event)" on-login="$ctrl.toggleRegister()" user-type="STUDENT"></register>\n          <reset ng-if="$ctrl.showReset" on-reset="$ctrl.reset($ctrl.userEmail)" on-login="$ctrl.toggleLogin()" user-type="STUDENT" user-email="$ctrl.userEmail"></reset>\n        </md-content>\n      </md-tab>\n\n      <md-tab label="TUTOR">\n        <md-content class="background auth--animation ng-enter">\n          <login ng-if="$ctrl.showLogin" on-login="$ctrl.login($event)" on-register="$ctrl.toggleRegister()" on-reset="$ctrl.toggleReset($event)" user-type="TUTOR"></login>\n          <register ng-if="$ctrl.showRegister" on-register="$ctrl.register($event)" on-login="$ctrl.toggleRegister()" user-type="TUTOR"></register>\n          <reset ng-if="$ctrl.showReset" on-reset="$ctrl.reset($ctrl.userEmail)" on-login="$ctrl.toggleLogin()" user-type="TUTOR" user-email="$ctrl.userEmail"></reset>\n        </md-content>\n      </md-tab>\n\n    </md-tabs>\n  </div>\n\n</md-content>\n');
$templateCache.put('./hours.html','<div layout="row" class="auth--animation" flex>\n\n  <app-sidenav></app-sidenav>\n\n  <md-content class="background" flex>\n\n    <app-nav title="hour log" left-icon="notes" right-icon="group"></app-nav>\n\n    <md-content class="background" flex>\n      <p>\n        Hours go here.\n      </p>\n    </md-content>\n\n  </md-content>\n\n  <md-sidenav class="md-sidenav-right sideNavLeft--width height--full background--baseColor" md-component-id="right" md-disable-backdrop md-is-locked-open="$mdMedia(\'gt-sm\')" md-whiteframe="3" flex>\n\n    <md-toolbar class="md-scroll-shrink background--baseColor" flex>\n      <h1 layout="row" layout-align="center center" class="md-toolbar-tools text--center text--weightBold">STUDENTS</h1>\n    </md-toolbar>\n\n    <md-content class="background--baseColor" layout-margin>\n      <p>\n        This will be the tutor\'s student contact list.\n      </p>\n    </md-content>\n\n  </md-sidenav>\n\n</div>\n');
$templateCache.put('./memos.html','<div>\n  This is the app.\n</div>\n');
$templateCache.put('./student.html','<div>\n  This is the student app.\n</div>\n');
$templateCache.put('./uploads.html','<div layout="row" class="auth--animation" flex>\n\n  <app-sidenav></app-sidenav>\n\n  <md-content class="background" flex>\n\n    <app-nav title="uploads" left-icon="notes" right-icon="group"></app-nav>\n\n    <md-content class="background" flex>\n      <p>\n        Uploads go here.\n      </p>\n    </md-content>\n\n  </md-content>\n\n  <md-sidenav class="md-sidenav-right sideNavLeft--width height--full background--baseColor" md-component-id="right" md-disable-backdrop md-is-locked-open="$mdMedia(\'gt-sm\')" md-whiteframe="3" flex>\n\n    <md-toolbar class="md-scroll-shrink background--baseColor" flex>\n      <h1 layout="row" layout-align="center center" class="md-toolbar-tools text--center text--weightBold">STUDENTS</h1>\n    </md-toolbar>\n\n    <md-content class="background--baseColor" layout-margin>\n      <p>\n        This will be the tutor\'s student contact list.\n      </p>\n    </md-content>\n\n  </md-sidenav>\n\n</div>\n');
$templateCache.put('./auth-form.html','<form layout="column" layout-align="center center" name="authForm" novalidate ng-submit="$ctrl.submitForm();">\n  <md-list layout="column" layout-align="center center">\n\n    <div ng-if="$ctrl.button === \'Register\'">\n      <md-list-item layout="row" layout-align="space-between center">\n\n        <div>\n          <md-input-container layout="row" layout-align="center center" class="auth">\n            <label class="auth__label auth__label--paddingName">FIRST NAME</label>\n            <input class="auth__input auth__input--height auth__input--widthHalf auth__input--borderRadiusFirstName text--center text--font" type="text" name="firstname" ng-model="$ctrl.user.firstname" autocomplete="off" />\n          </md-input-container>\n        </div>\n\n        <div>\n          <md-input-container layout="row" layout-align="center center" class="auth">\n            <label class="auth__label auth__label--paddingName">LAST NAME</label>\n            <input class="auth__input auth__input--height auth__input--widthHalf auth__input--borderRadiusLastName text--center text--font" type="text" name="lastname" ng-model="$ctrl.user.lastname" autocomplete="off" />\n          </md-input-container>\n        </div>\n\n      </md-list-item>\n    </div>\n\n    <div class="auth--marginTop">\n      <md-list-item>\n        <md-input-container layout="row" layout-align="center center" class="auth">\n          <label class="auth__label auth__label--padding"><i class="material-icons md-16 auth__icon">email</i>EMAIL</label>\n          <input class="auth__input auth__input--height auth__input--width text--font" type="email" name="email" ng-model="$ctrl.user.email" autocomplete="off" />\n        </md-input-container>\n      </md-list-item>\n    </div>\n\n    <div class="auth--marginTop">\n      <md-list-item>\n        <md-input-container layout="row" layout-align="center center" class="auth">\n          <label class="auth__label auth__label--padding"><i class="material-icons md-16 auth__icon">lock</i>PASSWORD</label>\n          <input class="auth__input auth__input--height auth__input--width text--font" type="password" name="password" ng-model="$ctrl.user.password" autocomplete="off" />\n        </md-input-container>\n        <p ng-if="$ctrl.button === \'Login\'" ng-click="$ctrl.reset()" class="auth__reset">?</p>\n      </md-list-item>\n    </div>\n\n    <div class="auth--marginTop">\n      <md-list-item>\n        <md-button type="submit" ng-disabled="authForm.$invalid" class="md-raised auth__button auth__input--height auth__input--width">\n          <h1 class="auth__buttonText">{{ $ctrl.button }} as a {{ $ctrl.userType }}</h1>\n        </md-button>\n      </md-list-item>\n    </div>\n\n\n  </md-list>\n</form>\n');
$templateCache.put('./login.html','<div layout="column" layout-align="center" class="auth--animation">\n  <div>\n    <auth-form user="$ctrl.user" user-type="$ctrl.userType" button="Login" on-submit="$ctrl.login($event);" on-reset="$ctrl.reset($event)">\n    </auth-form>\n  </div>\n  <center>\n    <div>\n      <a ng-click="$ctrl.onRegister($event)" class="auth__link">\n      Don\'t have an account? Create one here.\n    </a>\n    </div>\n  </center>\n</div>\n');
$templateCache.put('./register.html','<div layout="column" layout-align="center" class="auth--animation">\n    <div>\n        <auth-form user="$ctrl.user" user-type="$ctrl.userType" message="{{ $ctrl.error }}" button="Register" on-submit="$ctrl.register($event);">\n        </auth-form>\n    </div>\n    <center>\n        <div>\n            <a ng-click="$ctrl.onLogin($event)" class="auth__link">Already have an account? Login here.</a>\n        </div>\n    </center>\n</div>\n');
$templateCache.put('./reset.html','<div layout="column" layout-align="center" class="auth--animation">\n    <form layout="column" layout-align="center center" name="authForm" novalidate ng-submit="$ctrl.onReset($event)">\n\n      <md-list layout="column" layout-align="center center">\n\n        <div class="auth--marginTop">\n          <md-list-item>\n            <md-input-container layout="row" layout-align="center center" class="auth">\n              <label class="auth__label auth__label--padding"><i class="material-icons md-16 auth__icon">email</i>EMAIL</label>\n              <input class="auth__input auth__input--height auth__input--width text--font" type="email" name="email" ng-model="$ctrl.userEmail" autocomplete="off" />\n            </md-input-container>\n          </md-list-item>\n        </div>\n\n        <div class="auth--marginTop">\n          <md-list-item>\n            <md-button type="submit" ng-disabled="authForm.$invalid" class="md-raised auth__button auth__input--height auth__input--width">\n              <h1 class="auth__buttonText">RESET {{ $ctrl.userType }} ACOUNT</h1>\n            </md-button>\n          </md-list-item>\n        </div>\n\n      </md-list>\n    </form>\n\n  <center>\n    <div>\n      <a ng-click="$ctrl.onLogin($event)" class="auth__link">Or login with an existing account.</a>\n    </div>\n  </center>\n\n</div>\n');}]);})(window.angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvb3QubW9kdWxlLmpzIiwiY29tcG9uZW50cy9jb21wb25lbnRzLm1vZHVsZS5qcyIsImNvbW1vbi9zdHVkZW50LWFwcC9zdHVkZW50LWFwcC5tb2R1bGUuanMiLCJjb21tb24vdHV0b3ItYXBwL3R1dG9yLWFwcC5tb2R1bGUuanMiLCJjb21wb25lbnRzL2F1dGgvYXV0aC5tb2R1bGUuanMiLCJjb21wb25lbnRzL2hvdXJzL2hvdXJzLm1vZHVsZS5qcyIsImNvbXBvbmVudHMvbWVtb3MvbWVtb3MubW9kdWxlLmpzIiwiY29tcG9uZW50cy9zdHVkZW50L3N0dWRlbnQubW9kdWxlLmpzIiwiY29tcG9uZW50cy91cGxvYWRzL3VwbG9hZHMubW9kdWxlLmpzIiwicm9vdC5jb21wb25lbnQuanMiLCJjb21tb24vYXBwLW5hdi9hcHAtbmF2LmNvbXBvbmVudC5qcyIsImNvbW1vbi9hcHAtbmF2L2FwcC1uYXYuY29udHJvbGxlci5qcyIsImNvbW1vbi9hcHAtc2lkZW5hdi9hcHAtc2lkZW5hdi5jb21wb25lbnQuanMiLCJjb21tb24vYXBwLXNpZGVuYXYvYXBwLXNpZGVuYXYuY29udHJvbGxlci5qcyIsImNvbW1vbi9zZXJ2aWNlcy9Vc2VyLm1vZGVsLmpzIiwiY29tbW9uL3N0dWRlbnQtYXBwL3N0dWRlbnQtYXBwLmNvbXBvbmVudC5qcyIsImNvbW1vbi9zdHVkZW50LWFwcC9zdHVkZW50LWFwcC5jb250cm9sbGVyLmpzIiwiY29tbW9uL3N0dWRlbnQtYXBwL3N0dWRlbnQtYXBwLnJ1bi5qcyIsImNvbW1vbi90dXRvci1hcHAvdHV0b3ItYXBwLmNvbXBvbmVudC5qcyIsImNvbW1vbi90dXRvci1hcHAvdHV0b3ItYXBwLmNvbnRyb2xsZXIuanMiLCJjb21tb24vdHV0b3ItYXBwL3R1dG9yLWFwcC5ydW4uanMiLCJjb21wb25lbnRzL2F1dGgvYXV0aC5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2F1dGgvYXV0aC5jb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy9hdXRoL2F1dGguc2VydmljZS5qcyIsImNvbXBvbmVudHMvaG91cnMvaG91cnMuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9ob3Vycy9ob3Vycy5jb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy9tZW1vcy9tZW1vcy5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL21lbW9zL21lbW9zLmNvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL3N0dWRlbnQvc3R1ZGVudC5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL3N0dWRlbnQvc3R1ZGVudC5jb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy91cGxvYWRzL3VwbG9hZHMuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy91cGxvYWRzL3VwbG9hZHMuY29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvYXV0aC9hdXRoLWZvcm0vYXV0aC1mb3JtLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvYXV0aC9hdXRoLWZvcm0vYXV0aC1mb3JtLmNvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL2F1dGgvbG9naW4vbG9naW4uY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9hdXRoL2xvZ2luL2xvZ2luLmNvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL2F1dGgvcmVnaXN0ZXIvcmVnaXN0ZXIuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9hdXRoL3JlZ2lzdGVyL3JlZ2lzdGVyLmNvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL2F1dGgvcmVzZXQvcmVzZXQuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9hdXRoL3Jlc2V0L3Jlc2V0LmNvbnRyb2xsZXIuanMiLCJ0ZW1wbGF0ZXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBO0tBQ0EsT0FBQSxRQUFBO0lBQ0E7SUFDQTtJQUNBOztHQUVBLE9BQUE7QUNSQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0E7S0FDQSxPQUFBLGNBQUE7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBOztHQUVBLE9BQUE7QUNWQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0E7R0FDQSxPQUFBLFVBQUE7SUFDQTtJQUNBO0lBQ0E7O0dBRUEsT0FBQTtBQ1JBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQTtHQUNBLE9BQUEsVUFBQTtJQUNBO0lBQ0E7SUFDQTs7R0FFQSxPQUFBO0FDUkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUFjQTtLQUNBLE9BQUEsbUJBQUE7SUFDQTtJQUNBO0lBQ0E7SUFDQTs7S0FFQSx5QkFBQSxVQUFBLGVBQUE7UUFDQSxJQUFBLGtCQUFBO1FBQ0EsSUFBQSxrQkFBQTtRQUNBLGNBQUEsV0FBQSxpQkFBQTtRQUNBLGNBQUEsWUFBQTs7O0tBR0EsNERBQUEsVUFBQSxjQUFBLFFBQUEsYUFBQSxZQUFBO1FBQ0EsV0FBQSxjQUFBLE1BQUEsS0FBQTtRQUNBLGFBQUEsUUFBQTtZQUNBLElBQUEsVUFBQSxPQUFBO2dCQUNBLE9BQUEsQ0FBQSxFQUFBLE1BQUEsUUFBQSxNQUFBLEtBQUE7O1dBRUEsWUFBQTtZQUNBLE9BQUE7aUJBQ0E7aUJBQ0EsTUFBQSxZQUFBO29CQUNBLE9BQUEsT0FBQSxPQUFBOzs7UUFHQSxhQUFBLFFBQUE7WUFDQSxJQUFBO1dBQ0EsWUFBQTtZQUNBLElBQUEsWUFBQSxtQkFBQTtnQkFDQSxJQUFBLFdBQUEsWUFBQSxXQUFBLFNBQUEsV0FBQTtrQkFDQSxPQUFBLE9BQUEsR0FBQTt1QkFDQTtrQkFDQSxPQUFBLE9BQUEsR0FBQTs7Ozs7R0FLQSxPQUFBO0FDdERBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQTtLQUNBLE9BQUEsb0JBQUE7SUFDQTs7R0FFQSxPQUFBO0FDTkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBO0tBQ0EsT0FBQSxvQkFBQTtJQUNBOztHQUVBLE9BQUE7QUNOQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0E7S0FDQSxPQUFBLHNCQUFBO0lBQ0E7O0dBRUEsT0FBQTtBQ05BLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQTtLQUNBLE9BQUEsc0JBQUE7SUFDQTs7R0FFQSxPQUFBO0FDTkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBLElBQUEsT0FBQTtJQUNBLGFBQUE7OztBQUdBO0tBQ0EsT0FBQTtLQUNBLFVBQUEsUUFBQTtHQUNBLE9BQUE7QUNUQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0EsSUFBQSxTQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7RUFDQSxVQUFBO0lBQ0EsT0FBQTtJQUNBLFVBQUE7SUFDQSxXQUFBOzs7O0FBSUE7R0FDQSxPQUFBO0dBQ0EsVUFBQSxVQUFBO0dBQ0EsT0FBQTtBQ2ZBLENBQUEsU0FBQSxRQUFBOzsyQ0FDQTtBQUNBLFNBQUEsaUJBQUEsWUFBQTs7RUFFQSxJQUFBLE9BQUE7RUFDQSxLQUFBLFVBQUEsV0FBQTs7SUFFQSxLQUFBLGFBQUEsYUFBQTtJQUNBLEtBQUEsY0FBQSxhQUFBOzs7SUFHQSxLQUFBLGVBQUE7SUFDQSxLQUFBLGFBQUE7OztFQUdBLFNBQUEsYUFBQSxhQUFBO0lBQ0EsT0FBQSxXQUFBO01BQ0EsV0FBQSxhQUFBOzs7O0VBSUEsU0FBQSxXQUFBLGFBQUE7SUFDQSxLQUFBLG1CQUFBLENBQUEsS0FBQTtJQUNBLGFBQUE7Ozs7QUFJQTtHQUNBLE9BQUE7R0FDQSxXQUFBLG9CQUFBO0dBQ0EsT0FBQTtBQzlCQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0EsSUFBQSxhQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7OztBQUdBO0dBQ0EsT0FBQTtHQUNBLFVBQUEsY0FBQTtHQUNBLE9BQUE7QUNWQSxDQUFBLFNBQUEsUUFBQTs7d0VBQ0E7QUFDQSxTQUFBLHFCQUFBLGFBQUEsUUFBQSxZQUFBO0VBQ0EsSUFBQSxPQUFBOztFQUVBLEtBQUEsVUFBQSxXQUFBOztJQUVBLEtBQUEsT0FBQSxXQUFBOztJQUVBLEtBQUEsU0FBQTtJQUNBLEtBQUEsY0FBQTtJQUNBLEtBQUEsY0FBQTs7O0VBR0EsU0FBQSxTQUFBO0lBQ0EsWUFBQTtPQUNBLEtBQUE7OztHQUdBOztFQUVBLFNBQUEsY0FBQTtJQUNBLE9BQUEsR0FBQTs7O0VBR0EsU0FBQSxjQUFBO0lBQ0EsT0FBQSxHQUFBOzs7OztBQUtBO0dBQ0EsT0FBQTtHQUNBLFdBQUEsd0JBQUE7R0FDQSxPQUFBO0FDbENBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXFDQTtLQUNBLE9BQUE7S0FDQSxRQUFBLGFBQUE7R0FDQSxPQUFBO0FDMUNBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQSxJQUFBLGFBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTs7O0FBR0E7R0FDQSxPQUFBO0dBQ0EsVUFBQSxjQUFBO0dBQ0EsMEJBQUEsU0FBQSxnQkFBQTtJQUNBO09BQ0EsTUFBQSxlQUFBO1FBQ0EsWUFBQTtRQUNBLEtBQUE7UUFDQSxNQUFBO1VBQ0EsY0FBQTs7UUFFQSxXQUFBO1FBQ0EsU0FBQTtVQUNBLGVBQUEsQ0FBQSxNQUFBLGNBQUEsU0FBQSxJQUFBLFlBQUE7WUFDQSxJQUFBLFdBQUEsR0FBQTtZQUNBLElBQUEsV0FBQSxnQkFBQSxNQUFBO2NBQ0EsSUFBQSxXQUFBLFlBQUEsV0FBQSxTQUFBLFdBQUE7Z0JBQ0EsU0FBQTtxQkFDQTtnQkFDQSxTQUFBLE9BQUE7O21CQUVBO2NBQ0EsU0FBQTs7WUFFQSxPQUFBLFNBQUE7Ozs7O0dBS0EsT0FBQTtBQ3BDQSxDQUFBLFNBQUEsUUFBQTs7MERBQ0E7QUFDQSxTQUFBLHFCQUFBLGFBQUEsUUFBQTtJQUNBLElBQUEsT0FBQTtJQUNBLEtBQUEsT0FBQSxZQUFBO0lBQ0EsS0FBQSxTQUFBLFlBQUE7UUFDQSxZQUFBO2FBQ0EsS0FBQSxZQUFBO2dCQUNBLE9BQUEsR0FBQTs7Ozs7QUFLQTtLQUNBLE9BQUE7S0FDQSxXQUFBLHdCQUFBO0dBQ0EsT0FBQTtBQ2hCQSxDQUFBLFNBQUEsUUFBQTs7MERBQ0E7QUFDQSxTQUFBLEtBQUEsWUFBQSxXQUFBLFlBQUE7SUFDQSxJQUFBLGFBQUEsT0FBQSx3QkFBQTtJQUNBLElBQUEsaUJBQUEsVUFBQSxPQUFBOztJQUVBLFdBQUEsYUFBQTs7SUFFQSxTQUFBLFdBQUEsT0FBQTtRQUNBLFFBQUEsSUFBQSxxQkFBQTtRQUNBLFdBQUE7YUFDQTs7OztBQUlBO0tBQ0EsT0FBQTtLQUNBLElBQUE7R0FDQSxPQUFBO0FDbEJBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQSxJQUFBLFdBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTs7O0FBR0E7R0FDQSxPQUFBO0dBQ0EsVUFBQSxZQUFBO0dBQ0EsMEJBQUEsU0FBQSxnQkFBQTtJQUNBO09BQ0EsTUFBQSxhQUFBO1FBQ0EsWUFBQTtRQUNBLEtBQUE7UUFDQSxNQUFBO1VBQ0EsY0FBQTs7UUFFQSxXQUFBO1FBQ0EsU0FBQTtVQUNBLGVBQUEsQ0FBQSxNQUFBLGNBQUEsU0FBQSxJQUFBLFlBQUE7WUFDQSxJQUFBLFdBQUEsR0FBQTtZQUNBLElBQUEsV0FBQSxnQkFBQSxNQUFBO2NBQ0EsSUFBQSxXQUFBLFlBQUEsV0FBQSxTQUFBLFNBQUE7Z0JBQ0EsU0FBQTtxQkFDQTtnQkFDQSxTQUFBLE9BQUE7O21CQUVBO2NBQ0EsU0FBQTs7WUFFQSxPQUFBLFNBQUE7Ozs7O0dBS0EsT0FBQTtBQ3BDQSxDQUFBLFNBQUEsUUFBQTs7d0RBQ0E7QUFDQSxTQUFBLG1CQUFBLGFBQUEsUUFBQTtJQUNBLElBQUEsT0FBQTtJQUNBLEtBQUEsT0FBQSxZQUFBO0lBQ0EsS0FBQSxTQUFBLFlBQUE7UUFDQSxZQUFBO2FBQ0EsS0FBQSxZQUFBO2dCQUNBLE9BQUEsR0FBQTs7Ozs7QUFLQTtLQUNBLE9BQUE7S0FDQSxXQUFBLHNCQUFBO0dBQ0EsT0FBQTtBQ2hCQSxDQUFBLFNBQUEsUUFBQTs7MERBQ0E7QUFDQSxTQUFBLEtBQUEsWUFBQSxXQUFBLFlBQUE7SUFDQSxJQUFBLGFBQUEsT0FBQSx3QkFBQTtJQUNBLElBQUEsaUJBQUEsVUFBQSxPQUFBOztJQUVBLFdBQUEsYUFBQTs7SUFFQSxTQUFBLFdBQUEsT0FBQTtRQUNBLFFBQUEsSUFBQSxxQkFBQTtRQUNBLFdBQUE7YUFDQTs7OztBQUlBO0tBQ0EsT0FBQTtLQUNBLElBQUE7R0FDQSxPQUFBO0FDbEJBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQSxJQUFBLE9BQUE7SUFDQSxhQUFBO0lBQ0EsWUFBQTs7O0FBR0E7S0FDQSxPQUFBO0tBQ0EsVUFBQSxRQUFBO0tBQ0EsZ0RBQUEsVUFBQSxnQkFBQSxvQkFBQTtRQUNBO2FBQ0EsTUFBQSxRQUFBO2dCQUNBLEtBQUE7Z0JBQ0EsV0FBQTs7U0FFQSxtQkFBQSxVQUFBOztHQUVBLE9BQUE7QUNsQkEsQ0FBQSxTQUFBLFFBQUE7OzBDQUNBO0FBQ0EsU0FBQSxlQUFBLGFBQUE7RUFDQSxJQUFBLE9BQUE7O0VBRUEsS0FBQSxVQUFBLFdBQUE7O0lBRUEsS0FBQSxlQUFBO0lBQ0EsS0FBQSxZQUFBO0lBQ0EsS0FBQSxZQUFBOzs7SUFHQSxLQUFBLGlCQUFBO0lBQ0EsS0FBQSxjQUFBO0lBQ0EsS0FBQSxjQUFBO0lBQ0EsS0FBQSxXQUFBO0lBQ0EsS0FBQSxRQUFBO0lBQ0EsS0FBQSxRQUFBOzs7RUFHQSxTQUFBLGlCQUFBO0lBQ0EsS0FBQSxlQUFBLENBQUEsS0FBQTtJQUNBLEtBQUEsWUFBQSxDQUFBLEtBQUE7OztFQUdBLFNBQUEsWUFBQSxPQUFBO0lBQ0EsS0FBQSxZQUFBLE1BQUE7SUFDQSxLQUFBLFlBQUEsQ0FBQSxLQUFBO0lBQ0EsS0FBQSxZQUFBLENBQUEsS0FBQTs7O0VBR0EsU0FBQSxjQUFBO0lBQ0EsS0FBQSxZQUFBLENBQUEsS0FBQTtJQUNBLEtBQUEsWUFBQSxDQUFBLEtBQUE7OztFQUdBLFNBQUEsTUFBQSxPQUFBO0lBQ0EsT0FBQSxZQUFBLE1BQUEsTUFBQTs7O0VBR0EsU0FBQSxTQUFBLE9BQUE7SUFDQSxPQUFBLFlBQUEsU0FBQSxNQUFBO09BQ0EsT0FBQTtPQUNBLEtBQUE7Ozs7Ozs7T0FPQSxNQUFBOzs7O0VBSUEsU0FBQSxNQUFBLE9BQUE7SUFDQSxJQUFBLE9BQUE7TUFDQSxNQUFBO1NBQ0EscUJBQUE7U0FDQSxLQUFBOzs7O1NBSUEsTUFBQTs7Ozs7OztBQU9BO0dBQ0EsT0FBQTtHQUNBLFdBQUEsa0JBQUE7R0FDQSxPQUFBO0FDeEVBLENBQUEsU0FBQSxRQUFBO0FBQ0E7Ozs7Ozs7OztBQVFBLFNBQUEsWUFBQSxPQUFBLFFBQUEsWUFBQTtFQUNBLElBQUEsT0FBQSxJQUFBLE1BQUE7RUFDQSxJQUFBLGNBQUE7Ozs7Ozs7Ozs7Ozs7RUFhQSxTQUFBLGNBQUEsVUFBQTtJQUNBLGNBQUE7SUFDQSxXQUFBLE1BQUEsS0FBQTtJQUNBLE9BQUE7Ozs7Ozs7Ozs7RUFVQSxTQUFBLGdCQUFBO0lBQ0EsY0FBQSxNQUFBLEtBQUE7SUFDQSxPQUFBOzs7Ozs7Ozs7OztFQVdBLEtBQUEsUUFBQSxTQUFBLE1BQUE7SUFDQSxJQUFBLFdBQUEsS0FBQTtJQUNBLE9BQUEsTUFBQTtPQUNBLE1BQUEsS0FBQSxPQUFBLEtBQUE7T0FDQSxLQUFBOzs7Ozs7Ozs7Ozs7Ozs7T0FlQSxNQUFBOzs7Ozs7Ozs7OztFQVdBLEtBQUEsV0FBQSxTQUFBLE1BQUE7SUFDQSxLQUFBLElBQUEsWUFBQSxLQUFBO0lBQ0EsS0FBQSxJQUFBLGFBQUEsS0FBQTtJQUNBLEtBQUEsSUFBQSxZQUFBLEtBQUE7SUFDQSxLQUFBLElBQUEsWUFBQSxLQUFBO0lBQ0EsS0FBQSxJQUFBLFNBQUEsS0FBQTtJQUNBLEtBQUEsSUFBQSxRQUFBLEtBQUE7SUFDQSxPQUFBOzs7Ozs7Ozs7O0VBVUEsS0FBQSxTQUFBLFdBQUE7SUFDQSxPQUFBLE1BQUEsS0FBQTtPQUNBLEtBQUE7Ozs7Ozs7Ozs7RUFVQSxLQUFBLHdCQUFBLFdBQUE7SUFDQSxPQUFBLElBQUEsUUFBQSxTQUFBLFNBQUEsUUFBQTtNQUNBLElBQUEsQ0FBQSxDQUFBLE1BQUEsS0FBQSxhQUFBLE1BQUEsS0FBQTtTQUNBLGlCQUFBO1FBQ0E7YUFDQTtRQUNBOzs7Ozs7Ozs7Ozs7RUFZQSxLQUFBLGtCQUFBLFdBQUE7SUFDQSxPQUFBLENBQUEsRUFBQSxNQUFBLEtBQUEsYUFBQSxNQUFBLEtBQUE7T0FDQTs7Ozs7Ozs7OztFQVVBLEtBQUEsVUFBQSxXQUFBO0lBQ0EsSUFBQSxNQUFBO01BQ0EsT0FBQTs7OztDQUlBOztBQUVBO0dBQ0EsT0FBQTtHQUNBLFFBQUEsZUFBQTtHQUNBLE9BQUE7QUN0SkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBLElBQUEsUUFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0VBQ0EsVUFBQTs7O0FBR0E7R0FDQSxPQUFBO0dBQ0EsVUFBQSxTQUFBO0dBQ0EsMEJBQUEsU0FBQSxnQkFBQTtJQUNBLGVBQUEsTUFBQSxTQUFBO01BQ0EsUUFBQTtNQUNBLEtBQUE7TUFDQSxXQUFBOzs7R0FHQSxPQUFBO0FDbEJBLENBQUEsU0FBQSxRQUFBOzt3REFDQTtBQUNBLFNBQUEsZ0JBQUEsWUFBQSxZQUFBO0VBQ0EsSUFBQSxPQUFBOztFQUVBLEtBQUEsVUFBQSxXQUFBOztJQUVBLEtBQUEsT0FBQSxXQUFBOzs7Ozs7O0FBT0E7R0FDQSxPQUFBO0dBQ0EsV0FBQSxtQkFBQTtHQUNBLE9BQUE7QUNqQkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBLElBQUEsUUFBQTtJQUNBLGFBQUE7SUFDQSxZQUFBO0lBQ0EsVUFBQTs7O0FBR0E7S0FDQSxPQUFBO0tBQ0EsVUFBQSxTQUFBO0tBQ0EsMEJBQUEsVUFBQSxnQkFBQTtRQUNBLGVBQUEsTUFBQSxTQUFBO1lBQ0EsUUFBQTtZQUNBLEtBQUE7WUFDQSxXQUFBOzs7R0FHQSxPQUFBO0FDbEJBLENBQUEsU0FBQSxRQUFBOztzQ0FDQTtBQUNBLFNBQUEsZ0JBQUEsUUFBQTs7SUFFQSxJQUFBLE9BQUE7SUFDQSxLQUFBLFVBQUEsWUFBQTs7Ozs7OztBQU9BO0tBQ0EsT0FBQTtLQUNBLFdBQUEsbUJBQUE7R0FDQSxPQUFBO0FDZkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBLElBQUEsVUFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0VBQ0EsVUFBQTs7O0FBR0E7R0FDQSxPQUFBO0dBQ0EsVUFBQSxXQUFBO0dBQ0EsMEJBQUEsU0FBQSxnQkFBQTtJQUNBLGVBQUEsTUFBQSxXQUFBO01BQ0EsUUFBQTtNQUNBLEtBQUE7TUFDQSxXQUFBOzs7R0FHQSxPQUFBO0FDbEJBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQSxTQUFBLG9CQUFBOztJQUVBLElBQUEsT0FBQTtJQUNBLEtBQUEsVUFBQSxZQUFBOzs7Ozs7QUFNQTtLQUNBLE9BQUE7S0FDQSxXQUFBLHFCQUFBO0dBQ0EsT0FBQTtBQ2RBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQSxJQUFBLFVBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLFVBQUE7OztBQUdBO0dBQ0EsT0FBQTtHQUNBLFVBQUEsV0FBQTtHQUNBLDBCQUFBLFNBQUEsZ0JBQUE7SUFDQSxlQUFBLE1BQUEsV0FBQTtNQUNBLFFBQUE7TUFDQSxLQUFBO01BQ0EsV0FBQTs7O0dBR0EsT0FBQTtBQ2xCQSxDQUFBLFNBQUEsUUFBQTs7MERBQ0E7QUFDQSxTQUFBLGtCQUFBLFlBQUEsWUFBQTs7RUFFQSxJQUFBLE9BQUE7RUFDQSxLQUFBLFVBQUEsV0FBQTs7SUFFQSxLQUFBLE9BQUEsV0FBQTs7O0lBR0EsUUFBQSxJQUFBLFdBQUEsWUFBQTs7OztBQUlBO0dBQ0EsT0FBQTtHQUNBLFdBQUEscUJBQUE7R0FDQSxPQUFBO0FDakJBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQSxJQUFBLFdBQUE7SUFDQSxVQUFBO1FBQ0EsTUFBQTtRQUNBLFVBQUE7UUFDQSxRQUFBO1FBQ0EsU0FBQTtRQUNBLFVBQUE7UUFDQSxTQUFBOztJQUVBLGFBQUE7SUFDQSxZQUFBOzs7QUFHQTtLQUNBLE9BQUE7S0FDQSxVQUFBLFlBQUE7R0FDQSxPQUFBO0FDbEJBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQSxTQUFBLHFCQUFBOztFQUVBLElBQUEsT0FBQTs7RUFFQSxLQUFBLFVBQUEsV0FBQTtJQUNBLEtBQUEsYUFBQTtJQUNBLEtBQUEsUUFBQTs7O0VBR0EsS0FBQSxhQUFBLFNBQUEsU0FBQTtJQUNBLElBQUEsUUFBQSxNQUFBO01BQ0EsS0FBQSxPQUFBLFFBQUEsS0FBQSxLQUFBOzs7OztFQUtBLFNBQUEsYUFBQTtJQUNBLEtBQUEsU0FBQTtNQUNBLFFBQUE7UUFDQSxNQUFBLEtBQUE7OztHQUdBOzs7RUFHQSxTQUFBLFFBQUE7SUFDQSxLQUFBLFFBQUE7TUFDQSxRQUFBO1FBQ0EsT0FBQSxLQUFBLEtBQUE7OztHQUdBOzs7O0FBSUE7R0FDQSxPQUFBO0dBQ0EsV0FBQSxzQkFBQTtHQUNBLE9BQUE7QUN4Q0EsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBLElBQUEsUUFBQTtJQUNBLGFBQUE7SUFDQSxZQUFBO0lBQ0EsVUFBQTtNQUNBLFVBQUE7TUFDQSxZQUFBO01BQ0EsU0FBQTtNQUNBLFNBQUE7Ozs7QUFJQTtLQUNBLE9BQUE7S0FDQSxVQUFBLFNBQUE7R0FDQSxPQUFBO0FDaEJBLENBQUEsU0FBQSxRQUFBOztxREFDQTtBQUNBLFNBQUEsZ0JBQUEsYUFBQSxRQUFBO0VBQ0EsSUFBQSxPQUFBOzs7RUFHQSxLQUFBLFVBQUEsV0FBQTs7TUFFQSxLQUFBLE9BQUE7VUFDQSxPQUFBO1VBQ0EsVUFBQTtVQUNBLE1BQUEsS0FBQTs7OztJQUlBLEtBQUEsUUFBQTtJQUNBLEtBQUEsUUFBQTs7O0VBR0EsU0FBQSxNQUFBLE9BQUE7SUFDQSxLQUFBLFFBQUE7TUFDQSxRQUFBO1FBQ0EsTUFBQSxNQUFBOzs7R0FHQTs7RUFFQSxTQUFBLE1BQUEsT0FBQTtJQUNBLEtBQUEsUUFBQTtNQUNBLFFBQUE7UUFDQSxPQUFBLE1BQUE7OztHQUdBOzs7O0FBSUE7R0FDQSxPQUFBO0dBQ0EsV0FBQSxtQkFBQTtHQUNBLE9BQUE7QUN4Q0EsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBLElBQUEsV0FBQTtJQUNBLGFBQUE7SUFDQSxZQUFBO0lBQ0EsVUFBQTtNQUNBLFVBQUE7TUFDQSxTQUFBO01BQ0EsWUFBQTs7OztBQUlBO0tBQ0EsT0FBQTtLQUNBLFVBQUEsWUFBQTtHQUNBLE9BQUE7QUNmQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0EsU0FBQSxxQkFBQTtFQUNBLElBQUEsT0FBQTs7RUFFQSxLQUFBLFVBQUEsV0FBQTs7SUFFQSxLQUFBLFFBQUE7SUFDQSxLQUFBLE9BQUE7TUFDQSxPQUFBO01BQ0EsVUFBQTtNQUNBLE1BQUEsS0FBQTs7O0lBR0EsS0FBQSxXQUFBOzs7RUFHQSxTQUFBLFNBQUEsT0FBQTtJQUNBLEtBQUEsV0FBQTtNQUNBLFFBQUE7UUFDQSxNQUFBLE1BQUE7OztHQUdBOzs7QUFHQTtHQUNBLE9BQUE7R0FDQSxXQUFBLHNCQUFBO0dBQ0EsT0FBQTtBQzdCQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0EsSUFBQSxRQUFBO0lBQ0EsYUFBQTtJQUNBLFlBQUE7SUFDQSxVQUFBO01BQ0EsU0FBQTtNQUNBLFVBQUE7TUFDQSxXQUFBO01BQ0EsU0FBQTs7OztBQUlBO0tBQ0EsT0FBQTtLQUNBLFVBQUEsU0FBQTtHQUNBLE9BQUE7QUNoQkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBLFNBQUEsa0JBQUE7Ozs7O0FBS0E7R0FDQSxPQUFBO0dBQ0EsV0FBQSxtQkFBQTtHQUNBLE9BQUE7QUNWQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0EsUUFBQSxPQUFBLGFBQUEsSUFBQSxJQUFBLENBQUEsa0JBQUEsU0FBQSxnQkFBQSxDQUFBLGVBQUEsSUFBQSxjQUFBO0FBQ0EsZUFBQSxJQUFBLGlCQUFBO0FBQ0EsZUFBQSxJQUFBLHFCQUFBO0FBQ0EsZUFBQSxJQUFBLHFCQUFBO0FBQ0EsZUFBQSxJQUFBLG1CQUFBO0FBQ0EsZUFBQSxJQUFBLGNBQUE7QUFDQSxlQUFBLElBQUEsZUFBQTtBQUNBLGVBQUEsSUFBQSxlQUFBO0FBQ0EsZUFBQSxJQUFBLGlCQUFBO0FBQ0EsZUFBQSxJQUFBLGlCQUFBO0FBQ0EsZUFBQSxJQUFBLG1CQUFBO0FBQ0EsZUFBQSxJQUFBLGVBQUE7QUFDQSxlQUFBLElBQUEsa0JBQUE7QUFDQSxlQUFBLElBQUEsZUFBQSxrMENBQUEsT0FBQSxTQUFBIiwiZmlsZSI6Im1haW4tMTUzNDI1NTkxNTAxOC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyXG4gICAgLm1vZHVsZSgncm9vdCcsIFtcbiAgICAnY29tbW9uJyxcbiAgICAnY29tcG9uZW50cycsXG4gICAgJ3RlbXBsYXRlcydcbiAgXSk7XG4iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tcG9uZW50cycsIFtcbiAgICAnY29tcG9uZW50cy5hdXRoJyxcbiAgICAnY29tcG9uZW50cy5tZW1vcycsXG4gICAgJ2NvbXBvbmVudHMuc3R1ZGVudCcsXG4gICAgJ2NvbXBvbmVudHMudXBsb2FkcycsXG4gICAgJ2NvbXBvbmVudHMuaG91cnMnXG4gIF0pXG4iLCJhbmd1bGFyXG4gIC5tb2R1bGUoJ2NvbW1vbicsIFtcbiAgICAndWkucm91dGVyJyxcbiAgICAnbmdNYXRlcmlhbCcsXG4gICAgJ25nTWVzc2FnZXMnLFxuICBdKTtcbiIsImFuZ3VsYXJcbiAgLm1vZHVsZSgnY29tbW9uJywgW1xuICAgICd1aS5yb3V0ZXInLFxuICAgICduZ01hdGVyaWFsJyxcbiAgICAnbmdNZXNzYWdlcycsXG4gIF0pO1xuIiwiLyoqXG4gKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgY29tcG9uZW50cy5hdXRoXG4gKlxuICogQHJlcXVpcmVzIHVpLnJvdXRlcixuZ1BhcnNlLG5nTWF0ZXJpYWwsbmdNZXNzYWdlc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoaXMgaXMgdGhlIGF1dGggbW9kdWxlLiBJdCBpbmNsdWRlcyBsb2dpbiwgcmVnaXN0ZXIsIGFuZCByZXNldCBjb21wb25lbnRzIGZvciBhdXRoIGZlYXR1cmUuXG4gKlxuICoqL1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJywgW1xuICAgICd1aS5yb3V0ZXInLFxuICAgICduZ1BhcnNlJyxcbiAgICAnbmdNYXRlcmlhbCcsXG4gICAgJ25nTWVzc2FnZXMnXG4gIF0pXG4gICAgLmNvbmZpZyhmdW5jdGlvbiAoUGFyc2VQcm92aWRlcikge1xuICAgICAgICB2YXIgTVlfUEFSU0VfQVBQX0lEID0gJ3VEek43RTdOWUlid2R6S0xVd05CdER0R2Z4eXhyckJvM0M2eEdyaTMnO1xuICAgICAgICB2YXIgTVlfUEFSU0VfSlNfS0VZID0gJzBWY1dFV0JMSXdFY0V4TTJOejNUemlTR2pLaU1zb1U3U05qSTVSUEEnO1xuICAgICAgICBQYXJzZVByb3ZpZGVyLmluaXRpYWxpemUoTVlfUEFSU0VfQVBQX0lELCBNWV9QQVJTRV9KU19LRVkpO1xuICAgICAgICBQYXJzZVByb3ZpZGVyLnNlcnZlclVSTCA9ICdodHRwczovL3BhcnNlYXBpLmJhY2s0YXBwLmNvbS8nO1xuXG4gICAgfSlcbiAgICAucnVuKGZ1bmN0aW9uICgkdHJhbnNpdGlvbnMsICRzdGF0ZSwgQXV0aFNlcnZpY2UsICRyb290U2NvcGUpIHtcbiAgICAgICAgJHJvb3RTY29wZS5jdXJyZW50VXNlciA9IFBhcnNlLlVzZXIuY3VycmVudCgpO1xuICAgICAgICAkdHJhbnNpdGlvbnMub25TdGFydCh7XG4gICAgICAgICAgICB0bzogZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhKHN0YXRlLmRhdGEgJiYgc3RhdGUuZGF0YS5yZXF1aXJlZEF1dGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQXV0aFNlcnZpY2VcbiAgICAgICAgICAgICAgICAucmVxdWlyZUF1dGhlbnRpY2F0aW9uKClcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHN0YXRlLnRhcmdldCgnYXV0aCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgJHRyYW5zaXRpb25zLm9uU3RhcnQoe1xuICAgICAgICAgICAgdG86ICdhdXRoJ1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoQXV0aFNlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoJHJvb3RTY29wZS5jdXJyZW50VXNlci5hdHRyaWJ1dGVzLnR5cGUgPT09ICdTVFVERU5UJykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygnc3R1ZGVudC1hcHAnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndHV0b3ItYXBwJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21wb25lbnRzLmhvdXJzJywgW1xuICAgICd1aS5yb3V0ZXInXG4gIF0pO1xuIiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMubWVtb3MnLCBbXG4gICAgJ3VpLnJvdXRlcidcbiAgXSk7XG4iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tcG9uZW50cy5zdHVkZW50JywgW1xuICAgICd1aS5yb3V0ZXInXG4gIF0pO1xuIiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMudXBsb2FkcycsIFtcbiAgICAndWkucm91dGVyJ1xuICBdKTtcbiIsInZhciByb290ID0ge1xuICAgIHRlbXBsYXRlVXJsOiAnLi9yb290Lmh0bWwnXG59O1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgncm9vdCcpXG4gICAgLmNvbXBvbmVudCgncm9vdCcsIHJvb3QpO1xuIiwidmFyIGFwcE5hdiA9IHtcbiAgdGVtcGxhdGVVcmw6ICcuL2FwcC1uYXYuaHRtbCcsXG4gIGNvbnRyb2xsZXI6ICdBcHBOYXZDb250cm9sbGVyJyxcbiAgYmluZGluZ3M6IHtcbiAgICB0aXRsZTogJ0AnLFxuICAgIGxlZnRJY29uOiAnQCcsXG4gICAgcmlnaHRJY29uOiAnQCdcbiAgfVxufVxuXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ2NvbW1vbicpXG4gIC5jb21wb25lbnQoJ2FwcE5hdicsIGFwcE5hdik7XG4iLCJmdW5jdGlvbiBBcHBOYXZDb250cm9sbGVyKCRtZFNpZGVuYXYpIHtcblxuICB2YXIgY3RybCA9IHRoaXM7XG4gIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vZGVmaW5lIHZhcmlhYmxlc1xuICAgIGN0cmwudG9nZ2xlTGVmdCA9IGJ1aWxkVG9nZ2xlcignbGVmdCcpO1xuICAgIGN0cmwudG9nZ2xlUmlnaHQgPSBidWlsZFRvZ2dsZXIoJ3JpZ2h0Jyk7XG5cbiAgICAvL2RlZmluZSBmdW5jdGlvbnNcbiAgICBjdHJsLmJ1aWxkVG9nZ2xlciA9IGJ1aWxkVG9nZ2xlcjtcbiAgICBjdHJsLnRvZ2dsZU5hdnMgPSB0b2dnbGVOYXZzO1xuICB9XG5cbiAgZnVuY3Rpb24gYnVpbGRUb2dnbGVyKGNvbXBvbmVudElkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgJG1kU2lkZW5hdihjb21wb25lbnRJZCkudG9nZ2xlKCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZU5hdnMoY29tcG9uZW50SWQpIHtcbiAgICBjdHJsLmlzUmlnaHROYXZMb2NrZWQgPSAhY3RybC5pc1JpZ2h0TmF2TG9ja2VkO1xuICAgIGJ1aWxkVG9nZ2xlcihjb21wb25lbnRJZCk7XG4gIH1cbn1cblxuYW5ndWxhclxuICAubW9kdWxlKCdjb21tb24nKVxuICAuY29udHJvbGxlcignQXBwTmF2Q29udHJvbGxlcicsIEFwcE5hdkNvbnRyb2xsZXIpO1xuIiwidmFyIGFwcFNpZGVuYXYgPSB7XG4gIHRlbXBsYXRlVXJsOiAnLi9hcHAtc2lkZW5hdi5odG1sJyxcbiAgY29udHJvbGxlcjogJ0FwcFNpZGVuYXZDb250cm9sbGVyJ1xufTtcblxuYW5ndWxhclxuICAubW9kdWxlKCdjb21tb24nKVxuICAuY29tcG9uZW50KCdhcHBTaWRlbmF2JywgYXBwU2lkZW5hdik7XG4iLCJmdW5jdGlvbiBBcHBTaWRlbmF2Q29udHJvbGxlcihBdXRoU2VydmljZSwgJHN0YXRlLCAkcm9vdFNjb3BlKSB7XG4gIHZhciBjdHJsID0gdGhpcztcblxuICBjdHJsLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAvL2RlZmluZSB2YXJpYWJsZXNcbiAgICBjdHJsLnVzZXIgPSAkcm9vdFNjb3BlLmN1cnJlbnRVc2VyO1xuICAgIC8vZGVmaW5lIGZ1bmN0aW9uc1xuICAgIGN0cmwubG9nb3V0ID0gbG9nb3V0O1xuICAgIGN0cmwuZ29Ub0hvdXJMb2cgPSBnb1RvSG91ckxvZztcbiAgICBjdHJsLmdvVG9VcGxvYWRzID0gZ29Ub1VwbG9hZHM7XG4gIH1cblxuICBmdW5jdGlvbiBsb2dvdXQoKSB7XG4gICAgQXV0aFNlcnZpY2UubG9nb3V0KClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgJHN0YXRlLmdvKCdhdXRoJyk7XG4gICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBnb1RvSG91ckxvZygpIHtcbiAgICAkc3RhdGUuZ28oJ2hvdXJzJylcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvVG9VcGxvYWRzKCkge1xuICAgICRzdGF0ZS5nbygndXBsb2FkcycpXG4gIH1cblxufVxuXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ2NvbW1vbicpXG4gIC5jb250cm9sbGVyKCdBcHBTaWRlbmF2Q29udHJvbGxlcicsIEFwcFNpZGVuYXZDb250cm9sbGVyKTtcbiIsImNsYXNzIFVzZXJNb2RlbCB7XG4gICAgY29uc3RydWN0b3IoUGFyc2UpIHtcbiAgICAgICAgdGhpcy5QYXJzZSA9IFBhcnNlO1xuICAgICAgICB0aGlzLmRhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1VzZXInO1xuICAgICAgICB0aGlzLmZpZWxkcyA9IFtcbiAgICAgICAgICAgICdsYXN0TmFtZScsXG4gICAgICAgICAgICAnZW1haWxWZXJpZmllZCcsXG4gICAgICAgICAgICAnZGF0YScsXG4gICAgICAgICAgICAndHlwZScsXG4gICAgICAgICAgICAnYXV0aERhdGEnLFxuICAgICAgICAgICAgJ3VzZXJuYW1lJyxcbiAgICAgICAgICAgICdmaXJzdG5hbWUnLFxuICAgICAgICAgICAgJ3Bhc3N3b3JkJyxcbiAgICAgICAgICAgICdlbWFpbCdcbiAgICAgICAgXTtcbiAgICB9XG4gICAgTmV3KG9iaikge1xuICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChvYmopKSB7XG4gICAgICAgICAgICBsZXQgcGFyc2VPYmplY3QgPSBuZXcgdGhpcy5QYXJzZS5PYmplY3QodGhpcy5uYW1lKVxuICAgICAgICAgICAgdGhpcy5QYXJzZS5kZWZpbmVBdHRyaWJ1dGVzKHBhcnNlT2JqZWN0LCB0aGlzLmZpZWxkcyk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VPYmplY3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLlBhcnNlLmRlZmluZUF0dHJpYnV0ZXMob2JqLCB0aGlzLmZpZWxkcyk7XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEJ5SWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLlBhcnNlLlF1ZXJ5KHRoaXMuTmV3KCkpLmdldChpZClcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5QYXJzZS5kZWZpbmVBdHRyaWJ1dGVzKHJlc3VsdCwgdGhpcy5maWVsZHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiBQcm9taXNlLnJlamVjdChlcnJvcikpO1xuICAgIH1cbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbW1vbicpXG4gICAgLnNlcnZpY2UoJ1VzZXJNb2RlbCcsIFVzZXJNb2RlbCk7XG4iLCJ2YXIgc3R1ZGVudEFwcCA9IHtcbiAgdGVtcGxhdGVVcmw6ICcuL3N0dWRlbnQtYXBwLmh0bWwnLFxuICBjb250cm9sbGVyOiAnU3R1ZGVudEFwcENvbnRyb2xsZXInXG59O1xuXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ2NvbW1vbicpXG4gIC5jb21wb25lbnQoJ3N0dWRlbnRBcHAnLCBzdHVkZW50QXBwKVxuICAuY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgIC5zdGF0ZSgnc3R1ZGVudC1hcHAnLCB7XG4gICAgICAgIHJlZGlyZWN0VG86ICdzdHVkZW50JyxcbiAgICAgICAgdXJsOiAnLycsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICByZXF1aXJlZEF1dGg6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgY29tcG9uZW50OiAnc3R1ZGVudEFwcCcsXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBbJyRxJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkcSwgJHJvb3RTY29wZSkge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIGlmICgkcm9vdFNjb3BlLmN1cnJlbnRVc2VyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGlmICgkcm9vdFNjb3BlLmN1cnJlbnRVc2VyLmF0dHJpYnV0ZXMudHlwZSA9PT0gJ1NUVURFTlQnKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgnWW91IGFyZSBub3QgYXV0aG9yaXplZCB0byB2aXNpdCB0aGlzIHBhZ2UnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgfSk7XG4iLCJmdW5jdGlvbiBTdHVkZW50QXBwQ29udHJvbGxlcihBdXRoU2VydmljZSwgJHN0YXRlKSB7XG4gICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgIGN0cmwudXNlciA9IEF1dGhTZXJ2aWNlLmdldFVzZXIoKTtcbiAgICBjdHJsLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgQXV0aFNlcnZpY2UubG9nb3V0KClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2F1dGgnKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21tb24nKVxuICAgIC5jb250cm9sbGVyKCdTdHVkZW50QXBwQ29udHJvbGxlcicsIFN0dWRlbnRBcHBDb250cm9sbGVyKTtcbiIsImZ1bmN0aW9uIGluaXQoJHJvb3RTY29wZSwgJHVpUm91dGVyLCAkbWRTaWRlbmF2KSB7XG4gICAgdmFyIFZpc3VhbGl6ZXIgPSB3aW5kb3dbJ3VpLXJvdXRlci12aXN1YWxpemVyJ10uVmlzdWFsaXplcjtcbiAgICB2YXIgcGx1Z2luSW5zdGFuY2UgPSAkdWlSb3V0ZXIucGx1Z2luKFZpc3VhbGl6ZXIpO1xuXG4gICAgJHJvb3RTY29wZS50b2dnbGVNZW51ID0gdG9nZ2xlTWVudTtcblxuICAgIGZ1bmN0aW9uIHRvZ2dsZU1lbnUobmF2SWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3RvZ2dsZSBzaWRlbmF2OiAnICsgbmF2SWQpO1xuICAgICAgICAkbWRTaWRlbmF2KG5hdklkKVxuICAgICAgICAgICAgLnRvZ2dsZSgpO1xuICAgIH1cbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbW1vbicpXG4gICAgLnJ1bihpbml0KVxuIiwidmFyIHR1dG9yQXBwID0ge1xuICB0ZW1wbGF0ZVVybDogJy4vdHV0b3ItYXBwLmh0bWwnLFxuICBjb250cm9sbGVyOiAnVHV0b3JBcHBDb250cm9sbGVyJ1xufTtcblxuYW5ndWxhclxuICAubW9kdWxlKCdjb21tb24nKVxuICAuY29tcG9uZW50KCd0dXRvckFwcCcsIHR1dG9yQXBwKVxuICAuY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgIC5zdGF0ZSgndHV0b3ItYXBwJywge1xuICAgICAgICByZWRpcmVjdFRvOiAndXBsb2FkcycsXG4gICAgICAgIHVybDogJy8nLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgcmVxdWlyZWRBdXRoOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBvbmVudDogJ3R1dG9yQXBwJyxcbiAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgIGF1dGhvcml6YXRpb246IFsnJHEnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRxLCAkcm9vdFNjb3BlKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgaWYgKCRyb290U2NvcGUuY3VycmVudFVzZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgaWYgKCRyb290U2NvcGUuY3VycmVudFVzZXIuYXR0cmlidXRlcy50eXBlID09PSAnVFVUT1InKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgnWW91IGFyZSBub3QgYXV0aG9yaXplZCB0byB2aXNpdCB0aGlzIHBhZ2UnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgfSk7XG4iLCJmdW5jdGlvbiBUdXRvckFwcENvbnRyb2xsZXIoQXV0aFNlcnZpY2UsICRzdGF0ZSkge1xuICAgIHZhciBjdHJsID0gdGhpcztcbiAgICBjdHJsLnVzZXIgPSBBdXRoU2VydmljZS5nZXRVc2VyKCk7XG4gICAgY3RybC5sb2dvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIEF1dGhTZXJ2aWNlLmxvZ291dCgpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhdXRoJyk7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tbW9uJylcbiAgICAuY29udHJvbGxlcignVHV0b3JBcHBDb250cm9sbGVyJywgVHV0b3JBcHBDb250cm9sbGVyKTtcbiIsImZ1bmN0aW9uIGluaXQoJHJvb3RTY29wZSwgJHVpUm91dGVyLCAkbWRTaWRlbmF2KSB7XG4gICAgdmFyIFZpc3VhbGl6ZXIgPSB3aW5kb3dbJ3VpLXJvdXRlci12aXN1YWxpemVyJ10uVmlzdWFsaXplcjtcbiAgICB2YXIgcGx1Z2luSW5zdGFuY2UgPSAkdWlSb3V0ZXIucGx1Z2luKFZpc3VhbGl6ZXIpO1xuXG4gICAgJHJvb3RTY29wZS50b2dnbGVNZW51ID0gdG9nZ2xlTWVudTtcblxuICAgIGZ1bmN0aW9uIHRvZ2dsZU1lbnUobmF2SWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3RvZ2dsZSBzaWRlbmF2OiAnICsgbmF2SWQpO1xuICAgICAgICAkbWRTaWRlbmF2KG5hdklkKVxuICAgICAgICAgICAgLnRvZ2dsZSgpO1xuICAgIH1cbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbW1vbicpXG4gICAgLnJ1bihpbml0KVxuIiwidmFyIGF1dGggPSB7XG4gICAgdGVtcGxhdGVVcmw6ICcuL2F1dGguaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0F1dGhDb250cm9sbGVyJ1xufTtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcpXG4gICAgLmNvbXBvbmVudCgnYXV0aCcsIGF1dGgpXG4gICAgLmNvbmZpZyhmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuICAgICAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAgICAgLnN0YXRlKCdhdXRoJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9hdXRoJyxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdhdXRoJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvYXV0aCcpO1xuICAgIH0pO1xuIiwiZnVuY3Rpb24gQXV0aENvbnRyb2xsZXIoQXV0aFNlcnZpY2UpIHtcbiAgdmFyIGN0cmwgPSB0aGlzO1xuXG4gIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIGRlZmluZSB2YXJpYWJsZXNcbiAgICBjdHJsLnNob3dSZWdpc3RlciA9IGZhbHNlO1xuICAgIGN0cmwuc2hvd1Jlc2V0ID0gZmFsc2U7XG4gICAgY3RybC5zaG93TG9naW4gPSB0cnVlO1xuXG4gICAgLy8gZGVmaW5lIGZ1bmN0aW9uc1xuICAgIGN0cmwudG9nZ2xlUmVnaXN0ZXIgPSB0b2dnbGVSZWdpc3RlcjtcbiAgICBjdHJsLnRvZ2dsZVJlc2V0ID0gdG9nZ2xlUmVzZXQ7XG4gICAgY3RybC50b2dnbGVMb2dpbiA9IHRvZ2dsZUxvZ2luO1xuICAgIGN0cmwucmVnaXN0ZXIgPSByZWdpc3RlcjtcbiAgICBjdHJsLmxvZ2luID0gbG9naW47XG4gICAgY3RybC5yZXNldCA9IHJlc2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gdG9nZ2xlUmVnaXN0ZXIoKSB7XG4gICAgY3RybC5zaG93UmVnaXN0ZXIgPSAhY3RybC5zaG93UmVnaXN0ZXI7XG4gICAgY3RybC5zaG93TG9naW4gPSAhY3RybC5zaG93TG9naW47XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVSZXNldChldmVudCkge1xuICAgIGN0cmwudXNlckVtYWlsID0gZXZlbnQuZW1haWw7XG4gICAgY3RybC5zaG93UmVzZXQgPSAhY3RybC5zaG93UmVzZXQ7XG4gICAgY3RybC5zaG93TG9naW4gPSAhY3RybC5zaG93TG9naW47XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVMb2dpbigpIHtcbiAgICBjdHJsLnNob3dMb2dpbiA9ICFjdHJsLnNob3dMb2dpbjtcbiAgICBjdHJsLnNob3dSZXNldCA9ICFjdHJsLnNob3dSZXNldDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZ2luKGV2ZW50KSB7XG4gICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmxvZ2luKGV2ZW50LnVzZXIpXG4gIH1cblxuICBmdW5jdGlvbiByZWdpc3RlcihldmVudCkge1xuICAgIHJldHVybiBBdXRoU2VydmljZS5yZWdpc3RlcihldmVudC51c2VyKVxuICAgICAgLnNpZ25VcChudWxsKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBhbGVydChcIkEgdmVyZmljYXRpb24gZW1haWwgaGFzIGJlZW4gc2VudCB0byBcIiArIGV2ZW50LnVzZXIuZW1haWwpXG4gICAgICAgIHJldHVybiBBdXRoU2VydmljZS5sb2dvdXQoKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRvZ2dsZVJlZ2lzdGVyKCk7XG4gICAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4gYWxlcnQoZXJyb3IpKVxuICB9XG5cbiAgLy9UT0RPIHB1dCBsb2dpYyBpbiBBdXRoU2VydmljZVxuICBmdW5jdGlvbiByZXNldChlbWFpbCkge1xuICAgIGlmIChlbWFpbCkge1xuICAgICAgUGFyc2UuVXNlclxuICAgICAgICAucmVxdWVzdFBhc3N3b3JkUmVzZXQoZW1haWwpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBhbGVydCgnQSBwYXNzd29yZCByZXNldCBlbWFpbCBoYXMgYmVlbiBzZW50IHRvICcgKyBlbWFpbCk7XG4gICAgICAgICAgdG9nZ2xlTG9naW4oKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgYWxlcnQoZXJyLmNvZGUgKyBcIiBcIiArIGVyci5tZXNzYWdlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJylcbiAgLmNvbnRyb2xsZXIoJ0F1dGhDb250cm9sbGVyJywgQXV0aENvbnRyb2xsZXIpO1xuIiwiLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgY29tcG9uZW50cy5hdXRoOkF1dGhTZXJ2aWNlXG4gKlxuICogQGRlc2NyaXB0aW9uIEhhbmRsZXMgYXV0aGVudGljYXRpb24gZm9yIGFwcFxuICovXG5cbmZ1bmN0aW9uIEF1dGhTZXJ2aWNlKFBhcnNlLCAkc3RhdGUsICRyb290U2NvcGUpIHtcbiAgdmFyIGF1dGggPSBuZXcgUGFyc2UuVXNlcigpOyAvLyBjcmVhdGVzIGEgbmV3IHVzZXIgaW4gUGFyc2VcbiAgdmFyIGN1cnJlbnRVc2VyID0gbnVsbDsgLy9ob2xkcyBpbmZvIGFib3V0IGN1cnJlbnQgdXNlclxuICAvLyB2YXIgaXNMb2dpbiA9IGZhbHNlOyAvL3NlbmRzIHNpZ25hbCB0byBjb250cm9sbGVyIG9uIHdoZXRoZXIgdG8gcm91dGUgdG8gbG9naW4gdGFiXG5cbiAgLy90aGlzLmlzTG9naW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBBdXRoU2VydmljZSNzdG9yZUF1dGhEYXRhXG4gICAqIEBtZXRob2RPZiBjb21wb25lbnRzLmF1dGg6QXV0aFNlcnZpY2VcbiAgICogQHBhcmFtIHtvYmplY3R9IG9iaiBQYXJzZSB1c2VyIG9iamVjdFxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSByZXR1cm5zIGN1cnJlbnRVc2VyIG9iamVjdFxuICAgKi9cblxuICBmdW5jdGlvbiBzdG9yZUF1dGhEYXRhKHJlc3BvbnNlKSB7XG4gICAgY3VycmVudFVzZXIgPSByZXNwb25zZTtcbiAgICByZXNwb25zZSA9IFBhcnNlLlVzZXIuY3VycmVudCgpO1xuICAgIHJldHVybiBjdXJyZW50VXNlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIEF1dGhTZXJ2aWNlI2NsZWFyQXV0aERhdGFcbiAgICogQG1ldGhvZE9mIGNvbXBvbmVudHMuYXV0aDpBdXRoU2VydmljZVxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSByZXR1cm5zIGEgYmxhbmsgdXNlciBvYmplY3RcbiAgICovXG5cbiAgZnVuY3Rpb24gY2xlYXJBdXRoRGF0YSgpIHtcbiAgICBjdXJyZW50VXNlciA9IFBhcnNlLlVzZXIuY3VycmVudCgpOyAvLyB0aGlzIHdpbGwgbm93IGJlIG51bGxcbiAgICByZXR1cm4gY3VycmVudFVzZXI7XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBBdXRoU2VydmljZSNsb2dpblxuICAgKiBAbWV0aG9kT2YgY29tcG9uZW50cy5hdXRoOkF1dGhTZXJ2aWNlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogdXNlciBkYXRhIGZyb20gYXV0aC1mb3JtXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHJldHVybnMgdGhlIGN1cnJlbnQgdXNlciBvYmplY3RcbiAgICovXG5cbiAgdGhpcy5sb2dpbiA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICBsZXQgdXNlclR5cGUgPSB1c2VyLnR5cGVcbiAgICByZXR1cm4gUGFyc2UuVXNlclxuICAgICAgLmxvZ0luKHVzZXIuZW1haWwsIHVzZXIucGFzc3dvcmQpXG4gICAgICAudGhlbih1c2VyID0+IHtcbiAgICAgICAgaWYgKHVzZXIuYXR0cmlidXRlcy5lbWFpbFZlcmlmaWVkICYmIHVzZXIuYXR0cmlidXRlcy50eXBlID09PSB1c2VyVHlwZSkge1xuICAgICAgICAgIHN0b3JlQXV0aERhdGEoKVxuICAgICAgICAgIGlmICh1c2VyVHlwZSA9PT0gJ1NUVURFTlQnKSB7XG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3N0dWRlbnQtYXBwJylcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHN0YXRlLmdvKCd0dXRvci1hcHAnKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmxvZ291dCgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGFsZXJ0KCdQbGVhc2UgdmVyaWZ5IGVtYWlsIGFkZHJlc3Mgb3IgZW5zdXJlIHlvdSBhcmUgbG9nZ2luZyBpbiBhcyB0aGUgY29ycmVjdCB1c2VyIHR5cGUuJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yID0+IGFsZXJ0KGVycm9yKSlcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBBdXRoU2VydmljZSNyZWdpc3RlclxuICAgKiBAbWV0aG9kT2YgY29tcG9uZW50cy5hdXRoOkF1dGhTZXJ2aWNlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogdXNlciBkYXRhIGZyb20gYXV0aC1mb3JtXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHJldHVybnMgdGhlIGN1cnJlbnQgdXNlciBvYmplY3RcbiAgICovXG5cbiAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICBhdXRoLnNldChcInVzZXJuYW1lXCIsIHVzZXIuZW1haWwpO1xuICAgIGF1dGguc2V0KFwiZmlyc3RuYW1lXCIsIHVzZXIuZmlyc3RuYW1lKTtcbiAgICBhdXRoLnNldChcImxhc3RuYW1lXCIsIHVzZXIubGFzdG5hbWUpO1xuICAgIGF1dGguc2V0KFwicGFzc3dvcmRcIiwgdXNlci5wYXNzd29yZCk7XG4gICAgYXV0aC5zZXQoXCJlbWFpbFwiLCB1c2VyLmVtYWlsKTtcbiAgICBhdXRoLnNldChcInR5cGVcIiwgdXNlci50eXBlKVxuICAgIHJldHVybiBhdXRoXG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgQXV0aFNlcnZpY2UjbG9nb3V0XG4gICAqIEBtZXRob2RPZiBjb21wb25lbnRzLmF1dGg6QXV0aFNlcnZpY2VcbiAgICogQHJldHVybnMge29iamVjdH0gcmV0dXJucyBhbiBlbXB0eSB1c2VyIG9iamVjdFxuICAgKi9cblxuICB0aGlzLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBQYXJzZS5Vc2VyLmxvZ091dCgpXG4gICAgICAudGhlbihjbGVhckF1dGhEYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBBdXRoU2VydmljZSNyZXF1aXJlQXV0aGVudGljYXRpb25cbiAgICogQG1ldGhvZE9mIGNvbXBvbmVudHMuYXV0aDpBdXRoU2VydmljZVxuICAgKiBAcmV0dXJucyB7cHJvbWlzZX0gcmV0dXJucyByZXNvbHZlIG9yIHJlamVjdCBiYXNlZCBvbiB1c2VyIGF1dGhlbnRpY2F0aW9uXG4gICAqL1xuXG4gIHRoaXMucmVxdWlyZUF1dGhlbnRpY2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgaWYgKCEhUGFyc2UuVXNlci5jdXJyZW50KCkgJiYgUGFyc2UuVXNlci5jdXJyZW50KClcbiAgICAgICAgLmF1dGhlbnRpY2F0ZWQoKSkge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWplY3QoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIEF1dGhTZXJ2aWNlI2lzQXV0aGVudGljYXRlZFxuICAgKiBAbWV0aG9kT2YgY29tcG9uZW50cy5hdXRoOkF1dGhTZXJ2aWNlXG4gICAqIEByZXR1cm5zIHtib29sZWFufSByZXR1cm5zIHdoZXRoZXIgdXNlciBpcyBhdXRoZW50aWNhdGVkIGJhc2VkIG9uIHNlc3Npb25TdG9yYWdlXG4gICAqL1xuXG4gIHRoaXMuaXNBdXRoZW50aWNhdGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICEhKFBhcnNlLlVzZXIuY3VycmVudCgpICYmIFBhcnNlLlVzZXIuY3VycmVudCgpXG4gICAgICAuYXV0aGVudGljYXRlZCgpKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBBdXRoU2VydmljZSNnZXRVc2VyXG4gICAqIEBtZXRob2RPZiBjb21wb25lbnRzLmF1dGg6QXV0aFNlcnZpY2VcbiAgICogQHJldHVybnMge29iamVjdH0gcmV0dXJucyBjdXJyZW50VXNlciBzZXNzaW9uU3RvcmFnZSBvYmplY3RcbiAgICovXG5cbiAgdGhpcy5nZXRVc2VyID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGF1dGgpIHtcbiAgICAgIHJldHVybiBhdXRoO1xuICAgIH1cbiAgfTtcblxufTtcblxuYW5ndWxhclxuICAubW9kdWxlKCdjb21wb25lbnRzLmF1dGgnKVxuICAuc2VydmljZSgnQXV0aFNlcnZpY2UnLCBBdXRoU2VydmljZSk7XG4iLCJ2YXIgaG91cnMgPSB7XG4gIHRlbXBsYXRlVXJsOiAnLi9ob3Vycy5odG1sJyxcbiAgY29udHJvbGxlcjogJ0hvdXJzQ29udHJvbGxlcicsXG4gIGJpbmRpbmdzOiB7fVxufVxuXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ2NvbXBvbmVudHMuaG91cnMnKVxuICAuY29tcG9uZW50KCdob3VycycsIGhvdXJzKVxuICAuY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2hvdXJzJywge1xuICAgICAgcGFyZW50OiAndHV0b3ItYXBwJyxcbiAgICAgIHVybDogJ3R1dG9yL2hvdXJzJyxcbiAgICAgIGNvbXBvbmVudDogJ2hvdXJzJ1xuICAgIH0pXG4gIH0pO1xuIiwiZnVuY3Rpb24gSG91cnNDb250cm9sbGVyKCRtZFNpZGVuYXYsICRyb290U2NvcGUpIHtcbiAgdmFyIGN0cmwgPSB0aGlzO1xuXG4gIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vZGVmaW5lIHZhcmlhYmxlc1xuICAgIGN0cmwudXNlciA9ICRyb290U2NvcGUuY3VycmVudFVzZXI7XG5cbiAgICAvL2RlZmluZSBmdW5jdGlvbnNcblxuICB9XG59XG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnY29tcG9uZW50cy5ob3VycycpXG4gIC5jb250cm9sbGVyKCdIb3Vyc0NvbnRyb2xsZXInLCBIb3Vyc0NvbnRyb2xsZXIpO1xuIiwidmFyIG1lbW9zID0ge1xuICAgIHRlbXBsYXRlVXJsOiAnLi9tZW1vcy5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnTWVtb3NDb250cm9sbGVyJyxcbiAgICBiaW5kaW5nczoge31cbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMubWVtb3MnKVxuICAgIC5jb21wb25lbnQoJ21lbW9zJywgbWVtb3MpXG4gICAgLmNvbmZpZyhmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ21lbW9zJywge1xuICAgICAgICAgICAgcGFyZW50OiAnYXBwJyxcbiAgICAgICAgICAgIHVybDogJ21lbW9zJyxcbiAgICAgICAgICAgIGNvbXBvbmVudDogJ21lbW9zJ1xuICAgICAgICB9KVxuICAgIH0pO1xuIiwiZnVuY3Rpb24gTWVtb3NDb250cm9sbGVyKCRzdGF0ZSkge1xuXG4gICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIH1cblxufVxuXG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21wb25lbnRzLm1lbW9zJylcbiAgICAuY29udHJvbGxlcignTWVtb3NDb250cm9sbGVyJywgTWVtb3NDb250cm9sbGVyKTtcbiIsInZhciBzdHVkZW50ID0ge1xuICB0ZW1wbGF0ZVVybDogJy4vc3R1ZGVudC5odG1sJyxcbiAgY29udHJvbGxlcjogJ1N0dWRlbnRDb250cm9sbGVyJyxcbiAgYmluZGluZ3M6IHt9XG59XG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnY29tcG9uZW50cy5zdHVkZW50JylcbiAgLmNvbXBvbmVudCgnc3R1ZGVudCcsIHN0dWRlbnQpXG4gIC5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnc3R1ZGVudCcsIHtcbiAgICAgIHBhcmVudDogJ3N0dWRlbnQtYXBwJyxcbiAgICAgIHVybDogJ3N0dWRlbnQnLFxuICAgICAgY29tcG9uZW50OiAnc3R1ZGVudCdcbiAgICB9KVxuICB9KTtcbiIsImZ1bmN0aW9uIFN0dWRlbnRDb250cm9sbGVyKCkge1xuXG4gICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIH1cblxufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tcG9uZW50cy5zdHVkZW50JylcbiAgICAuY29udHJvbGxlcignU3R1ZGVudENvbnRyb2xsZXInLCBTdHVkZW50Q29udHJvbGxlcik7XG4iLCJ2YXIgdXBsb2FkcyA9IHtcbiAgdGVtcGxhdGVVcmw6ICcuL3VwbG9hZHMuaHRtbCcsXG4gIGNvbnRyb2xsZXI6ICdVcGxvYWRzQ29udHJvbGxlcicsXG4gIGJpbmRpbmdzOiB7fVxufVxuXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ2NvbXBvbmVudHMudXBsb2FkcycpXG4gIC5jb21wb25lbnQoJ3VwbG9hZHMnLCB1cGxvYWRzKVxuICAuY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ3VwbG9hZHMnLCB7XG4gICAgICBwYXJlbnQ6ICd0dXRvci1hcHAnLFxuICAgICAgdXJsOiAndHV0b3IvdXBsb2FkcycsXG4gICAgICBjb21wb25lbnQ6ICd1cGxvYWRzJ1xuICAgIH0pXG4gIH0pO1xuIiwiZnVuY3Rpb24gVXBsb2Fkc0NvbnRyb2xsZXIoJG1kU2lkZW5hdiwgJHJvb3RTY29wZSkge1xuXG4gIHZhciBjdHJsID0gdGhpcztcbiAgY3RybC4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgLy9kZWZpbmUgdmFyaWFibGVzXG4gICAgY3RybC51c2VyID0gJHJvb3RTY29wZS5jdXJyZW50VXNlcjtcblxuICAgIC8vZGVmaW5lIGZ1bmN0aW9uc1xuICAgIGNvbnNvbGUubG9nKCRyb290U2NvcGUuY3VycmVudFVzZXIuaWQpO1xuICB9XG59XG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnY29tcG9uZW50cy51cGxvYWRzJylcbiAgLmNvbnRyb2xsZXIoJ1VwbG9hZHNDb250cm9sbGVyJywgVXBsb2Fkc0NvbnRyb2xsZXIpO1xuIiwidmFyIGF1dGhGb3JtID0ge1xuICAgIGJpbmRpbmdzOiB7XG4gICAgICAgIHVzZXI6ICc8JyxcbiAgICAgICAgdXNlclR5cGU6ICc8JyxcbiAgICAgICAgYnV0dG9uOiAnQCcsXG4gICAgICAgIG1lc3NhZ2U6ICdAJyxcbiAgICAgICAgb25TdWJtaXQ6ICcmJyxcbiAgICAgICAgb25SZXNldDogJyYnXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJy4vYXV0aC1mb3JtLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdBdXRoRm9ybUNvbnRyb2xsZXInXG59O1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJylcbiAgICAuY29tcG9uZW50KCdhdXRoRm9ybScsIGF1dGhGb3JtKTtcbiIsImZ1bmN0aW9uIEF1dGhGb3JtQ29udHJvbGxlcigpIHtcbiAgXG4gIHZhciBjdHJsID0gdGhpcztcblxuICBjdHJsLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcbiAgICBjdHJsLnN1Ym1pdEZvcm0gPSBzdWJtaXRGb3JtO1xuICAgIGN0cmwucmVzZXQgPSByZXNldDtcbiAgfVxuXG4gIGN0cmwuJG9uQ2hhbmdlcyA9IGZ1bmN0aW9uKGNoYW5nZXMpIHtcbiAgICBpZiAoY2hhbmdlcy51c2VyKSB7XG4gICAgICBjdHJsLnVzZXIgPSBhbmd1bGFyLmNvcHkoY3RybC51c2VyKTtcbiAgICB9XG4gIH07XG5cbi8vIGZ1bmN0aW9uIHBhc3NlcyBjbGljayBldmVudCB3aXRoIHVzZXIgb2JqZWN0IHRvIGxvZ2luIGNvbXBvbmVudFxuICBmdW5jdGlvbiBzdWJtaXRGb3JtKCkge1xuICAgIGN0cmwub25TdWJtaXQoe1xuICAgICAgJGV2ZW50OiB7XG4gICAgICAgIHVzZXI6IGN0cmwudXNlclxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4vLyBmdW5jdGlvbiBwYXNzZXMgY2xpY2sgZXZlbnQgd2l0aCB1c2VyIGVtYWlsIHRvIGxvZ2luIGNvbXBvbmVudFxuICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICBjdHJsLm9uUmVzZXQoe1xuICAgICAgJGV2ZW50OiB7XG4gICAgICAgIGVtYWlsOiBjdHJsLnVzZXIuZW1haWxcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxufVxuXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcpXG4gIC5jb250cm9sbGVyKCdBdXRoRm9ybUNvbnRyb2xsZXInLCBBdXRoRm9ybUNvbnRyb2xsZXIpO1xuIiwidmFyIGxvZ2luID0ge1xuICAgIHRlbXBsYXRlVXJsOiAnLi9sb2dpbi5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyJyxcbiAgICBiaW5kaW5nczoge1xuICAgICAgdXNlclR5cGU6ICdAJyxcbiAgICAgIG9uUmVnaXN0ZXI6ICcmJyxcbiAgICAgIG9uUmVzZXQ6ICcmJyxcbiAgICAgIG9uTG9naW46ICcmJ1xuICAgIH1cbn07XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21wb25lbnRzLmF1dGgnKVxuICAgIC5jb21wb25lbnQoJ2xvZ2luJywgbG9naW4pO1xuIiwiZnVuY3Rpb24gTG9naW5Db250cm9sbGVyKEF1dGhTZXJ2aWNlLCAkc3RhdGUpIHtcbiAgdmFyIGN0cmwgPSB0aGlzO1xuXG4gIC8vaW5pdGlhbGl6ZSB1c2VyIGRhdGFcbiAgY3RybC4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgLy9kZWZpbmUgdmFyaWFibGVzXG4gICAgICBjdHJsLnVzZXIgPSB7XG4gICAgICAgICAgZW1haWw6ICcnLFxuICAgICAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgICAgICB0eXBlOiBjdHJsLnVzZXJUeXBlXG4gICAgICB9O1xuXG4gICAgLy8vZGVmaW5lIGZ1bmN0aW9uc1xuICAgIGN0cmwubG9naW4gPSBsb2dpbjtcbiAgICBjdHJsLnJlc2V0ID0gcmVzZXQ7XG4gIH07XG5cbiAgZnVuY3Rpb24gbG9naW4oZXZlbnQpIHtcbiAgICBjdHJsLm9uTG9naW4oe1xuICAgICAgJGV2ZW50OiB7XG4gICAgICAgIHVzZXI6IGV2ZW50LnVzZXJcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiByZXNldChldmVudCkge1xuICAgIGN0cmwub25SZXNldCh7XG4gICAgICAkZXZlbnQ6IHtcbiAgICAgICAgZW1haWw6IGV2ZW50LmVtYWlsXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbn1cblxuYW5ndWxhclxuICAubW9kdWxlKCdjb21wb25lbnRzLmF1dGgnKVxuICAuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgTG9naW5Db250cm9sbGVyKTtcbiIsInZhciByZWdpc3RlciA9IHtcbiAgICB0ZW1wbGF0ZVVybDogJy4vcmVnaXN0ZXIuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1JlZ2lzdGVyQ29udHJvbGxlcicsXG4gICAgYmluZGluZ3M6IHtcbiAgICAgIHVzZXJUeXBlOiAnQCcsXG4gICAgICBvbkxvZ2luOiAnJicsXG4gICAgICBvblJlZ2lzdGVyOiAnJidcbiAgICB9XG59O1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJylcbiAgICAuY29tcG9uZW50KCdyZWdpc3RlcicsIHJlZ2lzdGVyKTtcbiIsImZ1bmN0aW9uIFJlZ2lzdGVyQ29udHJvbGxlcigpIHtcbiAgdmFyIGN0cmwgPSB0aGlzO1xuXG4gIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vZGVmaW5lIHZhcmlhYmxlc1xuICAgIGN0cmwuZXJyb3IgPSBudWxsO1xuICAgIGN0cmwudXNlciA9IHtcbiAgICAgIGVtYWlsOiAnJyxcbiAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgIHR5cGU6IGN0cmwudXNlclR5cGVcbiAgICB9O1xuICAgIC8vL2RlZmluZSBmdW5jdGlvbnNcbiAgICBjdHJsLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVnaXN0ZXIoZXZlbnQpIHtcbiAgICBjdHJsLm9uUmVnaXN0ZXIoe1xuICAgICAgJGV2ZW50OiB7XG4gICAgICAgIHVzZXI6IGV2ZW50LnVzZXJcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn1cblxuYW5ndWxhclxuICAubW9kdWxlKCdjb21wb25lbnRzLmF1dGgnKVxuICAuY29udHJvbGxlcignUmVnaXN0ZXJDb250cm9sbGVyJywgUmVnaXN0ZXJDb250cm9sbGVyKTtcbiIsInZhciByZXNldCA9IHtcbiAgICB0ZW1wbGF0ZVVybDogJy4vcmVzZXQuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1Jlc2V0Q29udHJvbGxlcicsXG4gICAgYmluZGluZ3M6IHtcbiAgICAgIG9uTG9naW46ICcmJyxcbiAgICAgIHVzZXJUeXBlOiAnQCcsXG4gICAgICB1c2VyRW1haWw6ICc8JyxcbiAgICAgIG9uUmVzZXQ6ICcmJ1xuICAgIH1cbn07XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21wb25lbnRzLmF1dGgnKVxuICAgIC5jb21wb25lbnQoJ3Jlc2V0JywgcmVzZXQpO1xuIiwiZnVuY3Rpb24gUmVzZXRDb250cm9sbGVyKCkge1xuXG59XG5cblxuYW5ndWxhclxuICAubW9kdWxlKCdjb21wb25lbnRzLmF1dGgnKVxuICAuY29udHJvbGxlcignUmVzZXRDb250cm9sbGVyJywgUmVzZXRDb250cm9sbGVyKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd0ZW1wbGF0ZXMnLCBbXSkucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkgeyR0ZW1wbGF0ZUNhY2hlLnB1dCgnLi9yb290Lmh0bWwnLCc8ZGl2IGNsYXNzPVwicm9vdFwiPlxcbiAgICA8ZGl2IHVpLXZpZXc+PC9kaXY+XFxuPC9kaXY+XFxuJyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJy4vYXBwLW5hdi5odG1sJywnPG1kLXRvb2xiYXIgY2xhc3M9XCJtZC1zY3JvbGwtc2hyaW5rIGJhY2tncm91bmRcIiBmbGV4PlxcbiAgPGRpdiBjbGFzcz1cIm1kLXRvb2xiYXItdG9vbHNcIiBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtYWxpZ249XCJzcGFjZS1iZXR3ZWVuIGNlbnRlclwiPlxcbiAgICA8ZGl2PlxcbiAgICAgIDxtZC1idXR0b24gbmctY2xpY2s9XCIkY3RybC50b2dnbGVMZWZ0KClcIiBjbGFzcz1cIm1kLWljb24tYnV0dG9uXCI+XFxuICAgICAgICA8aW1nIHNyYz1cImltZy97eyRjdHJsLmxlZnRJY29ufX0uc3ZnXCIgLz5cXG4gICAgICA8L21kLWJ1dHRvbj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXY+XFxuICAgICAgPGgxIGNsYXNzPVwidGV4dC0td2VpZ2h0Qm9sZCB0ZXh0LS11cHBlckNhc2VcIiBzdHlsZT1cImNvbG9yOiAjMmI1NTcwXCI+e3sgJGN0cmwudGl0bGUgfX08L2gxPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdj5cXG4gICAgICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwiXCIgY2xhc3M9XCJtZC1pY29uLWJ1dHRvblwiPlxcbiAgICAgICAgPGkgc3R5bGU9XCJjb2xvcjogIzJiNTU3MFwiIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj57eyRjdHJsLnJpZ2h0SWNvbn19PC9pPlxcbiAgICAgIDwvbWQtYnV0dG9uPlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcbjwvbWQtdG9vbGJhcj5cXG4nKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dCgnLi9hcHAtc2lkZW5hdi5odG1sJywnPG1kLXNpZGVuYXYgY2xhc3M9XCJtZC1zaWRlbmF2LWxlZnQgc2lkZU5hdkxlZnQtLXdpZHRoIGhlaWdodC0tZnVsbCBiYWNrZ3JvdW5kLS1iYXNlQ29sb3JcIiBtZC1jb21wb25lbnQtaWQ9XCJsZWZ0XCIgbWQtd2hpdGVmcmFtZT1cIjRcIiBmbGV4PlxcblxcbiAgPG1kLWNvbnRlbnQgY2xhc3M9XCJiYWNrZ3JvdW5kLS1iYXNlQ29sb3JcIj5cXG4gICAgPG1kLWNhcmQgY2xhc3M9XCJiYWNrZ3JvdW5kIHNpZGVOYXZMZWZ0X191c2VyQ2FyZFwiPlxcbiAgICAgIDxtZC1jYXJkLXRpdGxlIGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cInNwYWNlLWFyb3VuZCBjZW50ZXJcIj5cXG4gICAgICAgIDxkaXY+XFxuICAgICAgICAgIDxpbWcgc3JjPVwiaW1nL211Z2h1Yl9fbG9nb2ljb24ucG5nXCIgd2lkdGg9XCI2MHB4XCIgLz5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdj5cXG4gICAgICAgICAgPHAgc3R5bGU9XCJjb2xvcjogIzJiNTU3MFwiIGNsYXNzPVwidGV4dC0tcmlnaHQgdGV4dC0td2VpZ2h0Qm9sZCB0ZXh0LS11cHBlckNhc2UgbWQtYm9keS0xXCI+e3sgJGN0cmwudXNlci5hdHRyaWJ1dGVzLmZpcnN0bmFtZSB9fSB7eyAkY3RybC51c2VyLmF0dHJpYnV0ZXMubGFzdG5hbWUgfX08L3A+XFxuICAgICAgICAgIDxwIHN0eWxlPVwiY29sb3I6ICMyYjU1NzBcIiBjbGFzcz1cInRleHQtLXJpZ2h0IHRleHQtLXVwcGVyQ2FzZSBtZC1jYXB0aW9uXCI+e3sgJGN0cmwudXNlci5hdHRyaWJ1dGVzLnR5cGUgfX08L3A+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L21kLWNhcmQtdGl0bGU+XFxuICAgIDwvbWQtY2FyZD5cXG4gICAgPGRpdiBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgY2VudGVyXCI+XFxuICAgICAgPG1kLWxpc3QtaXRlbSBuZy1jbGljaz1cIiRjdHJsLmdvVG9VcGxvYWRzKClcIiBtZC1pbmstcmlwcGxlPVwiIzJiNTU3MFwiIGNsYXNzPVwic2lkZU5hdkxlZnRfX29wdGlvbnNcIj5cXG4gICAgICAgIDxwIHN0eWxlPVwiY29sb3I6ICNlYWVhZWFcIiBjbGFzcz1cInRleHQtLWNlbnRlciB0ZXh0LS13ZWlnaHRCb2xkIHRleHQtLXVwcGVyQ2FzZVwiPlVQTE9BRFM8L3A+XFxuICAgICAgPC9tZC1saXN0LWl0ZW0+XFxuICAgICAgPG1kLWxpc3QtaXRlbSBuZy1jbGljaz1cIiRjdHJsLmdvVG9Ib3VyTG9nKClcIiBtZC1pbmstcmlwcGxlPVwiIzJiNTU3MFwiIGNsYXNzPVwic2lkZU5hdkxlZnRfX29wdGlvbnNcIj5cXG4gICAgICAgIDxwIHN0eWxlPVwiY29sb3I6ICNlYWVhZWFcIiBjbGFzcz1cInRleHQtLWNlbnRlciB0ZXh0LS13ZWlnaHRCb2xkIHRleHQtLXVwcGVyQ2FzZVwiPkhPVVIgTE9HPC9wPlxcbiAgICAgIDwvbWQtbGlzdC1pdGVtPlxcbiAgICAgIDxtZC1saXN0LWl0ZW0gbmctY2xpY2s9XCIkY3RybC5sb2dvdXQoKVwiIG1kLWluay1yaXBwbGU9XCIjMmI1NTcwXCIgY2xhc3M9XCJzaWRlTmF2TGVmdF9fb3B0aW9uc1wiIGZsZXg+XFxuICAgICAgICA8cCBzdHlsZT1cImNvbG9yOiAjZGU2NjAwXCIgY2xhc3M9XCJ0ZXh0LS1jZW50ZXIgdGV4dC0td2VpZ2h0Qm9sZCB0ZXh0LS11cHBlckNhc2VcIj5MT0dPVVQ8L3A+XFxuICAgICAgPC9tZC1saXN0LWl0ZW0+XFxuICAgIDwvZGl2PlxcbiAgPC9tZC1jb250ZW50PlxcblxcbjwvbWQtc2lkZW5hdj5cXG4nKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dCgnLi9zdHVkZW50LWFwcC5odG1sJywnPGRpdiBjbGFzcz1cInJvb3RcIj5cXG4gICAgPCEtLSA8YXBwLW5hdiB1c2VyPVwiJGN0cmwudXNlclwiIG9uLWxvZ291dD1cIiRjdHJsLmxvZ291dCgpO1wiPjwvYXBwLW5hdj4gLS0+XFxuICAgIDwhLS0gPG1kLXNpZGVuYXYgZmxleC1vcmRlcj1cIjJcIiBtZC1jb21wb25lbnQtaWQ9XCJzaWRlXCIgbWQtd2hpdGVmcmFtZT1cIjNcIiBtZC1kaXNhYmxlLWJhY2tkcm9wIGNsYXNzPVwibWQtc2lkZW5hdi1yaWdodCBtZC1uby1wYWdpbmF0aW9uIGFwcF9fc2lkZW5hdi0taGVpZ2h0IGFwcF9fc2lkZW5hdi0td2lkdGggYXBwX19zaWRlbmF2LS1wb3NpdGlvbiBhcHBfX3NpZGVuYXYtLW92ZXJmbG93LXhcIj5cXG4gICAgICAgIDxkaXYgdWktdmlldz1cInNpZGVcIj48L2Rpdj5cXG4gICAgPC9tZC1zaWRlbmF2PiAtLT5cXG4gICAgPGRpdj5cXG4gICAgICAgIDxkaXYgdWktdmlldz48L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuJyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJy4vdHV0b3ItYXBwLmh0bWwnLCc8ZGl2IGNsYXNzPVwicm9vdFwiPlxcbiAgICA8IS0tIDxhcHAtbmF2IHVzZXI9XCIkY3RybC51c2VyXCIgb24tbG9nb3V0PVwiJGN0cmwubG9nb3V0KCk7XCI+PC9hcHAtbmF2PiAtLT5cXG4gICAgPCEtLSA8bWQtc2lkZW5hdiBmbGV4LW9yZGVyPVwiMlwiIG1kLWNvbXBvbmVudC1pZD1cInNpZGVcIiBtZC13aGl0ZWZyYW1lPVwiM1wiIG1kLWRpc2FibGUtYmFja2Ryb3AgY2xhc3M9XCJtZC1zaWRlbmF2LXJpZ2h0IG1kLW5vLXBhZ2luYXRpb24gYXBwX19zaWRlbmF2LS1oZWlnaHQgYXBwX19zaWRlbmF2LS13aWR0aCBhcHBfX3NpZGVuYXYtLXBvc2l0aW9uIGFwcF9fc2lkZW5hdi0tb3ZlcmZsb3cteFwiPlxcbiAgICAgICAgPGRpdiB1aS12aWV3PVwic2lkZVwiPjwvZGl2PlxcbiAgICA8L21kLXNpZGVuYXY+IC0tPlxcbiAgICA8ZGl2PlxcbiAgICAgICAgPGRpdiB1aS12aWV3PjwvZGl2PlxcbiAgICA8L2Rpdj5cXG48L2Rpdj5cXG4nKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dCgnLi9hdXRoLmh0bWwnLCc8bWQtY29udGVudCBjbGFzcz1cImJhY2tncm91bmQgaGVpZ2h0LS1mdWxsIHdpZHRoLS1mdWxsXCIgbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIGNlbnRlclwiPlxcblxcbiAgPGRpdj5cXG4gICAgPGltZyBzcmM9XCJpbWcvbXVnaHViX2xvZ28ucG5nXCIgd2lkdGg9XCIxNzBweFwiIC8+XFxuICA8L2Rpdj5cXG5cXG4gIDxkaXYgY2xhc3M9XCJ3aWR0aC0tZnVsbCBhdXRoLS1hbmltYXRpb24gbmctZW50ZXJcIiBzdHlsZT1cIm1hcmdpbi10b3A6IC0zMHB4O1wiPlxcbiAgICA8bWQtdGFicyBjbGFzcz1cIndpZHRoLS1mdWxsIG1kLW5vLWFuaW1hdGlvblwiIG1kLWNlbnRlci10YWJzPVwidHJ1ZVwiIG1kLWR5bmFtaWMtaGVpZ2h0PlxcblxcbiAgICAgIDxtZC10YWIgbGFiZWw9XCJTVFVERU5UXCI+XFxuICAgICAgICA8bWQtY29udGVudCBjbGFzcz1cImJhY2tncm91bmQgYXV0aC0tYW5pbWF0aW9uIG5nLWVudGVyXCI+XFxuICAgICAgICAgIDxsb2dpbiBuZy1pZj1cIiRjdHJsLnNob3dMb2dpblwiIG9uLWxvZ2luPVwiJGN0cmwubG9naW4oJGV2ZW50KVwiIG9uLXJlZ2lzdGVyPVwiJGN0cmwudG9nZ2xlUmVnaXN0ZXIoKVwiIG9uLXJlc2V0PVwiJGN0cmwudG9nZ2xlUmVzZXQoJGV2ZW50KVwiIHVzZXItdHlwZT1cIlNUVURFTlRcIj48L2xvZ2luPlxcbiAgICAgICAgICA8cmVnaXN0ZXIgbmctaWY9XCIkY3RybC5zaG93UmVnaXN0ZXJcIiBvbi1yZWdpc3Rlcj1cIiRjdHJsLnJlZ2lzdGVyKCRldmVudClcIiBvbi1sb2dpbj1cIiRjdHJsLnRvZ2dsZVJlZ2lzdGVyKClcIiB1c2VyLXR5cGU9XCJTVFVERU5UXCI+PC9yZWdpc3Rlcj5cXG4gICAgICAgICAgPHJlc2V0IG5nLWlmPVwiJGN0cmwuc2hvd1Jlc2V0XCIgb24tcmVzZXQ9XCIkY3RybC5yZXNldCgkY3RybC51c2VyRW1haWwpXCIgb24tbG9naW49XCIkY3RybC50b2dnbGVMb2dpbigpXCIgdXNlci10eXBlPVwiU1RVREVOVFwiIHVzZXItZW1haWw9XCIkY3RybC51c2VyRW1haWxcIj48L3Jlc2V0PlxcbiAgICAgICAgPC9tZC1jb250ZW50PlxcbiAgICAgIDwvbWQtdGFiPlxcblxcbiAgICAgIDxtZC10YWIgbGFiZWw9XCJUVVRPUlwiPlxcbiAgICAgICAgPG1kLWNvbnRlbnQgY2xhc3M9XCJiYWNrZ3JvdW5kIGF1dGgtLWFuaW1hdGlvbiBuZy1lbnRlclwiPlxcbiAgICAgICAgICA8bG9naW4gbmctaWY9XCIkY3RybC5zaG93TG9naW5cIiBvbi1sb2dpbj1cIiRjdHJsLmxvZ2luKCRldmVudClcIiBvbi1yZWdpc3Rlcj1cIiRjdHJsLnRvZ2dsZVJlZ2lzdGVyKClcIiBvbi1yZXNldD1cIiRjdHJsLnRvZ2dsZVJlc2V0KCRldmVudClcIiB1c2VyLXR5cGU9XCJUVVRPUlwiPjwvbG9naW4+XFxuICAgICAgICAgIDxyZWdpc3RlciBuZy1pZj1cIiRjdHJsLnNob3dSZWdpc3RlclwiIG9uLXJlZ2lzdGVyPVwiJGN0cmwucmVnaXN0ZXIoJGV2ZW50KVwiIG9uLWxvZ2luPVwiJGN0cmwudG9nZ2xlUmVnaXN0ZXIoKVwiIHVzZXItdHlwZT1cIlRVVE9SXCI+PC9yZWdpc3Rlcj5cXG4gICAgICAgICAgPHJlc2V0IG5nLWlmPVwiJGN0cmwuc2hvd1Jlc2V0XCIgb24tcmVzZXQ9XCIkY3RybC5yZXNldCgkY3RybC51c2VyRW1haWwpXCIgb24tbG9naW49XCIkY3RybC50b2dnbGVMb2dpbigpXCIgdXNlci10eXBlPVwiVFVUT1JcIiB1c2VyLWVtYWlsPVwiJGN0cmwudXNlckVtYWlsXCI+PC9yZXNldD5cXG4gICAgICAgIDwvbWQtY29udGVudD5cXG4gICAgICA8L21kLXRhYj5cXG5cXG4gICAgPC9tZC10YWJzPlxcbiAgPC9kaXY+XFxuXFxuPC9tZC1jb250ZW50PlxcbicpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KCcuL2hvdXJzLmh0bWwnLCc8ZGl2IGxheW91dD1cInJvd1wiIGNsYXNzPVwiYXV0aC0tYW5pbWF0aW9uXCIgZmxleD5cXG5cXG4gIDxhcHAtc2lkZW5hdj48L2FwcC1zaWRlbmF2PlxcblxcbiAgPG1kLWNvbnRlbnQgY2xhc3M9XCJiYWNrZ3JvdW5kXCIgZmxleD5cXG5cXG4gICAgPGFwcC1uYXYgdGl0bGU9XCJob3VyIGxvZ1wiIGxlZnQtaWNvbj1cIm5vdGVzXCIgcmlnaHQtaWNvbj1cImdyb3VwXCI+PC9hcHAtbmF2PlxcblxcbiAgICA8bWQtY29udGVudCBjbGFzcz1cImJhY2tncm91bmRcIiBmbGV4PlxcbiAgICAgIDxwPlxcbiAgICAgICAgSG91cnMgZ28gaGVyZS5cXG4gICAgICA8L3A+XFxuICAgIDwvbWQtY29udGVudD5cXG5cXG4gIDwvbWQtY29udGVudD5cXG5cXG4gIDxtZC1zaWRlbmF2IGNsYXNzPVwibWQtc2lkZW5hdi1yaWdodCBzaWRlTmF2TGVmdC0td2lkdGggaGVpZ2h0LS1mdWxsIGJhY2tncm91bmQtLWJhc2VDb2xvclwiIG1kLWNvbXBvbmVudC1pZD1cInJpZ2h0XCIgbWQtZGlzYWJsZS1iYWNrZHJvcCBtZC1pcy1sb2NrZWQtb3Blbj1cIiRtZE1lZGlhKFxcJ2d0LXNtXFwnKVwiIG1kLXdoaXRlZnJhbWU9XCIzXCIgZmxleD5cXG5cXG4gICAgPG1kLXRvb2xiYXIgY2xhc3M9XCJtZC1zY3JvbGwtc2hyaW5rIGJhY2tncm91bmQtLWJhc2VDb2xvclwiIGZsZXg+XFxuICAgICAgPGgxIGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImNlbnRlciBjZW50ZXJcIiBjbGFzcz1cIm1kLXRvb2xiYXItdG9vbHMgdGV4dC0tY2VudGVyIHRleHQtLXdlaWdodEJvbGRcIj5TVFVERU5UUzwvaDE+XFxuICAgIDwvbWQtdG9vbGJhcj5cXG5cXG4gICAgPG1kLWNvbnRlbnQgY2xhc3M9XCJiYWNrZ3JvdW5kLS1iYXNlQ29sb3JcIiBsYXlvdXQtbWFyZ2luPlxcbiAgICAgIDxwPlxcbiAgICAgICAgVGhpcyB3aWxsIGJlIHRoZSB0dXRvclxcJ3Mgc3R1ZGVudCBjb250YWN0IGxpc3QuXFxuICAgICAgPC9wPlxcbiAgICA8L21kLWNvbnRlbnQ+XFxuXFxuICA8L21kLXNpZGVuYXY+XFxuXFxuPC9kaXY+XFxuJyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJy4vbWVtb3MuaHRtbCcsJzxkaXY+XFxuICBUaGlzIGlzIHRoZSBhcHAuXFxuPC9kaXY+XFxuJyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJy4vc3R1ZGVudC5odG1sJywnPGRpdj5cXG4gIFRoaXMgaXMgdGhlIHN0dWRlbnQgYXBwLlxcbjwvZGl2PlxcbicpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KCcuL3VwbG9hZHMuaHRtbCcsJzxkaXYgbGF5b3V0PVwicm93XCIgY2xhc3M9XCJhdXRoLS1hbmltYXRpb25cIiBmbGV4PlxcblxcbiAgPGFwcC1zaWRlbmF2PjwvYXBwLXNpZGVuYXY+XFxuXFxuICA8bWQtY29udGVudCBjbGFzcz1cImJhY2tncm91bmRcIiBmbGV4PlxcblxcbiAgICA8YXBwLW5hdiB0aXRsZT1cInVwbG9hZHNcIiBsZWZ0LWljb249XCJub3Rlc1wiIHJpZ2h0LWljb249XCJncm91cFwiPjwvYXBwLW5hdj5cXG5cXG4gICAgPG1kLWNvbnRlbnQgY2xhc3M9XCJiYWNrZ3JvdW5kXCIgZmxleD5cXG4gICAgICA8cD5cXG4gICAgICAgIFVwbG9hZHMgZ28gaGVyZS5cXG4gICAgICA8L3A+XFxuICAgIDwvbWQtY29udGVudD5cXG5cXG4gIDwvbWQtY29udGVudD5cXG5cXG4gIDxtZC1zaWRlbmF2IGNsYXNzPVwibWQtc2lkZW5hdi1yaWdodCBzaWRlTmF2TGVmdC0td2lkdGggaGVpZ2h0LS1mdWxsIGJhY2tncm91bmQtLWJhc2VDb2xvclwiIG1kLWNvbXBvbmVudC1pZD1cInJpZ2h0XCIgbWQtZGlzYWJsZS1iYWNrZHJvcCBtZC1pcy1sb2NrZWQtb3Blbj1cIiRtZE1lZGlhKFxcJ2d0LXNtXFwnKVwiIG1kLXdoaXRlZnJhbWU9XCIzXCIgZmxleD5cXG5cXG4gICAgPG1kLXRvb2xiYXIgY2xhc3M9XCJtZC1zY3JvbGwtc2hyaW5rIGJhY2tncm91bmQtLWJhc2VDb2xvclwiIGZsZXg+XFxuICAgICAgPGgxIGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImNlbnRlciBjZW50ZXJcIiBjbGFzcz1cIm1kLXRvb2xiYXItdG9vbHMgdGV4dC0tY2VudGVyIHRleHQtLXdlaWdodEJvbGRcIj5TVFVERU5UUzwvaDE+XFxuICAgIDwvbWQtdG9vbGJhcj5cXG5cXG4gICAgPG1kLWNvbnRlbnQgY2xhc3M9XCJiYWNrZ3JvdW5kLS1iYXNlQ29sb3JcIiBsYXlvdXQtbWFyZ2luPlxcbiAgICAgIDxwPlxcbiAgICAgICAgVGhpcyB3aWxsIGJlIHRoZSB0dXRvclxcJ3Mgc3R1ZGVudCBjb250YWN0IGxpc3QuXFxuICAgICAgPC9wPlxcbiAgICA8L21kLWNvbnRlbnQ+XFxuXFxuICA8L21kLXNpZGVuYXY+XFxuXFxuPC9kaXY+XFxuJyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJy4vYXV0aC1mb3JtLmh0bWwnLCc8Zm9ybSBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgY2VudGVyXCIgbmFtZT1cImF1dGhGb3JtXCIgbm92YWxpZGF0ZSBuZy1zdWJtaXQ9XCIkY3RybC5zdWJtaXRGb3JtKCk7XCI+XFxuICA8bWQtbGlzdCBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgY2VudGVyXCI+XFxuXFxuICAgIDxkaXYgbmctaWY9XCIkY3RybC5idXR0b24gPT09IFxcJ1JlZ2lzdGVyXFwnXCI+XFxuICAgICAgPG1kLWxpc3QtaXRlbSBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtYWxpZ249XCJzcGFjZS1iZXR3ZWVuIGNlbnRlclwiPlxcblxcbiAgICAgICAgPGRpdj5cXG4gICAgICAgICAgPG1kLWlucHV0LWNvbnRhaW5lciBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgY2VudGVyXCIgY2xhc3M9XCJhdXRoXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiYXV0aF9fbGFiZWwgYXV0aF9fbGFiZWwtLXBhZGRpbmdOYW1lXCI+RklSU1QgTkFNRTwvbGFiZWw+XFxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiYXV0aF9faW5wdXQgYXV0aF9faW5wdXQtLWhlaWdodCBhdXRoX19pbnB1dC0td2lkdGhIYWxmIGF1dGhfX2lucHV0LS1ib3JkZXJSYWRpdXNGaXJzdE5hbWUgdGV4dC0tY2VudGVyIHRleHQtLWZvbnRcIiB0eXBlPVwidGV4dFwiIG5hbWU9XCJmaXJzdG5hbWVcIiBuZy1tb2RlbD1cIiRjdHJsLnVzZXIuZmlyc3RuYW1lXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgLz5cXG4gICAgICAgICAgPC9tZC1pbnB1dC1jb250YWluZXI+XFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXY+XFxuICAgICAgICAgIDxtZC1pbnB1dC1jb250YWluZXIgbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIGNlbnRlclwiIGNsYXNzPVwiYXV0aFwiPlxcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImF1dGhfX2xhYmVsIGF1dGhfX2xhYmVsLS1wYWRkaW5nTmFtZVwiPkxBU1QgTkFNRTwvbGFiZWw+XFxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiYXV0aF9faW5wdXQgYXV0aF9faW5wdXQtLWhlaWdodCBhdXRoX19pbnB1dC0td2lkdGhIYWxmIGF1dGhfX2lucHV0LS1ib3JkZXJSYWRpdXNMYXN0TmFtZSB0ZXh0LS1jZW50ZXIgdGV4dC0tZm9udFwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImxhc3RuYW1lXCIgbmctbW9kZWw9XCIkY3RybC51c2VyLmxhc3RuYW1lXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgLz5cXG4gICAgICAgICAgPC9tZC1pbnB1dC1jb250YWluZXI+XFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICA8L21kLWxpc3QtaXRlbT5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxkaXYgY2xhc3M9XCJhdXRoLS1tYXJnaW5Ub3BcIj5cXG4gICAgICA8bWQtbGlzdC1pdGVtPlxcbiAgICAgICAgPG1kLWlucHV0LWNvbnRhaW5lciBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgY2VudGVyXCIgY2xhc3M9XCJhdXRoXCI+XFxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImF1dGhfX2xhYmVsIGF1dGhfX2xhYmVsLS1wYWRkaW5nXCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBtZC0xNiBhdXRoX19pY29uXCI+ZW1haWw8L2k+RU1BSUw8L2xhYmVsPlxcbiAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJhdXRoX19pbnB1dCBhdXRoX19pbnB1dC0taGVpZ2h0IGF1dGhfX2lucHV0LS13aWR0aCB0ZXh0LS1mb250XCIgdHlwZT1cImVtYWlsXCIgbmFtZT1cImVtYWlsXCIgbmctbW9kZWw9XCIkY3RybC51c2VyLmVtYWlsXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgLz5cXG4gICAgICAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxcbiAgICAgIDwvbWQtbGlzdC1pdGVtPlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPGRpdiBjbGFzcz1cImF1dGgtLW1hcmdpblRvcFwiPlxcbiAgICAgIDxtZC1saXN0LWl0ZW0+XFxuICAgICAgICA8bWQtaW5wdXQtY29udGFpbmVyIGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImNlbnRlciBjZW50ZXJcIiBjbGFzcz1cImF1dGhcIj5cXG4gICAgICAgICAgPGxhYmVsIGNsYXNzPVwiYXV0aF9fbGFiZWwgYXV0aF9fbGFiZWwtLXBhZGRpbmdcIj48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIG1kLTE2IGF1dGhfX2ljb25cIj5sb2NrPC9pPlBBU1NXT1JEPC9sYWJlbD5cXG4gICAgICAgICAgPGlucHV0IGNsYXNzPVwiYXV0aF9faW5wdXQgYXV0aF9faW5wdXQtLWhlaWdodCBhdXRoX19pbnB1dC0td2lkdGggdGV4dC0tZm9udFwiIHR5cGU9XCJwYXNzd29yZFwiIG5hbWU9XCJwYXNzd29yZFwiIG5nLW1vZGVsPVwiJGN0cmwudXNlci5wYXNzd29yZFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIC8+XFxuICAgICAgICA8L21kLWlucHV0LWNvbnRhaW5lcj5cXG4gICAgICAgIDxwIG5nLWlmPVwiJGN0cmwuYnV0dG9uID09PSBcXCdMb2dpblxcJ1wiIG5nLWNsaWNrPVwiJGN0cmwucmVzZXQoKVwiIGNsYXNzPVwiYXV0aF9fcmVzZXRcIj4/PC9wPlxcbiAgICAgIDwvbWQtbGlzdC1pdGVtPlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPGRpdiBjbGFzcz1cImF1dGgtLW1hcmdpblRvcFwiPlxcbiAgICAgIDxtZC1saXN0LWl0ZW0+XFxuICAgICAgICA8bWQtYnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBuZy1kaXNhYmxlZD1cImF1dGhGb3JtLiRpbnZhbGlkXCIgY2xhc3M9XCJtZC1yYWlzZWQgYXV0aF9fYnV0dG9uIGF1dGhfX2lucHV0LS1oZWlnaHQgYXV0aF9faW5wdXQtLXdpZHRoXCI+XFxuICAgICAgICAgIDxoMSBjbGFzcz1cImF1dGhfX2J1dHRvblRleHRcIj57eyAkY3RybC5idXR0b24gfX0gYXMgYSB7eyAkY3RybC51c2VyVHlwZSB9fTwvaDE+XFxuICAgICAgICA8L21kLWJ1dHRvbj5cXG4gICAgICA8L21kLWxpc3QtaXRlbT5cXG4gICAgPC9kaXY+XFxuXFxuXFxuICA8L21kLWxpc3Q+XFxuPC9mb3JtPlxcbicpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KCcuL2xvZ2luLmh0bWwnLCc8ZGl2IGxheW91dD1cImNvbHVtblwiIGxheW91dC1hbGlnbj1cImNlbnRlclwiIGNsYXNzPVwiYXV0aC0tYW5pbWF0aW9uXCI+XFxuICA8ZGl2PlxcbiAgICA8YXV0aC1mb3JtIHVzZXI9XCIkY3RybC51c2VyXCIgdXNlci10eXBlPVwiJGN0cmwudXNlclR5cGVcIiBidXR0b249XCJMb2dpblwiIG9uLXN1Ym1pdD1cIiRjdHJsLmxvZ2luKCRldmVudCk7XCIgb24tcmVzZXQ9XCIkY3RybC5yZXNldCgkZXZlbnQpXCI+XFxuICAgIDwvYXV0aC1mb3JtPlxcbiAgPC9kaXY+XFxuICA8Y2VudGVyPlxcbiAgICA8ZGl2PlxcbiAgICAgIDxhIG5nLWNsaWNrPVwiJGN0cmwub25SZWdpc3RlcigkZXZlbnQpXCIgY2xhc3M9XCJhdXRoX19saW5rXCI+XFxuICAgICAgRG9uXFwndCBoYXZlIGFuIGFjY291bnQ/IENyZWF0ZSBvbmUgaGVyZS5cXG4gICAgPC9hPlxcbiAgICA8L2Rpdj5cXG4gIDwvY2VudGVyPlxcbjwvZGl2PlxcbicpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KCcuL3JlZ2lzdGVyLmh0bWwnLCc8ZGl2IGxheW91dD1cImNvbHVtblwiIGxheW91dC1hbGlnbj1cImNlbnRlclwiIGNsYXNzPVwiYXV0aC0tYW5pbWF0aW9uXCI+XFxuICAgIDxkaXY+XFxuICAgICAgICA8YXV0aC1mb3JtIHVzZXI9XCIkY3RybC51c2VyXCIgdXNlci10eXBlPVwiJGN0cmwudXNlclR5cGVcIiBtZXNzYWdlPVwie3sgJGN0cmwuZXJyb3IgfX1cIiBidXR0b249XCJSZWdpc3RlclwiIG9uLXN1Ym1pdD1cIiRjdHJsLnJlZ2lzdGVyKCRldmVudCk7XCI+XFxuICAgICAgICA8L2F1dGgtZm9ybT5cXG4gICAgPC9kaXY+XFxuICAgIDxjZW50ZXI+XFxuICAgICAgICA8ZGl2PlxcbiAgICAgICAgICAgIDxhIG5nLWNsaWNrPVwiJGN0cmwub25Mb2dpbigkZXZlbnQpXCIgY2xhc3M9XCJhdXRoX19saW5rXCI+QWxyZWFkeSBoYXZlIGFuIGFjY291bnQ/IExvZ2luIGhlcmUuPC9hPlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvY2VudGVyPlxcbjwvZGl2PlxcbicpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KCcuL3Jlc2V0Lmh0bWwnLCc8ZGl2IGxheW91dD1cImNvbHVtblwiIGxheW91dC1hbGlnbj1cImNlbnRlclwiIGNsYXNzPVwiYXV0aC0tYW5pbWF0aW9uXCI+XFxuICAgIDxmb3JtIGxheW91dD1cImNvbHVtblwiIGxheW91dC1hbGlnbj1cImNlbnRlciBjZW50ZXJcIiBuYW1lPVwiYXV0aEZvcm1cIiBub3ZhbGlkYXRlIG5nLXN1Ym1pdD1cIiRjdHJsLm9uUmVzZXQoJGV2ZW50KVwiPlxcblxcbiAgICAgIDxtZC1saXN0IGxheW91dD1cImNvbHVtblwiIGxheW91dC1hbGlnbj1cImNlbnRlciBjZW50ZXJcIj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCJhdXRoLS1tYXJnaW5Ub3BcIj5cXG4gICAgICAgICAgPG1kLWxpc3QtaXRlbT5cXG4gICAgICAgICAgICA8bWQtaW5wdXQtY29udGFpbmVyIGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImNlbnRlciBjZW50ZXJcIiBjbGFzcz1cImF1dGhcIj5cXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImF1dGhfX2xhYmVsIGF1dGhfX2xhYmVsLS1wYWRkaW5nXCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBtZC0xNiBhdXRoX19pY29uXCI+ZW1haWw8L2k+RU1BSUw8L2xhYmVsPlxcbiAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiYXV0aF9faW5wdXQgYXV0aF9faW5wdXQtLWhlaWdodCBhdXRoX19pbnB1dC0td2lkdGggdGV4dC0tZm9udFwiIHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJlbWFpbFwiIG5nLW1vZGVsPVwiJGN0cmwudXNlckVtYWlsXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgLz5cXG4gICAgICAgICAgICA8L21kLWlucHV0LWNvbnRhaW5lcj5cXG4gICAgICAgICAgPC9tZC1saXN0LWl0ZW0+XFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCJhdXRoLS1tYXJnaW5Ub3BcIj5cXG4gICAgICAgICAgPG1kLWxpc3QtaXRlbT5cXG4gICAgICAgICAgICA8bWQtYnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBuZy1kaXNhYmxlZD1cImF1dGhGb3JtLiRpbnZhbGlkXCIgY2xhc3M9XCJtZC1yYWlzZWQgYXV0aF9fYnV0dG9uIGF1dGhfX2lucHV0LS1oZWlnaHQgYXV0aF9faW5wdXQtLXdpZHRoXCI+XFxuICAgICAgICAgICAgICA8aDEgY2xhc3M9XCJhdXRoX19idXR0b25UZXh0XCI+UkVTRVQge3sgJGN0cmwudXNlclR5cGUgfX0gQUNPVU5UPC9oMT5cXG4gICAgICAgICAgICA8L21kLWJ1dHRvbj5cXG4gICAgICAgICAgPC9tZC1saXN0LWl0ZW0+XFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICA8L21kLWxpc3Q+XFxuICAgIDwvZm9ybT5cXG5cXG4gIDxjZW50ZXI+XFxuICAgIDxkaXY+XFxuICAgICAgPGEgbmctY2xpY2s9XCIkY3RybC5vbkxvZ2luKCRldmVudClcIiBjbGFzcz1cImF1dGhfX2xpbmtcIj5PciBsb2dpbiB3aXRoIGFuIGV4aXN0aW5nIGFjY291bnQuPC9hPlxcbiAgICA8L2Rpdj5cXG4gIDwvY2VudGVyPlxcblxcbjwvZGl2PlxcbicpO31dKTsiXX0=
