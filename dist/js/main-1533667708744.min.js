(function(angular){
'use strict';
angular
    .module('root', [
    'common',
    'components',
    'templates'
  ]);
})(window.angular);
(function(angular){
'use strict';
angular
  .module('common', [
    'ui.router',
    'ngMaterial',
    'ngMessages',
  ]);
})(window.angular);
(function(angular){
'use strict';
angular
    .module('components', [
    'components.auth',
    'components.memos'
  ])
})(window.angular);
(function(angular){
'use strict';
/**
 *
 * @ngdoc object
 * @name components.auth
 *
 * @requires ui.router,ngParse,ngMaterial,ngMessages
 *
 * @description
 *
 * This is the auth module. It includes login, register, and reset components for auth feature.
 *
 **/

angular
    .module('components.auth', [
    'ui.router',
    'ngParse',
    'ngMaterial',
    'ngMessages'
  ])
    .config(["ParseProvider", function (ParseProvider) {
        var MY_PARSE_APP_ID = 'uDzN7E7NYIbwdzKLUwNBtDtGfxyxrrBo3C6xGri3';
        var MY_PARSE_JS_KEY = '0VcWEWBLIwEcExM2Nz3TziSGjKiMsoU7SNjI5RPA';
        ParseProvider.initialize(MY_PARSE_APP_ID, MY_PARSE_JS_KEY);
        ParseProvider.serverURL = 'https://parseapi.back4app.com/';

    }])
    .run(["$transitions", "$state", "AuthService", function ($transitions, $state, AuthService) {
        $transitions.onStart({
            to: function (state) {
                return !!(state.data && state.data.requiredAuth);
            }
        }, function () {
            return AuthService
                .requireAuthentication()
                .catch(function () {
                    return $state.target('auth');
                });
        });
        $transitions.onStart({
            to: 'auth'
        }, function () {
            if (AuthService.isAuthenticated()) {
                return $state.go('app');
            }
        });
    }]);
})(window.angular);
(function(angular){
'use strict';
angular
    .module('components.memos', [
    'ui.router'
  ]);
})(window.angular);
(function(angular){
'use strict';
var root = {
    templateUrl: './root.html'
};

angular
    .module('root')
    .component('root', root);
})(window.angular);
(function(angular){
'use strict';
var app = {
    templateUrl: './app.html',
    controller: 'AppController'
};

angular
    .module('common')
    .component('app', app)
    .config(["$stateProvider", function ($stateProvider) {
        $stateProvider
            .state('app', {
                redirectTo: 'memos',
                url: '/',
                data: {
                    requiredAuth: true
                },
                component: 'app'
            })
    }]);
})(window.angular);
(function(angular){
'use strict';
AppController.$inject = ["AuthService", "$state"];
function AppController(AuthService, $state) {
    var ctrl = this;
    ctrl.user = AuthService.getUser();
    ctrl.logout = function () {
        AuthService.logout()
            .then(function () {
                $state.go('auth.login');
            });
    };
}

angular
    .module('common')
    .controller('AppController', AppController);
})(window.angular);
(function(angular){
'use strict';
init.$inject = ["$rootScope", "$uiRouter", "$mdSidenav"];
function init($rootScope, $uiRouter, $mdSidenav) {
    var Visualizer = window['ui-router-visualizer'].Visualizer;
    var pluginInstance = $uiRouter.plugin(Visualizer);

    $rootScope.toggleMenu = toggleMenu;

    function toggleMenu(navId) {
        console.log('toggle sidenav: ' + navId);
        $mdSidenav(navId)
            .toggle();
    }
}

angular
    .module('common')
    .run(init)
})(window.angular);
(function(angular){
'use strict';
var auth = {
    templateUrl: './auth.html',
    controller: 'AuthController'
};

angular
    .module('components.auth')
    .component('auth', auth)
    .config(["$stateProvider", "$urlRouterProvider", function ($stateProvider, $urlRouterProvider) {
        $stateProvider
            // .state('auth', {
            //     redirectTo: 'auth',
            //     url: '/auth',
            //     templateUrl: './auth.html'
            // })
            .state('auth', {
                url: '/auth',
                component: 'auth'
            });
         $urlRouterProvider.otherwise('/auth');
    }]);
})(window.angular);
(function(angular){
'use strict';
AuthController.$inject = ["$state"];
function AuthController($state) {
    var ctrl = this;

    ctrl.$onInit = function() {
      // define variables
      ctrl.showRegister = false;
      ctrl.showReset = false;
      ctrl.showLogin = true;

      // define functions
      ctrl.toggleRegister = toggleRegister;
      ctrl.toggleReset = toggleReset;
      ctrl.toggleLogin = toggleLogin;
    }

    function toggleRegister() {
      ctrl.showRegister = !ctrl.showRegister;
      ctrl.showLogin = !ctrl.showLogin;
    }

    function toggleReset(event) {
      ctrl.userEmail = event.email;
      ctrl.showReset = !ctrl.showReset;
      ctrl.showLogin = !ctrl.showLogin;
    }

    function toggleLogin() {
      ctrl.showLogin = !ctrl.showLogin;
      ctrl.showReset = !ctrl.showReset;
    }



}

angular
    .module('components.auth')
    .controller('AuthController', AuthController);
})(window.angular);
(function(angular){
'use strict';
/**
 * @ngdoc service
 * @name components.auth:AuthService
 *
 * @description Handles authentication for app
 */

AuthService.$inject = ["Parse", "$state"];
function AuthService(Parse, $state) {
  var auth = new Parse.User(); // creates a new user in Parse
  var currentUser = null; //holds info about current user

  /**
   * @ngdoc method
   * @name AuthService#storeAuthData
   * @methodOf components.auth:AuthService
   * @param {object} obj Parse user object
   * @returns {object} returns currentUser object
   */

  function storeAuthData(response) {
    currentUser = response;
    return currentUser;
  }

  /**
   * @ngdoc method
   * @name AuthService#clearAuthData
   * @methodOf components.auth:AuthService
   * @returns {object} returns a blank user object
   */

  function clearAuthData() {
    currentUser = Parse.User.current(); // this will now be null
    return currentUser;
  }

  /**
   * @ngdoc method
   * @name AuthService#login
   * @methodOf components.auth:AuthService
   * @param {object} obj user data from auth-form
   * @returns {object} returns the current user object
   */

  this.login = function(user) {
    let userType = user.type
    return Parse.User
      .logIn(user.email, user.password)
      .then(user => {
        if (user.attributes.emailVerified && user.attributes.type === userType) {
          storeAuthData()
          $state.go('app')
        } else {
          this.logout()
            .then(() => {
              alert('Please verify email address or ensure you are logging in as the correct user type.');
            })
        }
      })
      .catch(error => alert(error))
  };

  /**
   * @ngdoc method
   * @name AuthService#register
   * @methodOf components.auth:AuthService
   * @param {object} obj user data from auth-form
   * @returns {object} returns the current user object
   */

  this.register = function(user) {
    auth.set("username", user.email);
    auth.set("firstname", user.firstname);
    auth.set("lastname", user.lastname);
    auth.set("password", user.password);
    auth.set("email", user.email);
    auth.set("type", user.type)
    return auth
      .signUp(null)
      .then(() => {
        alert("A verfication email has been sent to " + user.email)
        this.logout()
          .then(() => {
            $state.go('auth.login')
          })
      })
      .catch(error => alert(error))
  };

  /**
   * @ngdoc method
   * @name AuthService#logout
   * @methodOf components.auth:AuthService
   * @returns {object} returns an empty user object
   */

  this.logout = function() {
    return Parse.User.logOut()
      .then(clearAuthData);
  };

  /**
   * @ngdoc method
   * @name AuthService#requireAuthentication
   * @methodOf components.auth:AuthService
   * @returns {promise} returns resolve or reject based on user authentication
   */

  this.requireAuthentication = function() {
    return new Promise(function(resolve, reject) {
      if (!!Parse.User.current() && Parse.User.current()
        .authenticated()) {
        resolve();
      } else {
        reject();
      }
    });
  }

  /**
   * @ngdoc method
   * @name AuthService#isAuthenticated
   * @methodOf components.auth:AuthService
   * @returns {boolean} returns whether user is authenticated based on sessionStorage
   */

  this.isAuthenticated = function() {
    // return !!(Parse.User.current() && Parse.User.current()
    //     .authenticated());
  };

  /**
   * @ngdoc method
   * @name AuthService#getUser
   * @methodOf components.auth:AuthService
   * @returns {object} returns currentUser sessionStorage object
   */

  this.getUser = function() {
    if (auth) {
      return auth;
    }
  };
};

angular
  .module('components.auth')
  .service('AuthService', AuthService);
})(window.angular);
(function(angular){
'use strict';
var memos = {
    templateUrl: './memos.html',
    controller: 'MemosController',
    bindings: {}
}

angular
    .module('components.memos')
    .component('memos', memos)
    .config(["$stateProvider", function ($stateProvider) {
        $stateProvider.state('memos', {
            parent: 'app',
            url: 'memos',
            component: 'memos'
        })
    }]);
})(window.angular);
(function(angular){
'use strict';
MemosController.$inject = ["$state"];
function MemosController($state) {

    var ctrl = this;
    ctrl.$onInit = function () {

    }

}


angular
    .module('components.memos')
    .controller('MemosController', MemosController);
})(window.angular);
(function(angular){
'use strict';
var authForm = {
    bindings: {
        user: '<',
        userType: '<',
        button: '@',
        message: '@',
        onSubmit: '&',
        onReset: '&'
    },
    templateUrl: './auth-form.html',
    controller: 'AuthFormController'
};

angular
    .module('components.auth')
    .component('authForm', authForm);
})(window.angular);
(function(angular){
'use strict';
function AuthFormController() {
  
  var ctrl = this;

  ctrl.$onInit = function() {
    ctrl.submitForm = submitForm;
    ctrl.reset = reset;
  }

  ctrl.$onChanges = function(changes) {
    if (changes.user) {
      ctrl.user = angular.copy(ctrl.user);
    }
  };

// function passes click event with user object to login component
  function submitForm() {
    ctrl.onSubmit({
      $event: {
        user: ctrl.user
      }
    });
  };

// function passes click event with user email to login component
  function reset() {
    ctrl.onReset({
      $event: {
        email: ctrl.user.email
      }
    });
  };

}

angular
  .module('components.auth')
  .controller('AuthFormController', AuthFormController);
})(window.angular);
(function(angular){
'use strict';
/**
 * @ngdoc component
 * @name component.auth:login
 *
 * @description
 * This component stores info from auth-form and handles login using AuthService
 *
 */

var login = {
    templateUrl: './login.html',
    controller: 'LoginController',
    bindings: {
      userType: '@',
      onRegister: '&',
      onReset: '&'
    }
};

angular
    .module('components.auth')
    .component('login', login);
    // .config(function ($stateProvider, $urlRouterProvider) {
    //     $stateProvider
    //         // .state('auth', {
    //         //     redirectTo: 'auth.login',
    //         //     url: '/auth',
    //         //     template: '<div ui-view></div>'
    //         // })
            // .state('auth.login', {
            //     url: '/login',
            //     component: 'login'
            // });
    //     // $urlRouterProvider.otherwise('/auth/login');
    // });
})(window.angular);
(function(angular){
'use strict';
LoginController.$inject = ["AuthService", "$state"];
function LoginController(AuthService, $state) {
  var ctrl = this;

  //initialize user data
  ctrl.$onInit = function() {
    ctrl.user = {
      email: '',
      password: '',
      type: ctrl.userType
    };
  };

  //give user access to app
  ctrl.loginUser = function (event) {
      return AuthService
          .login(event.user)
  }

  ctrl.reset = function(event) {
    console.log(event.email)
    ctrl.onReset({
      $event: {
        email: event.email
      }
    });
  };

}

angular
  .module('components.auth')
  .controller('LoginController', LoginController);
})(window.angular);
(function(angular){
'use strict';
/**
 * @ngdoc component
 * @name component.auth:register
 *
 * @description
 * This component stores info from auth-form and handles registering using AuthService
 *
 */

var register = {
    templateUrl: './register.html',
    controller: 'RegisterController',
    bindings: {
      userType: '@',
      onLogin: '&'
    }
};

angular
    .module('components.auth')
    .component('register', register);
    // .config(function ($stateProvider) {
    //     $stateProvider.state('auth.register', {
    //         url: '/register',
    //         component: 'register'
    //     });
    // });
})(window.angular);
(function(angular){
'use strict';
RegisterController.$inject = ["AuthService", "$state"];
function RegisterController(AuthService, $state) {
    var ctrl = this;

    //initialize user data
    ctrl.$onInit = function () {
        ctrl.error = null;
        ctrl.user = {
            email: '',
            password: '',
            type: ctrl.userType
        };
    };

    //creates a new user and allows access into the app
    ctrl.createUser = function (event) {
        return AuthService
            .register(event.user)
            // .alertVerification(event.user.email)
    };

}

angular
    .module('components.auth')
    .controller('RegisterController', RegisterController);
})(window.angular);
(function(angular){
'use strict';
/**
 * @ngdoc component
 * @name component.auth:reset
 *
 * @description
 * This component handles password reset and is toggled in login component
 *
 */

var reset = {
    templateUrl: './reset.html',
    controller: 'ResetController',
    bindings: {
      onLogin: '&',
      userType: '@',
      userEmail: '<'
    }
};

angular
    .module('components.auth')
    .component('reset', reset);
    // .config(function ($stateProvider) {
    //     $stateProvider.state('auth.reset', {
    //         url: '/reset',
    //         component: 'reset'
    //     });
    // });
})(window.angular);
(function(angular){
'use strict';
function ResetController() {

    var ctrl = this;

    ctrl.$onInit = function () {
        // initialize variables
        ctrl.user = {};
        // initialize functions
        ctrl.reset = reset;
    }

    // password reset
    function reset(email) {
        if (email) {
            Parse
                .User
                .requestPasswordReset(email)
                .then(function () {
                    alert('A password reset email has been sent to ' + email);
                })
                .catch(function (err) {
                    alert(err.code + " " + err.message);
                });
        }
    }

}

angular
    .module('components.auth')
    .controller('ResetController', ResetController);
})(window.angular);
(function(angular){
'use strict';
angular.module('templates', []).run(['$templateCache', function($templateCache) {$templateCache.put('./root.html','<div class="root">\n    <div ui-view></div>\n</div>\n');
$templateCache.put('./app.html','<div class="root">\n    <!-- <app-nav user="$ctrl.user" on-logout="$ctrl.logout();"></app-nav> -->\n    <!-- <md-sidenav flex-order="2" md-component-id="side" md-whiteframe="3" md-disable-backdrop class="md-sidenav-right md-no-pagination app__sidenav--height app__sidenav--width app__sidenav--position app__sidenav--overflow-x">\n        <div ui-view="side"></div>\n    </md-sidenav> -->\n    <div>\n        <div ui-view></div>\n    </div>\n</div>\n');
$templateCache.put('./auth.html','  <md-content class="background height--full width--full" layout="column" layout-align="center center">\n\n    <div>\n      <img src="img/mughub_logo.png" width="200px" />\n    </div>\n\n    <div class="width--full auth--animation ng-enter" style="margin-top: -30px;">\n      <md-tabs class="auth__tabContainer width--full md-no-animation" md-center-tabs="true" md-dynamic-height>\n\n        <md-tab label="STUDENT">\n          <md-content class="background auth--animation ng-enter">\n              <login ng-if="$ctrl.showLogin" on-register="$ctrl.toggleRegister()" on-reset="$ctrl.toggleReset($event)" user-type="STUDENT"></login>\n              <register ng-if="$ctrl.showRegister" on-login="$ctrl.toggleRegister()" user-type="STUDENT"></register>\n              <reset ng-if="$ctrl.showReset" on-login="$ctrl.toggleLogin()" user-type="STUDENT" user-email="$ctrl.userEmail"></reset>\n          </md-content>\n        </md-tab>\n\n        <md-tab label="TUTOR">\n          <md-content class="background auth--animation ng-enter">\n              <login ng-if="$ctrl.showLogin" on-register="$ctrl.toggleRegister()" on-reset="$ctrl.toggleReset($event)" user-type="TUTOR"></login>\n              <register ng-if="$ctrl.showRegister" on-login="$ctrl.toggleRegister()" user-type="TUTOR"></register>\n              <reset ng-if="$ctrl.showReset" on-login="$ctrl.toggleLogin()" user-type="TUTOR"  user-email="$ctrl.userEmail"></reset>\n          </md-content>\n        </md-tab>\n\n      </md-tabs>\n    </div>\n\n  </md-content>\n');
$templateCache.put('./memos.html','<div>\n  This is the app.\n</div>\n');
$templateCache.put('./auth-form.html','<form layout="column" layout-align="center center" name="authForm" novalidate ng-submit="$ctrl.submitForm();">\n  <md-list layout="column" layout-align="center center">\n\n    <div ng-if="$ctrl.button === \'Register\'">\n      <md-list-item layout="row" layout-align="space-between center">\n\n        <div>\n          <md-input-container layout="row" layout-align="center center" class="auth__input">\n            <label style="color:  #eaeaea; font-size: 13px; font-family: \'Montserrat\', sans-serif; padding: 3px 0px 0px 30px">FIRST NAME</label>\n            <input class="auth__input--styleNameLeft auth__input--height" type="text" name="firstname" ng-model="$ctrl.user.firstname" autocomplete="off" />\n          </md-input-container>\n        </div>\n\n        <div>\n          <md-input-container layout="row" layout-align="center center" class="auth__input">\n            <label style="color:  #eaeaea; font-size: 13px; font-family: \'Montserrat\', sans-serif; padding: 3px 0px 0px 35px">LAST NAME</label>\n            <input class="auth__input--styleNameRight auth__input--height" type="text" name="lastname" ng-model="$ctrl.user.lastname" autocomplete="off" />\n          </md-input-container>\n        </div>\n\n      </md-list-item>\n    </div>\n\n    <div class="auth__listItem--marginTop">\n      <md-list-item>\n        <md-input-container layout="row" layout-align="center center" class="auth__input">\n          <label style="color:  #eaeaea; font-size: 13px; font-family: \'Montserrat\', sans-serif; padding: 5px 0px 0px 20px"><i style="vertical-align: middle; color:#eaeaea; margin:0px 4px 1px 4px" class="material-icons md-18">email</i>EMAIL</label>\n          <input class="auth__input--style auth__input--height" type="email" name="email" ng-model="$ctrl.user.email" autocomplete="off" />\n        </md-input-container>\n      </md-list-item>\n    </div>\n\n    <div>\n      <md-list-item class="auth__listItem--marginTop">\n        <md-input-container layout="row" layout-align="center center" class="auth__input">\n          <label style="color:  #eaeaea; font-size: 13px; font-family: \'Montserrat\', sans-serif; padding: 5px 0px 0px 20px"><i style="vertical-align: middle; color:#eaeaea; margin:0px 4px" class="material-icons md-18">lock</i>PASSWORD</label>\n          <input class="auth__input--style auth__input--height" type="password" name="password" ng-model="$ctrl.user.password" autocomplete="off" />\n        </md-input-container>\n        <p ng-if="$ctrl.button === \'Login\'" ng-click="$ctrl.reset()" class="auth__forgot">?</p>\n      </md-list-item>\n    </div>\n\n    <div>\n      <md-list-item class="auth__listItem--marginTop">\n        <md-button type="submit" ng-disabled="authForm.$invalid" class="md-raised auth__button auth__input--height">\n          <h1 class="auth__buttonText">{{ $ctrl.button }} as a {{ $ctrl.userType }}</h1>\n        </md-button>\n      </md-list-item>\n    </div>\n\n\n  </md-list>\n</form>\n');
$templateCache.put('./login.html','<div layout="column" layout-align="center" class="auth--animation">\n    <div>\n        <auth-form user="$ctrl.user" user-type="$ctrl.userType" button="Login" on-submit="$ctrl.loginUser($event);" on-reset="$ctrl.reset($event)">\n        </auth-form>\n    </div>\n    <center>\n        <div>\n            <a ng-click="$ctrl.onRegister($event)" class="auth__trans">\n      Don\'t have an account? Create one here.\n    </a>\n        </div>\n    </center>\n</div>\n');
$templateCache.put('./register.html','<div layout="column" layout-align="center" class="auth--animation">\n    <div>\n        <auth-form user="$ctrl.user" user-type="$ctrl.userType" message="{{ $ctrl.error }}" button="Register" on-submit="$ctrl.createUser($event);">\n        </auth-form>\n    </div>\n    <center>\n        <div>\n            <a ng-click="$ctrl.onLogin($event)" class="auth__trans">Already have an account? Login here.</a>\n        </div>\n    </center>\n</div>\n');
$templateCache.put('./reset.html','<div layout="column" layout-align="center" class="auth--animation">\n  <div>\n    <form layout="column" layout-align="center center" name="authForm" novalidate ng-submit="$ctrl.reset($ctrl.userEmail)">\n      <md-list layout="column" layout-align="center center">\n\n        <div>\n          <md-list-item>\n            <md-input-container layout="row" layout-align="center center" class="auth__input">\n              <label style="color:  #eaeaea; font-size: 13px; font-family: \'Montserrat\', sans-serif; padding: 5px 0px 0px 20px"><i style="vertical-align: middle; color:#eaeaea; margin:0px 4px 1px 4px" class="material-icons md-18">email</i>EMAIL</label>\n              <input class="auth__input--style auth__input--height" type="email" name="email" ng-model="$ctrl.userEmail" autocomplete="off" />\n            </md-input-container>\n          </md-list-item>\n        </div>\n\n        <div>\n          <md-list-item class="auth__listItem--marginTop">\n            <md-button type="submit" ng-disabled="authForm.$invalid" class="md-raised auth__button auth__input--height">\n              <h1 class="auth__buttonText">RESET {{ $ctrl.userType }} ACOUNT</h1>\n            </md-button>\n          </md-list-item>\n        </div>\n\n      </md-list>\n    </form>\n  </div>\n  <center>\n    <div>\n      <a ng-click="$ctrl.onLogin($event)" class="auth__trans">Or login with an existing account.</a>\n    </div>\n  </center>\n</div>\n');}]);})(window.angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvb3QubW9kdWxlLmpzIiwiY29tbW9uL2FwcC5tb2R1bGUuanMiLCJjb21wb25lbnRzL2NvbXBvbmVudHMubW9kdWxlLmpzIiwiY29tcG9uZW50cy9hdXRoL2F1dGgubW9kdWxlLmpzIiwiY29tcG9uZW50cy9tZW1vcy9tZW1vcy5tb2R1bGUuanMiLCJyb290LmNvbXBvbmVudC5qcyIsImNvbW1vbi9hcHAuY29tcG9uZW50LmpzIiwiY29tbW9uL2FwcC5jb250cm9sbGVyLmpzIiwiY29tbW9uL2FwcC5ydW4uanMiLCJjb21wb25lbnRzL2F1dGgvYXV0aC5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2F1dGgvYXV0aC5jb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy9hdXRoL2F1dGguc2VydmljZS5qcyIsImNvbXBvbmVudHMvbWVtb3MvbWVtb3MuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9tZW1vcy9tZW1vcy5jb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy9hdXRoL2F1dGgtZm9ybS9hdXRoLWZvcm0uY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9hdXRoL2F1dGgtZm9ybS9hdXRoLWZvcm0uY29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvYXV0aC9sb2dpbi9sb2dpbi5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2F1dGgvbG9naW4vbG9naW4uY29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvYXV0aC9yZWdpc3Rlci9yZWdpc3Rlci5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2F1dGgvcmVnaXN0ZXIvcmVnaXN0ZXIuY29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvYXV0aC9yZXNldC9yZXNldC5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2F1dGgvcmVzZXQvcmVzZXQuY29udHJvbGxlci5qcyIsInRlbXBsYXRlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0E7S0FDQSxPQUFBLFFBQUE7SUFDQTtJQUNBO0lBQ0E7O0dBRUEsT0FBQTtBQ1JBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQTtHQUNBLE9BQUEsVUFBQTtJQUNBO0lBQ0E7SUFDQTs7R0FFQSxPQUFBO0FDUkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBO0tBQ0EsT0FBQSxjQUFBO0lBQ0E7SUFDQTs7R0FFQSxPQUFBO0FDUEEsQ0FBQSxTQUFBLFFBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUFjQTtLQUNBLE9BQUEsbUJBQUE7SUFDQTtJQUNBO0lBQ0E7SUFDQTs7S0FFQSx5QkFBQSxVQUFBLGVBQUE7UUFDQSxJQUFBLGtCQUFBO1FBQ0EsSUFBQSxrQkFBQTtRQUNBLGNBQUEsV0FBQSxpQkFBQTtRQUNBLGNBQUEsWUFBQTs7O0tBR0EsOENBQUEsVUFBQSxjQUFBLFFBQUEsYUFBQTtRQUNBLGFBQUEsUUFBQTtZQUNBLElBQUEsVUFBQSxPQUFBO2dCQUNBLE9BQUEsQ0FBQSxFQUFBLE1BQUEsUUFBQSxNQUFBLEtBQUE7O1dBRUEsWUFBQTtZQUNBLE9BQUE7aUJBQ0E7aUJBQ0EsTUFBQSxZQUFBO29CQUNBLE9BQUEsT0FBQSxPQUFBOzs7UUFHQSxhQUFBLFFBQUE7WUFDQSxJQUFBO1dBQ0EsWUFBQTtZQUNBLElBQUEsWUFBQSxtQkFBQTtnQkFDQSxPQUFBLE9BQUEsR0FBQTs7OztHQUlBLE9BQUE7QUNqREEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBO0tBQ0EsT0FBQSxvQkFBQTtJQUNBOztHQUVBLE9BQUE7QUNOQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0EsSUFBQSxPQUFBO0lBQ0EsYUFBQTs7O0FBR0E7S0FDQSxPQUFBO0tBQ0EsVUFBQSxRQUFBO0dBQ0EsT0FBQTtBQ1RBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQSxJQUFBLE1BQUE7SUFDQSxhQUFBO0lBQ0EsWUFBQTs7O0FBR0E7S0FDQSxPQUFBO0tBQ0EsVUFBQSxPQUFBO0tBQ0EsMEJBQUEsVUFBQSxnQkFBQTtRQUNBO2FBQ0EsTUFBQSxPQUFBO2dCQUNBLFlBQUE7Z0JBQ0EsS0FBQTtnQkFDQSxNQUFBO29CQUNBLGNBQUE7O2dCQUVBLFdBQUE7OztHQUdBLE9BQUE7QUNyQkEsQ0FBQSxTQUFBLFFBQUE7O21EQUNBO0FBQ0EsU0FBQSxjQUFBLGFBQUEsUUFBQTtJQUNBLElBQUEsT0FBQTtJQUNBLEtBQUEsT0FBQSxZQUFBO0lBQ0EsS0FBQSxTQUFBLFlBQUE7UUFDQSxZQUFBO2FBQ0EsS0FBQSxZQUFBO2dCQUNBLE9BQUEsR0FBQTs7Ozs7QUFLQTtLQUNBLE9BQUE7S0FDQSxXQUFBLGlCQUFBO0dBQ0EsT0FBQTtBQ2hCQSxDQUFBLFNBQUEsUUFBQTs7MERBQ0E7QUFDQSxTQUFBLEtBQUEsWUFBQSxXQUFBLFlBQUE7SUFDQSxJQUFBLGFBQUEsT0FBQSx3QkFBQTtJQUNBLElBQUEsaUJBQUEsVUFBQSxPQUFBOztJQUVBLFdBQUEsYUFBQTs7SUFFQSxTQUFBLFdBQUEsT0FBQTtRQUNBLFFBQUEsSUFBQSxxQkFBQTtRQUNBLFdBQUE7YUFDQTs7OztBQUlBO0tBQ0EsT0FBQTtLQUNBLElBQUE7R0FDQSxPQUFBO0FDbEJBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQSxJQUFBLE9BQUE7SUFDQSxhQUFBO0lBQ0EsWUFBQTs7O0FBR0E7S0FDQSxPQUFBO0tBQ0EsVUFBQSxRQUFBO0tBQ0EsZ0RBQUEsVUFBQSxnQkFBQSxvQkFBQTtRQUNBOzs7Ozs7YUFNQSxNQUFBLFFBQUE7Z0JBQ0EsS0FBQTtnQkFDQSxXQUFBOztTQUVBLG1CQUFBLFVBQUE7O0dBRUEsT0FBQTtBQ3ZCQSxDQUFBLFNBQUEsUUFBQTs7cUNBQ0E7QUFDQSxTQUFBLGVBQUEsUUFBQTtJQUNBLElBQUEsT0FBQTs7SUFFQSxLQUFBLFVBQUEsV0FBQTs7TUFFQSxLQUFBLGVBQUE7TUFDQSxLQUFBLFlBQUE7TUFDQSxLQUFBLFlBQUE7OztNQUdBLEtBQUEsaUJBQUE7TUFDQSxLQUFBLGNBQUE7TUFDQSxLQUFBLGNBQUE7OztJQUdBLFNBQUEsaUJBQUE7TUFDQSxLQUFBLGVBQUEsQ0FBQSxLQUFBO01BQ0EsS0FBQSxZQUFBLENBQUEsS0FBQTs7O0lBR0EsU0FBQSxZQUFBLE9BQUE7TUFDQSxLQUFBLFlBQUEsTUFBQTtNQUNBLEtBQUEsWUFBQSxDQUFBLEtBQUE7TUFDQSxLQUFBLFlBQUEsQ0FBQSxLQUFBOzs7SUFHQSxTQUFBLGNBQUE7TUFDQSxLQUFBLFlBQUEsQ0FBQSxLQUFBO01BQ0EsS0FBQSxZQUFBLENBQUEsS0FBQTs7Ozs7OztBQU9BO0tBQ0EsT0FBQTtLQUNBLFdBQUEsa0JBQUE7R0FDQSxPQUFBO0FDeENBLENBQUEsU0FBQSxRQUFBO0FBQ0E7Ozs7Ozs7OztBQVFBLFNBQUEsWUFBQSxPQUFBLFFBQUE7RUFDQSxJQUFBLE9BQUEsSUFBQSxNQUFBO0VBQ0EsSUFBQSxjQUFBOzs7Ozs7Ozs7O0VBVUEsU0FBQSxjQUFBLFVBQUE7SUFDQSxjQUFBO0lBQ0EsT0FBQTs7Ozs7Ozs7OztFQVVBLFNBQUEsZ0JBQUE7SUFDQSxjQUFBLE1BQUEsS0FBQTtJQUNBLE9BQUE7Ozs7Ozs7Ozs7O0VBV0EsS0FBQSxRQUFBLFNBQUEsTUFBQTtJQUNBLElBQUEsV0FBQSxLQUFBO0lBQ0EsT0FBQSxNQUFBO09BQ0EsTUFBQSxLQUFBLE9BQUEsS0FBQTtPQUNBLEtBQUE7Ozs7Ozs7Ozs7O09BV0EsTUFBQTs7Ozs7Ozs7Ozs7RUFXQSxLQUFBLFdBQUEsU0FBQSxNQUFBO0lBQ0EsS0FBQSxJQUFBLFlBQUEsS0FBQTtJQUNBLEtBQUEsSUFBQSxhQUFBLEtBQUE7SUFDQSxLQUFBLElBQUEsWUFBQSxLQUFBO0lBQ0EsS0FBQSxJQUFBLFlBQUEsS0FBQTtJQUNBLEtBQUEsSUFBQSxTQUFBLEtBQUE7SUFDQSxLQUFBLElBQUEsUUFBQSxLQUFBO0lBQ0EsT0FBQTtPQUNBLE9BQUE7T0FDQSxLQUFBOzs7Ozs7O09BT0EsTUFBQTs7Ozs7Ozs7OztFQVVBLEtBQUEsU0FBQSxXQUFBO0lBQ0EsT0FBQSxNQUFBLEtBQUE7T0FDQSxLQUFBOzs7Ozs7Ozs7O0VBVUEsS0FBQSx3QkFBQSxXQUFBO0lBQ0EsT0FBQSxJQUFBLFFBQUEsU0FBQSxTQUFBLFFBQUE7TUFDQSxJQUFBLENBQUEsQ0FBQSxNQUFBLEtBQUEsYUFBQSxNQUFBLEtBQUE7U0FDQSxpQkFBQTtRQUNBO2FBQ0E7UUFDQTs7Ozs7Ozs7Ozs7O0VBWUEsS0FBQSxrQkFBQSxXQUFBOzs7Ozs7Ozs7Ozs7RUFZQSxLQUFBLFVBQUEsV0FBQTtJQUNBLElBQUEsTUFBQTtNQUNBLE9BQUE7OztDQUdBOztBQUVBO0dBQ0EsT0FBQTtHQUNBLFFBQUEsZUFBQTtHQUNBLE9BQUE7QUN0SkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBLElBQUEsUUFBQTtJQUNBLGFBQUE7SUFDQSxZQUFBO0lBQ0EsVUFBQTs7O0FBR0E7S0FDQSxPQUFBO0tBQ0EsVUFBQSxTQUFBO0tBQ0EsMEJBQUEsVUFBQSxnQkFBQTtRQUNBLGVBQUEsTUFBQSxTQUFBO1lBQ0EsUUFBQTtZQUNBLEtBQUE7WUFDQSxXQUFBOzs7R0FHQSxPQUFBO0FDbEJBLENBQUEsU0FBQSxRQUFBOztzQ0FDQTtBQUNBLFNBQUEsZ0JBQUEsUUFBQTs7SUFFQSxJQUFBLE9BQUE7SUFDQSxLQUFBLFVBQUEsWUFBQTs7Ozs7OztBQU9BO0tBQ0EsT0FBQTtLQUNBLFdBQUEsbUJBQUE7R0FDQSxPQUFBO0FDZkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBLElBQUEsV0FBQTtJQUNBLFVBQUE7UUFDQSxNQUFBO1FBQ0EsVUFBQTtRQUNBLFFBQUE7UUFDQSxTQUFBO1FBQ0EsVUFBQTtRQUNBLFNBQUE7O0lBRUEsYUFBQTtJQUNBLFlBQUE7OztBQUdBO0tBQ0EsT0FBQTtLQUNBLFVBQUEsWUFBQTtHQUNBLE9BQUE7QUNsQkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBLFNBQUEscUJBQUE7O0VBRUEsSUFBQSxPQUFBOztFQUVBLEtBQUEsVUFBQSxXQUFBO0lBQ0EsS0FBQSxhQUFBO0lBQ0EsS0FBQSxRQUFBOzs7RUFHQSxLQUFBLGFBQUEsU0FBQSxTQUFBO0lBQ0EsSUFBQSxRQUFBLE1BQUE7TUFDQSxLQUFBLE9BQUEsUUFBQSxLQUFBLEtBQUE7Ozs7O0VBS0EsU0FBQSxhQUFBO0lBQ0EsS0FBQSxTQUFBO01BQ0EsUUFBQTtRQUNBLE1BQUEsS0FBQTs7O0dBR0E7OztFQUdBLFNBQUEsUUFBQTtJQUNBLEtBQUEsUUFBQTtNQUNBLFFBQUE7UUFDQSxPQUFBLEtBQUEsS0FBQTs7O0dBR0E7Ozs7QUFJQTtHQUNBLE9BQUE7R0FDQSxXQUFBLHNCQUFBO0dBQ0EsT0FBQTtBQ3hDQSxDQUFBLFNBQUEsUUFBQTtBQUNBOzs7Ozs7Ozs7O0FBVUEsSUFBQSxRQUFBO0lBQ0EsYUFBQTtJQUNBLFlBQUE7SUFDQSxVQUFBO01BQ0EsVUFBQTtNQUNBLFlBQUE7TUFDQSxTQUFBOzs7O0FBSUE7S0FDQSxPQUFBO0tBQ0EsVUFBQSxTQUFBOzs7Ozs7Ozs7Ozs7OztHQWNBLE9BQUE7QUNyQ0EsQ0FBQSxTQUFBLFFBQUE7O3FEQUNBO0FBQ0EsU0FBQSxnQkFBQSxhQUFBLFFBQUE7RUFDQSxJQUFBLE9BQUE7OztFQUdBLEtBQUEsVUFBQSxXQUFBO0lBQ0EsS0FBQSxPQUFBO01BQ0EsT0FBQTtNQUNBLFVBQUE7TUFDQSxNQUFBLEtBQUE7Ozs7O0VBS0EsS0FBQSxZQUFBLFVBQUEsT0FBQTtNQUNBLE9BQUE7V0FDQSxNQUFBLE1BQUE7OztFQUdBLEtBQUEsUUFBQSxTQUFBLE9BQUE7SUFDQSxRQUFBLElBQUEsTUFBQTtJQUNBLEtBQUEsUUFBQTtNQUNBLFFBQUE7UUFDQSxPQUFBLE1BQUE7Ozs7Ozs7QUFPQTtHQUNBLE9BQUE7R0FDQSxXQUFBLG1CQUFBO0dBQ0EsT0FBQTtBQ2xDQSxDQUFBLFNBQUEsUUFBQTtBQUNBOzs7Ozs7Ozs7O0FBVUEsSUFBQSxXQUFBO0lBQ0EsYUFBQTtJQUNBLFlBQUE7SUFDQSxVQUFBO01BQ0EsVUFBQTtNQUNBLFNBQUE7Ozs7QUFJQTtLQUNBLE9BQUE7S0FDQSxVQUFBLFlBQUE7Ozs7Ozs7R0FPQSxPQUFBO0FDN0JBLENBQUEsU0FBQSxRQUFBOzt3REFDQTtBQUNBLFNBQUEsbUJBQUEsYUFBQSxRQUFBO0lBQ0EsSUFBQSxPQUFBOzs7SUFHQSxLQUFBLFVBQUEsWUFBQTtRQUNBLEtBQUEsUUFBQTtRQUNBLEtBQUEsT0FBQTtZQUNBLE9BQUE7WUFDQSxVQUFBO1lBQ0EsTUFBQSxLQUFBOzs7OztJQUtBLEtBQUEsYUFBQSxVQUFBLE9BQUE7UUFDQSxPQUFBO2FBQ0EsU0FBQSxNQUFBOzs7Ozs7QUFNQTtLQUNBLE9BQUE7S0FDQSxXQUFBLHNCQUFBO0dBQ0EsT0FBQTtBQzNCQSxDQUFBLFNBQUEsUUFBQTtBQUNBOzs7Ozs7Ozs7O0FBVUEsSUFBQSxRQUFBO0lBQ0EsYUFBQTtJQUNBLFlBQUE7SUFDQSxVQUFBO01BQ0EsU0FBQTtNQUNBLFVBQUE7TUFDQSxXQUFBOzs7O0FBSUE7S0FDQSxPQUFBO0tBQ0EsVUFBQSxTQUFBOzs7Ozs7O0dBT0EsT0FBQTtBQzlCQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0EsU0FBQSxrQkFBQTs7SUFFQSxJQUFBLE9BQUE7O0lBRUEsS0FBQSxVQUFBLFlBQUE7O1FBRUEsS0FBQSxPQUFBOztRQUVBLEtBQUEsUUFBQTs7OztJQUlBLFNBQUEsTUFBQSxPQUFBO1FBQ0EsSUFBQSxPQUFBO1lBQ0E7aUJBQ0E7aUJBQ0EscUJBQUE7aUJBQ0EsS0FBQSxZQUFBO29CQUNBLE1BQUEsNkNBQUE7O2lCQUVBLE1BQUEsVUFBQSxLQUFBO29CQUNBLE1BQUEsSUFBQSxPQUFBLE1BQUEsSUFBQTs7Ozs7OztBQU9BO0tBQ0EsT0FBQTtLQUNBLFdBQUEsbUJBQUE7R0FDQSxPQUFBO0FDakNBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQSxRQUFBLE9BQUEsYUFBQSxJQUFBLElBQUEsQ0FBQSxrQkFBQSxTQUFBLGdCQUFBLENBQUEsZUFBQSxJQUFBLGNBQUE7QUFDQSxlQUFBLElBQUEsYUFBQTtBQUNBLGVBQUEsSUFBQSxjQUFBO0FBQ0EsZUFBQSxJQUFBLGVBQUE7QUFDQSxlQUFBLElBQUEsbUJBQUE7QUFDQSxlQUFBLElBQUEsZUFBQTtBQUNBLGVBQUEsSUFBQSxrQkFBQTtBQUNBLGVBQUEsSUFBQSxlQUFBLHE2Q0FBQSxPQUFBLFNBQUEiLCJmaWxlIjoibWFpbi0xNTMzNjY3NzA4NzQ0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXJcbiAgICAubW9kdWxlKCdyb290JywgW1xuICAgICdjb21tb24nLFxuICAgICdjb21wb25lbnRzJyxcbiAgICAndGVtcGxhdGVzJ1xuICBdKTtcbiIsImFuZ3VsYXJcbiAgLm1vZHVsZSgnY29tbW9uJywgW1xuICAgICd1aS5yb3V0ZXInLFxuICAgICduZ01hdGVyaWFsJyxcbiAgICAnbmdNZXNzYWdlcycsXG4gIF0pO1xuIiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMnLCBbXG4gICAgJ2NvbXBvbmVudHMuYXV0aCcsXG4gICAgJ2NvbXBvbmVudHMubWVtb3MnXG4gIF0pXG4iLCIvKipcbiAqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBjb21wb25lbnRzLmF1dGhcbiAqXG4gKiBAcmVxdWlyZXMgdWkucm91dGVyLG5nUGFyc2UsbmdNYXRlcmlhbCxuZ01lc3NhZ2VzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhpcyBpcyB0aGUgYXV0aCBtb2R1bGUuIEl0IGluY2x1ZGVzIGxvZ2luLCByZWdpc3RlciwgYW5kIHJlc2V0IGNvbXBvbmVudHMgZm9yIGF1dGggZmVhdHVyZS5cbiAqXG4gKiovXG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21wb25lbnRzLmF1dGgnLCBbXG4gICAgJ3VpLnJvdXRlcicsXG4gICAgJ25nUGFyc2UnLFxuICAgICduZ01hdGVyaWFsJyxcbiAgICAnbmdNZXNzYWdlcydcbiAgXSlcbiAgICAuY29uZmlnKGZ1bmN0aW9uIChQYXJzZVByb3ZpZGVyKSB7XG4gICAgICAgIHZhciBNWV9QQVJTRV9BUFBfSUQgPSAndUR6TjdFN05ZSWJ3ZHpLTFV3TkJ0RHRHZnh5eHJyQm8zQzZ4R3JpMyc7XG4gICAgICAgIHZhciBNWV9QQVJTRV9KU19LRVkgPSAnMFZjV0VXQkxJd0VjRXhNMk56M1R6aVNHaktpTXNvVTdTTmpJNVJQQSc7XG4gICAgICAgIFBhcnNlUHJvdmlkZXIuaW5pdGlhbGl6ZShNWV9QQVJTRV9BUFBfSUQsIE1ZX1BBUlNFX0pTX0tFWSk7XG4gICAgICAgIFBhcnNlUHJvdmlkZXIuc2VydmVyVVJMID0gJ2h0dHBzOi8vcGFyc2VhcGkuYmFjazRhcHAuY29tLyc7XG5cbiAgICB9KVxuICAgIC5ydW4oZnVuY3Rpb24gKCR0cmFuc2l0aW9ucywgJHN0YXRlLCBBdXRoU2VydmljZSkge1xuICAgICAgICAkdHJhbnNpdGlvbnMub25TdGFydCh7XG4gICAgICAgICAgICB0bzogZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhKHN0YXRlLmRhdGEgJiYgc3RhdGUuZGF0YS5yZXF1aXJlZEF1dGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQXV0aFNlcnZpY2VcbiAgICAgICAgICAgICAgICAucmVxdWlyZUF1dGhlbnRpY2F0aW9uKClcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHN0YXRlLnRhcmdldCgnYXV0aCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgJHRyYW5zaXRpb25zLm9uU3RhcnQoe1xuICAgICAgICAgICAgdG86ICdhdXRoJ1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoQXV0aFNlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCdhcHAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tcG9uZW50cy5tZW1vcycsIFtcbiAgICAndWkucm91dGVyJ1xuICBdKTtcbiIsInZhciByb290ID0ge1xuICAgIHRlbXBsYXRlVXJsOiAnLi9yb290Lmh0bWwnXG59O1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgncm9vdCcpXG4gICAgLmNvbXBvbmVudCgncm9vdCcsIHJvb3QpO1xuIiwidmFyIGFwcCA9IHtcbiAgICB0ZW1wbGF0ZVVybDogJy4vYXBwLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdBcHBDb250cm9sbGVyJ1xufTtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbW1vbicpXG4gICAgLmNvbXBvbmVudCgnYXBwJywgYXBwKVxuICAgIC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcCcsIHtcbiAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiAnbWVtb3MnLFxuICAgICAgICAgICAgICAgIHVybDogJy8nLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRBdXRoOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdhcHAnXG4gICAgICAgICAgICB9KVxuICAgIH0pO1xuIiwiZnVuY3Rpb24gQXBwQ29udHJvbGxlcihBdXRoU2VydmljZSwgJHN0YXRlKSB7XG4gICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgIGN0cmwudXNlciA9IEF1dGhTZXJ2aWNlLmdldFVzZXIoKTtcbiAgICBjdHJsLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgQXV0aFNlcnZpY2UubG9nb3V0KClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2F1dGgubG9naW4nKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21tb24nKVxuICAgIC5jb250cm9sbGVyKCdBcHBDb250cm9sbGVyJywgQXBwQ29udHJvbGxlcik7XG4iLCJmdW5jdGlvbiBpbml0KCRyb290U2NvcGUsICR1aVJvdXRlciwgJG1kU2lkZW5hdikge1xuICAgIHZhciBWaXN1YWxpemVyID0gd2luZG93Wyd1aS1yb3V0ZXItdmlzdWFsaXplciddLlZpc3VhbGl6ZXI7XG4gICAgdmFyIHBsdWdpbkluc3RhbmNlID0gJHVpUm91dGVyLnBsdWdpbihWaXN1YWxpemVyKTtcblxuICAgICRyb290U2NvcGUudG9nZ2xlTWVudSA9IHRvZ2dsZU1lbnU7XG5cbiAgICBmdW5jdGlvbiB0b2dnbGVNZW51KG5hdklkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0b2dnbGUgc2lkZW5hdjogJyArIG5hdklkKTtcbiAgICAgICAgJG1kU2lkZW5hdihuYXZJZClcbiAgICAgICAgICAgIC50b2dnbGUoKTtcbiAgICB9XG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21tb24nKVxuICAgIC5ydW4oaW5pdClcbiIsInZhciBhdXRoID0ge1xuICAgIHRlbXBsYXRlVXJsOiAnLi9hdXRoLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdBdXRoQ29udHJvbGxlcidcbn07XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21wb25lbnRzLmF1dGgnKVxuICAgIC5jb21wb25lbnQoJ2F1dGgnLCBhdXRoKVxuICAgIC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcbiAgICAgICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgICAgICAgIC8vIC5zdGF0ZSgnYXV0aCcsIHtcbiAgICAgICAgICAgIC8vICAgICByZWRpcmVjdFRvOiAnYXV0aCcsXG4gICAgICAgICAgICAvLyAgICAgdXJsOiAnL2F1dGgnLFxuICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi9hdXRoLmh0bWwnXG4gICAgICAgICAgICAvLyB9KVxuICAgICAgICAgICAgLnN0YXRlKCdhdXRoJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9hdXRoJyxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdhdXRoJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvYXV0aCcpO1xuICAgIH0pO1xuIiwiZnVuY3Rpb24gQXV0aENvbnRyb2xsZXIoJHN0YXRlKSB7XG4gICAgdmFyIGN0cmwgPSB0aGlzO1xuXG4gICAgY3RybC4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAvLyBkZWZpbmUgdmFyaWFibGVzXG4gICAgICBjdHJsLnNob3dSZWdpc3RlciA9IGZhbHNlO1xuICAgICAgY3RybC5zaG93UmVzZXQgPSBmYWxzZTtcbiAgICAgIGN0cmwuc2hvd0xvZ2luID0gdHJ1ZTtcblxuICAgICAgLy8gZGVmaW5lIGZ1bmN0aW9uc1xuICAgICAgY3RybC50b2dnbGVSZWdpc3RlciA9IHRvZ2dsZVJlZ2lzdGVyO1xuICAgICAgY3RybC50b2dnbGVSZXNldCA9IHRvZ2dsZVJlc2V0O1xuICAgICAgY3RybC50b2dnbGVMb2dpbiA9IHRvZ2dsZUxvZ2luO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvZ2dsZVJlZ2lzdGVyKCkge1xuICAgICAgY3RybC5zaG93UmVnaXN0ZXIgPSAhY3RybC5zaG93UmVnaXN0ZXI7XG4gICAgICBjdHJsLnNob3dMb2dpbiA9ICFjdHJsLnNob3dMb2dpbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b2dnbGVSZXNldChldmVudCkge1xuICAgICAgY3RybC51c2VyRW1haWwgPSBldmVudC5lbWFpbDtcbiAgICAgIGN0cmwuc2hvd1Jlc2V0ID0gIWN0cmwuc2hvd1Jlc2V0O1xuICAgICAgY3RybC5zaG93TG9naW4gPSAhY3RybC5zaG93TG9naW47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9nZ2xlTG9naW4oKSB7XG4gICAgICBjdHJsLnNob3dMb2dpbiA9ICFjdHJsLnNob3dMb2dpbjtcbiAgICAgIGN0cmwuc2hvd1Jlc2V0ID0gIWN0cmwuc2hvd1Jlc2V0O1xuICAgIH1cblxuXG5cbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcpXG4gICAgLmNvbnRyb2xsZXIoJ0F1dGhDb250cm9sbGVyJywgQXV0aENvbnRyb2xsZXIpO1xuIiwiLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgY29tcG9uZW50cy5hdXRoOkF1dGhTZXJ2aWNlXG4gKlxuICogQGRlc2NyaXB0aW9uIEhhbmRsZXMgYXV0aGVudGljYXRpb24gZm9yIGFwcFxuICovXG5cbmZ1bmN0aW9uIEF1dGhTZXJ2aWNlKFBhcnNlLCAkc3RhdGUpIHtcbiAgdmFyIGF1dGggPSBuZXcgUGFyc2UuVXNlcigpOyAvLyBjcmVhdGVzIGEgbmV3IHVzZXIgaW4gUGFyc2VcbiAgdmFyIGN1cnJlbnRVc2VyID0gbnVsbDsgLy9ob2xkcyBpbmZvIGFib3V0IGN1cnJlbnQgdXNlclxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIEF1dGhTZXJ2aWNlI3N0b3JlQXV0aERhdGFcbiAgICogQG1ldGhvZE9mIGNvbXBvbmVudHMuYXV0aDpBdXRoU2VydmljZVxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIFBhcnNlIHVzZXIgb2JqZWN0XG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHJldHVybnMgY3VycmVudFVzZXIgb2JqZWN0XG4gICAqL1xuXG4gIGZ1bmN0aW9uIHN0b3JlQXV0aERhdGEocmVzcG9uc2UpIHtcbiAgICBjdXJyZW50VXNlciA9IHJlc3BvbnNlO1xuICAgIHJldHVybiBjdXJyZW50VXNlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIEF1dGhTZXJ2aWNlI2NsZWFyQXV0aERhdGFcbiAgICogQG1ldGhvZE9mIGNvbXBvbmVudHMuYXV0aDpBdXRoU2VydmljZVxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSByZXR1cm5zIGEgYmxhbmsgdXNlciBvYmplY3RcbiAgICovXG5cbiAgZnVuY3Rpb24gY2xlYXJBdXRoRGF0YSgpIHtcbiAgICBjdXJyZW50VXNlciA9IFBhcnNlLlVzZXIuY3VycmVudCgpOyAvLyB0aGlzIHdpbGwgbm93IGJlIG51bGxcbiAgICByZXR1cm4gY3VycmVudFVzZXI7XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBBdXRoU2VydmljZSNsb2dpblxuICAgKiBAbWV0aG9kT2YgY29tcG9uZW50cy5hdXRoOkF1dGhTZXJ2aWNlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogdXNlciBkYXRhIGZyb20gYXV0aC1mb3JtXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHJldHVybnMgdGhlIGN1cnJlbnQgdXNlciBvYmplY3RcbiAgICovXG5cbiAgdGhpcy5sb2dpbiA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICBsZXQgdXNlclR5cGUgPSB1c2VyLnR5cGVcbiAgICByZXR1cm4gUGFyc2UuVXNlclxuICAgICAgLmxvZ0luKHVzZXIuZW1haWwsIHVzZXIucGFzc3dvcmQpXG4gICAgICAudGhlbih1c2VyID0+IHtcbiAgICAgICAgaWYgKHVzZXIuYXR0cmlidXRlcy5lbWFpbFZlcmlmaWVkICYmIHVzZXIuYXR0cmlidXRlcy50eXBlID09PSB1c2VyVHlwZSkge1xuICAgICAgICAgIHN0b3JlQXV0aERhdGEoKVxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmxvZ291dCgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGFsZXJ0KCdQbGVhc2UgdmVyaWZ5IGVtYWlsIGFkZHJlc3Mgb3IgZW5zdXJlIHlvdSBhcmUgbG9nZ2luZyBpbiBhcyB0aGUgY29ycmVjdCB1c2VyIHR5cGUuJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yID0+IGFsZXJ0KGVycm9yKSlcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBBdXRoU2VydmljZSNyZWdpc3RlclxuICAgKiBAbWV0aG9kT2YgY29tcG9uZW50cy5hdXRoOkF1dGhTZXJ2aWNlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogdXNlciBkYXRhIGZyb20gYXV0aC1mb3JtXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHJldHVybnMgdGhlIGN1cnJlbnQgdXNlciBvYmplY3RcbiAgICovXG5cbiAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICBhdXRoLnNldChcInVzZXJuYW1lXCIsIHVzZXIuZW1haWwpO1xuICAgIGF1dGguc2V0KFwiZmlyc3RuYW1lXCIsIHVzZXIuZmlyc3RuYW1lKTtcbiAgICBhdXRoLnNldChcImxhc3RuYW1lXCIsIHVzZXIubGFzdG5hbWUpO1xuICAgIGF1dGguc2V0KFwicGFzc3dvcmRcIiwgdXNlci5wYXNzd29yZCk7XG4gICAgYXV0aC5zZXQoXCJlbWFpbFwiLCB1c2VyLmVtYWlsKTtcbiAgICBhdXRoLnNldChcInR5cGVcIiwgdXNlci50eXBlKVxuICAgIHJldHVybiBhdXRoXG4gICAgICAuc2lnblVwKG51bGwpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGFsZXJ0KFwiQSB2ZXJmaWNhdGlvbiBlbWFpbCBoYXMgYmVlbiBzZW50IHRvIFwiICsgdXNlci5lbWFpbClcbiAgICAgICAgdGhpcy5sb2dvdXQoKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICRzdGF0ZS5nbygnYXV0aC5sb2dpbicpXG4gICAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4gYWxlcnQoZXJyb3IpKVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIEF1dGhTZXJ2aWNlI2xvZ291dFxuICAgKiBAbWV0aG9kT2YgY29tcG9uZW50cy5hdXRoOkF1dGhTZXJ2aWNlXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHJldHVybnMgYW4gZW1wdHkgdXNlciBvYmplY3RcbiAgICovXG5cbiAgdGhpcy5sb2dvdXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gUGFyc2UuVXNlci5sb2dPdXQoKVxuICAgICAgLnRoZW4oY2xlYXJBdXRoRGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgQXV0aFNlcnZpY2UjcmVxdWlyZUF1dGhlbnRpY2F0aW9uXG4gICAqIEBtZXRob2RPZiBjb21wb25lbnRzLmF1dGg6QXV0aFNlcnZpY2VcbiAgICogQHJldHVybnMge3Byb21pc2V9IHJldHVybnMgcmVzb2x2ZSBvciByZWplY3QgYmFzZWQgb24gdXNlciBhdXRoZW50aWNhdGlvblxuICAgKi9cblxuICB0aGlzLnJlcXVpcmVBdXRoZW50aWNhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGlmICghIVBhcnNlLlVzZXIuY3VycmVudCgpICYmIFBhcnNlLlVzZXIuY3VycmVudCgpXG4gICAgICAgIC5hdXRoZW50aWNhdGVkKCkpIHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVqZWN0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBBdXRoU2VydmljZSNpc0F1dGhlbnRpY2F0ZWRcbiAgICogQG1ldGhvZE9mIGNvbXBvbmVudHMuYXV0aDpBdXRoU2VydmljZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmV0dXJucyB3aGV0aGVyIHVzZXIgaXMgYXV0aGVudGljYXRlZCBiYXNlZCBvbiBzZXNzaW9uU3RvcmFnZVxuICAgKi9cblxuICB0aGlzLmlzQXV0aGVudGljYXRlZCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIHJldHVybiAhIShQYXJzZS5Vc2VyLmN1cnJlbnQoKSAmJiBQYXJzZS5Vc2VyLmN1cnJlbnQoKVxuICAgIC8vICAgICAuYXV0aGVudGljYXRlZCgpKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBBdXRoU2VydmljZSNnZXRVc2VyXG4gICAqIEBtZXRob2RPZiBjb21wb25lbnRzLmF1dGg6QXV0aFNlcnZpY2VcbiAgICogQHJldHVybnMge29iamVjdH0gcmV0dXJucyBjdXJyZW50VXNlciBzZXNzaW9uU3RvcmFnZSBvYmplY3RcbiAgICovXG5cbiAgdGhpcy5nZXRVc2VyID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGF1dGgpIHtcbiAgICAgIHJldHVybiBhdXRoO1xuICAgIH1cbiAgfTtcbn07XG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJylcbiAgLnNlcnZpY2UoJ0F1dGhTZXJ2aWNlJywgQXV0aFNlcnZpY2UpO1xuIiwidmFyIG1lbW9zID0ge1xuICAgIHRlbXBsYXRlVXJsOiAnLi9tZW1vcy5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnTWVtb3NDb250cm9sbGVyJyxcbiAgICBiaW5kaW5nczoge31cbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMubWVtb3MnKVxuICAgIC5jb21wb25lbnQoJ21lbW9zJywgbWVtb3MpXG4gICAgLmNvbmZpZyhmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ21lbW9zJywge1xuICAgICAgICAgICAgcGFyZW50OiAnYXBwJyxcbiAgICAgICAgICAgIHVybDogJ21lbW9zJyxcbiAgICAgICAgICAgIGNvbXBvbmVudDogJ21lbW9zJ1xuICAgICAgICB9KVxuICAgIH0pO1xuIiwiZnVuY3Rpb24gTWVtb3NDb250cm9sbGVyKCRzdGF0ZSkge1xuXG4gICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIH1cblxufVxuXG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21wb25lbnRzLm1lbW9zJylcbiAgICAuY29udHJvbGxlcignTWVtb3NDb250cm9sbGVyJywgTWVtb3NDb250cm9sbGVyKTtcbiIsInZhciBhdXRoRm9ybSA9IHtcbiAgICBiaW5kaW5nczoge1xuICAgICAgICB1c2VyOiAnPCcsXG4gICAgICAgIHVzZXJUeXBlOiAnPCcsXG4gICAgICAgIGJ1dHRvbjogJ0AnLFxuICAgICAgICBtZXNzYWdlOiAnQCcsXG4gICAgICAgIG9uU3VibWl0OiAnJicsXG4gICAgICAgIG9uUmVzZXQ6ICcmJ1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICcuL2F1dGgtZm9ybS5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnQXV0aEZvcm1Db250cm9sbGVyJ1xufTtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcpXG4gICAgLmNvbXBvbmVudCgnYXV0aEZvcm0nLCBhdXRoRm9ybSk7XG4iLCJmdW5jdGlvbiBBdXRoRm9ybUNvbnRyb2xsZXIoKSB7XG4gIFxuICB2YXIgY3RybCA9IHRoaXM7XG5cbiAgY3RybC4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgY3RybC5zdWJtaXRGb3JtID0gc3VibWl0Rm9ybTtcbiAgICBjdHJsLnJlc2V0ID0gcmVzZXQ7XG4gIH1cblxuICBjdHJsLiRvbkNoYW5nZXMgPSBmdW5jdGlvbihjaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMudXNlcikge1xuICAgICAgY3RybC51c2VyID0gYW5ndWxhci5jb3B5KGN0cmwudXNlcik7XG4gICAgfVxuICB9O1xuXG4vLyBmdW5jdGlvbiBwYXNzZXMgY2xpY2sgZXZlbnQgd2l0aCB1c2VyIG9iamVjdCB0byBsb2dpbiBjb21wb25lbnRcbiAgZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHtcbiAgICBjdHJsLm9uU3VibWl0KHtcbiAgICAgICRldmVudDoge1xuICAgICAgICB1c2VyOiBjdHJsLnVzZXJcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuLy8gZnVuY3Rpb24gcGFzc2VzIGNsaWNrIGV2ZW50IHdpdGggdXNlciBlbWFpbCB0byBsb2dpbiBjb21wb25lbnRcbiAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgY3RybC5vblJlc2V0KHtcbiAgICAgICRldmVudDoge1xuICAgICAgICBlbWFpbDogY3RybC51c2VyLmVtYWlsXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbn1cblxuYW5ndWxhclxuICAubW9kdWxlKCdjb21wb25lbnRzLmF1dGgnKVxuICAuY29udHJvbGxlcignQXV0aEZvcm1Db250cm9sbGVyJywgQXV0aEZvcm1Db250cm9sbGVyKTtcbiIsIi8qKlxuICogQG5nZG9jIGNvbXBvbmVudFxuICogQG5hbWUgY29tcG9uZW50LmF1dGg6bG9naW5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgY29tcG9uZW50IHN0b3JlcyBpbmZvIGZyb20gYXV0aC1mb3JtIGFuZCBoYW5kbGVzIGxvZ2luIHVzaW5nIEF1dGhTZXJ2aWNlXG4gKlxuICovXG5cbnZhciBsb2dpbiA9IHtcbiAgICB0ZW1wbGF0ZVVybDogJy4vbG9naW4uaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0xvZ2luQ29udHJvbGxlcicsXG4gICAgYmluZGluZ3M6IHtcbiAgICAgIHVzZXJUeXBlOiAnQCcsXG4gICAgICBvblJlZ2lzdGVyOiAnJicsXG4gICAgICBvblJlc2V0OiAnJidcbiAgICB9XG59O1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJylcbiAgICAuY29tcG9uZW50KCdsb2dpbicsIGxvZ2luKTtcbiAgICAvLyAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XG4gICAgLy8gICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgLy8gICAgICAgICAvLyAuc3RhdGUoJ2F1dGgnLCB7XG4gICAgLy8gICAgICAgICAvLyAgICAgcmVkaXJlY3RUbzogJ2F1dGgubG9naW4nLFxuICAgIC8vICAgICAgICAgLy8gICAgIHVybDogJy9hdXRoJyxcbiAgICAvLyAgICAgICAgIC8vICAgICB0ZW1wbGF0ZTogJzxkaXYgdWktdmlldz48L2Rpdj4nXG4gICAgLy8gICAgICAgICAvLyB9KVxuICAgICAgICAgICAgLy8gLnN0YXRlKCdhdXRoLmxvZ2luJywge1xuICAgICAgICAgICAgLy8gICAgIHVybDogJy9sb2dpbicsXG4gICAgICAgICAgICAvLyAgICAgY29tcG9uZW50OiAnbG9naW4nXG4gICAgICAgICAgICAvLyB9KTtcbiAgICAvLyAgICAgLy8gJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2F1dGgvbG9naW4nKTtcbiAgICAvLyB9KTtcbiIsImZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcihBdXRoU2VydmljZSwgJHN0YXRlKSB7XG4gIHZhciBjdHJsID0gdGhpcztcblxuICAvL2luaXRpYWxpemUgdXNlciBkYXRhXG4gIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIGN0cmwudXNlciA9IHtcbiAgICAgIGVtYWlsOiAnJyxcbiAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgIHR5cGU6IGN0cmwudXNlclR5cGVcbiAgICB9O1xuICB9O1xuXG4gIC8vZ2l2ZSB1c2VyIGFjY2VzcyB0byBhcHBcbiAgY3RybC5sb2dpblVzZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHJldHVybiBBdXRoU2VydmljZVxuICAgICAgICAgIC5sb2dpbihldmVudC51c2VyKVxuICB9XG5cbiAgY3RybC5yZXNldCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgY29uc29sZS5sb2coZXZlbnQuZW1haWwpXG4gICAgY3RybC5vblJlc2V0KHtcbiAgICAgICRldmVudDoge1xuICAgICAgICBlbWFpbDogZXZlbnQuZW1haWxcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxufVxuXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcpXG4gIC5jb250cm9sbGVyKCdMb2dpbkNvbnRyb2xsZXInLCBMb2dpbkNvbnRyb2xsZXIpO1xuIiwiLyoqXG4gKiBAbmdkb2MgY29tcG9uZW50XG4gKiBAbmFtZSBjb21wb25lbnQuYXV0aDpyZWdpc3RlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBjb21wb25lbnQgc3RvcmVzIGluZm8gZnJvbSBhdXRoLWZvcm0gYW5kIGhhbmRsZXMgcmVnaXN0ZXJpbmcgdXNpbmcgQXV0aFNlcnZpY2VcbiAqXG4gKi9cblxudmFyIHJlZ2lzdGVyID0ge1xuICAgIHRlbXBsYXRlVXJsOiAnLi9yZWdpc3Rlci5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnUmVnaXN0ZXJDb250cm9sbGVyJyxcbiAgICBiaW5kaW5nczoge1xuICAgICAgdXNlclR5cGU6ICdAJyxcbiAgICAgIG9uTG9naW46ICcmJ1xuICAgIH1cbn07XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21wb25lbnRzLmF1dGgnKVxuICAgIC5jb21wb25lbnQoJ3JlZ2lzdGVyJywgcmVnaXN0ZXIpO1xuICAgIC8vIC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgLy8gICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdhdXRoLnJlZ2lzdGVyJywge1xuICAgIC8vICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyJyxcbiAgICAvLyAgICAgICAgIGNvbXBvbmVudDogJ3JlZ2lzdGVyJ1xuICAgIC8vICAgICB9KTtcbiAgICAvLyB9KTtcbiIsImZ1bmN0aW9uIFJlZ2lzdGVyQ29udHJvbGxlcihBdXRoU2VydmljZSwgJHN0YXRlKSB7XG4gICAgdmFyIGN0cmwgPSB0aGlzO1xuXG4gICAgLy9pbml0aWFsaXplIHVzZXIgZGF0YVxuICAgIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3RybC5lcnJvciA9IG51bGw7XG4gICAgICAgIGN0cmwudXNlciA9IHtcbiAgICAgICAgICAgIGVtYWlsOiAnJyxcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgICAgICAgIHR5cGU6IGN0cmwudXNlclR5cGVcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy9jcmVhdGVzIGEgbmV3IHVzZXIgYW5kIGFsbG93cyBhY2Nlc3MgaW50byB0aGUgYXBwXG4gICAgY3RybC5jcmVhdGVVc2VyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBBdXRoU2VydmljZVxuICAgICAgICAgICAgLnJlZ2lzdGVyKGV2ZW50LnVzZXIpXG4gICAgICAgICAgICAvLyAuYWxlcnRWZXJpZmljYXRpb24oZXZlbnQudXNlci5lbWFpbClcbiAgICB9O1xuXG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21wb25lbnRzLmF1dGgnKVxuICAgIC5jb250cm9sbGVyKCdSZWdpc3RlckNvbnRyb2xsZXInLCBSZWdpc3RlckNvbnRyb2xsZXIpO1xuIiwiLyoqXG4gKiBAbmdkb2MgY29tcG9uZW50XG4gKiBAbmFtZSBjb21wb25lbnQuYXV0aDpyZXNldFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBjb21wb25lbnQgaGFuZGxlcyBwYXNzd29yZCByZXNldCBhbmQgaXMgdG9nZ2xlZCBpbiBsb2dpbiBjb21wb25lbnRcbiAqXG4gKi9cblxudmFyIHJlc2V0ID0ge1xuICAgIHRlbXBsYXRlVXJsOiAnLi9yZXNldC5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnUmVzZXRDb250cm9sbGVyJyxcbiAgICBiaW5kaW5nczoge1xuICAgICAgb25Mb2dpbjogJyYnLFxuICAgICAgdXNlclR5cGU6ICdAJyxcbiAgICAgIHVzZXJFbWFpbDogJzwnXG4gICAgfVxufTtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcpXG4gICAgLmNvbXBvbmVudCgncmVzZXQnLCByZXNldCk7XG4gICAgLy8gLmNvbmZpZyhmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAvLyAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2F1dGgucmVzZXQnLCB7XG4gICAgLy8gICAgICAgICB1cmw6ICcvcmVzZXQnLFxuICAgIC8vICAgICAgICAgY29tcG9uZW50OiAncmVzZXQnXG4gICAgLy8gICAgIH0pO1xuICAgIC8vIH0pO1xuIiwiZnVuY3Rpb24gUmVzZXRDb250cm9sbGVyKCkge1xuXG4gICAgdmFyIGN0cmwgPSB0aGlzO1xuXG4gICAgY3RybC4kb25Jbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpbml0aWFsaXplIHZhcmlhYmxlc1xuICAgICAgICBjdHJsLnVzZXIgPSB7fTtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBmdW5jdGlvbnNcbiAgICAgICAgY3RybC5yZXNldCA9IHJlc2V0O1xuICAgIH1cblxuICAgIC8vIHBhc3N3b3JkIHJlc2V0XG4gICAgZnVuY3Rpb24gcmVzZXQoZW1haWwpIHtcbiAgICAgICAgaWYgKGVtYWlsKSB7XG4gICAgICAgICAgICBQYXJzZVxuICAgICAgICAgICAgICAgIC5Vc2VyXG4gICAgICAgICAgICAgICAgLnJlcXVlc3RQYXNzd29yZFJlc2V0KGVtYWlsKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0EgcGFzc3dvcmQgcmVzZXQgZW1haWwgaGFzIGJlZW4gc2VudCB0byAnICsgZW1haWwpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoZXJyLmNvZGUgKyBcIiBcIiArIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJylcbiAgICAuY29udHJvbGxlcignUmVzZXRDb250cm9sbGVyJywgUmVzZXRDb250cm9sbGVyKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd0ZW1wbGF0ZXMnLCBbXSkucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkgeyR0ZW1wbGF0ZUNhY2hlLnB1dCgnLi9yb290Lmh0bWwnLCc8ZGl2IGNsYXNzPVwicm9vdFwiPlxcbiAgICA8ZGl2IHVpLXZpZXc+PC9kaXY+XFxuPC9kaXY+XFxuJyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJy4vYXBwLmh0bWwnLCc8ZGl2IGNsYXNzPVwicm9vdFwiPlxcbiAgICA8IS0tIDxhcHAtbmF2IHVzZXI9XCIkY3RybC51c2VyXCIgb24tbG9nb3V0PVwiJGN0cmwubG9nb3V0KCk7XCI+PC9hcHAtbmF2PiAtLT5cXG4gICAgPCEtLSA8bWQtc2lkZW5hdiBmbGV4LW9yZGVyPVwiMlwiIG1kLWNvbXBvbmVudC1pZD1cInNpZGVcIiBtZC13aGl0ZWZyYW1lPVwiM1wiIG1kLWRpc2FibGUtYmFja2Ryb3AgY2xhc3M9XCJtZC1zaWRlbmF2LXJpZ2h0IG1kLW5vLXBhZ2luYXRpb24gYXBwX19zaWRlbmF2LS1oZWlnaHQgYXBwX19zaWRlbmF2LS13aWR0aCBhcHBfX3NpZGVuYXYtLXBvc2l0aW9uIGFwcF9fc2lkZW5hdi0tb3ZlcmZsb3cteFwiPlxcbiAgICAgICAgPGRpdiB1aS12aWV3PVwic2lkZVwiPjwvZGl2PlxcbiAgICA8L21kLXNpZGVuYXY+IC0tPlxcbiAgICA8ZGl2PlxcbiAgICAgICAgPGRpdiB1aS12aWV3PjwvZGl2PlxcbiAgICA8L2Rpdj5cXG48L2Rpdj5cXG4nKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dCgnLi9hdXRoLmh0bWwnLCcgIDxtZC1jb250ZW50IGNsYXNzPVwiYmFja2dyb3VuZCBoZWlnaHQtLWZ1bGwgd2lkdGgtLWZ1bGxcIiBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgY2VudGVyXCI+XFxuXFxuICAgIDxkaXY+XFxuICAgICAgPGltZyBzcmM9XCJpbWcvbXVnaHViX2xvZ28ucG5nXCIgd2lkdGg9XCIyMDBweFwiIC8+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8ZGl2IGNsYXNzPVwid2lkdGgtLWZ1bGwgYXV0aC0tYW5pbWF0aW9uIG5nLWVudGVyXCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAtMzBweDtcIj5cXG4gICAgICA8bWQtdGFicyBjbGFzcz1cImF1dGhfX3RhYkNvbnRhaW5lciB3aWR0aC0tZnVsbCBtZC1uby1hbmltYXRpb25cIiBtZC1jZW50ZXItdGFicz1cInRydWVcIiBtZC1keW5hbWljLWhlaWdodD5cXG5cXG4gICAgICAgIDxtZC10YWIgbGFiZWw9XCJTVFVERU5UXCI+XFxuICAgICAgICAgIDxtZC1jb250ZW50IGNsYXNzPVwiYmFja2dyb3VuZCBhdXRoLS1hbmltYXRpb24gbmctZW50ZXJcIj5cXG4gICAgICAgICAgICAgIDxsb2dpbiBuZy1pZj1cIiRjdHJsLnNob3dMb2dpblwiIG9uLXJlZ2lzdGVyPVwiJGN0cmwudG9nZ2xlUmVnaXN0ZXIoKVwiIG9uLXJlc2V0PVwiJGN0cmwudG9nZ2xlUmVzZXQoJGV2ZW50KVwiIHVzZXItdHlwZT1cIlNUVURFTlRcIj48L2xvZ2luPlxcbiAgICAgICAgICAgICAgPHJlZ2lzdGVyIG5nLWlmPVwiJGN0cmwuc2hvd1JlZ2lzdGVyXCIgb24tbG9naW49XCIkY3RybC50b2dnbGVSZWdpc3RlcigpXCIgdXNlci10eXBlPVwiU1RVREVOVFwiPjwvcmVnaXN0ZXI+XFxuICAgICAgICAgICAgICA8cmVzZXQgbmctaWY9XCIkY3RybC5zaG93UmVzZXRcIiBvbi1sb2dpbj1cIiRjdHJsLnRvZ2dsZUxvZ2luKClcIiB1c2VyLXR5cGU9XCJTVFVERU5UXCIgdXNlci1lbWFpbD1cIiRjdHJsLnVzZXJFbWFpbFwiPjwvcmVzZXQ+XFxuICAgICAgICAgIDwvbWQtY29udGVudD5cXG4gICAgICAgIDwvbWQtdGFiPlxcblxcbiAgICAgICAgPG1kLXRhYiBsYWJlbD1cIlRVVE9SXCI+XFxuICAgICAgICAgIDxtZC1jb250ZW50IGNsYXNzPVwiYmFja2dyb3VuZCBhdXRoLS1hbmltYXRpb24gbmctZW50ZXJcIj5cXG4gICAgICAgICAgICAgIDxsb2dpbiBuZy1pZj1cIiRjdHJsLnNob3dMb2dpblwiIG9uLXJlZ2lzdGVyPVwiJGN0cmwudG9nZ2xlUmVnaXN0ZXIoKVwiIG9uLXJlc2V0PVwiJGN0cmwudG9nZ2xlUmVzZXQoJGV2ZW50KVwiIHVzZXItdHlwZT1cIlRVVE9SXCI+PC9sb2dpbj5cXG4gICAgICAgICAgICAgIDxyZWdpc3RlciBuZy1pZj1cIiRjdHJsLnNob3dSZWdpc3RlclwiIG9uLWxvZ2luPVwiJGN0cmwudG9nZ2xlUmVnaXN0ZXIoKVwiIHVzZXItdHlwZT1cIlRVVE9SXCI+PC9yZWdpc3Rlcj5cXG4gICAgICAgICAgICAgIDxyZXNldCBuZy1pZj1cIiRjdHJsLnNob3dSZXNldFwiIG9uLWxvZ2luPVwiJGN0cmwudG9nZ2xlTG9naW4oKVwiIHVzZXItdHlwZT1cIlRVVE9SXCIgIHVzZXItZW1haWw9XCIkY3RybC51c2VyRW1haWxcIj48L3Jlc2V0PlxcbiAgICAgICAgICA8L21kLWNvbnRlbnQ+XFxuICAgICAgICA8L21kLXRhYj5cXG5cXG4gICAgICA8L21kLXRhYnM+XFxuICAgIDwvZGl2PlxcblxcbiAgPC9tZC1jb250ZW50PlxcbicpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KCcuL21lbW9zLmh0bWwnLCc8ZGl2PlxcbiAgVGhpcyBpcyB0aGUgYXBwLlxcbjwvZGl2PlxcbicpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KCcuL2F1dGgtZm9ybS5odG1sJywnPGZvcm0gbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIGNlbnRlclwiIG5hbWU9XCJhdXRoRm9ybVwiIG5vdmFsaWRhdGUgbmctc3VibWl0PVwiJGN0cmwuc3VibWl0Rm9ybSgpO1wiPlxcbiAgPG1kLWxpc3QgbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIGNlbnRlclwiPlxcblxcbiAgICA8ZGl2IG5nLWlmPVwiJGN0cmwuYnV0dG9uID09PSBcXCdSZWdpc3RlclxcJ1wiPlxcbiAgICAgIDxtZC1saXN0LWl0ZW0gbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwic3BhY2UtYmV0d2VlbiBjZW50ZXJcIj5cXG5cXG4gICAgICAgIDxkaXY+XFxuICAgICAgICAgIDxtZC1pbnB1dC1jb250YWluZXIgbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIGNlbnRlclwiIGNsYXNzPVwiYXV0aF9faW5wdXRcIj5cXG4gICAgICAgICAgICA8bGFiZWwgc3R5bGU9XCJjb2xvcjogICNlYWVhZWE7IGZvbnQtc2l6ZTogMTNweDsgZm9udC1mYW1pbHk6IFxcJ01vbnRzZXJyYXRcXCcsIHNhbnMtc2VyaWY7IHBhZGRpbmc6IDNweCAwcHggMHB4IDMwcHhcIj5GSVJTVCBOQU1FPC9sYWJlbD5cXG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJhdXRoX19pbnB1dC0tc3R5bGVOYW1lTGVmdCBhdXRoX19pbnB1dC0taGVpZ2h0XCIgdHlwZT1cInRleHRcIiBuYW1lPVwiZmlyc3RuYW1lXCIgbmctbW9kZWw9XCIkY3RybC51c2VyLmZpcnN0bmFtZVwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIC8+XFxuICAgICAgICAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxcbiAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICA8ZGl2PlxcbiAgICAgICAgICA8bWQtaW5wdXQtY29udGFpbmVyIGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImNlbnRlciBjZW50ZXJcIiBjbGFzcz1cImF1dGhfX2lucHV0XCI+XFxuICAgICAgICAgICAgPGxhYmVsIHN0eWxlPVwiY29sb3I6ICAjZWFlYWVhOyBmb250LXNpemU6IDEzcHg7IGZvbnQtZmFtaWx5OiBcXCdNb250c2VycmF0XFwnLCBzYW5zLXNlcmlmOyBwYWRkaW5nOiAzcHggMHB4IDBweCAzNXB4XCI+TEFTVCBOQU1FPC9sYWJlbD5cXG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJhdXRoX19pbnB1dC0tc3R5bGVOYW1lUmlnaHQgYXV0aF9faW5wdXQtLWhlaWdodFwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImxhc3RuYW1lXCIgbmctbW9kZWw9XCIkY3RybC51c2VyLmxhc3RuYW1lXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgLz5cXG4gICAgICAgICAgPC9tZC1pbnB1dC1jb250YWluZXI+XFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICA8L21kLWxpc3QtaXRlbT5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxkaXYgY2xhc3M9XCJhdXRoX19saXN0SXRlbS0tbWFyZ2luVG9wXCI+XFxuICAgICAgPG1kLWxpc3QtaXRlbT5cXG4gICAgICAgIDxtZC1pbnB1dC1jb250YWluZXIgbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIGNlbnRlclwiIGNsYXNzPVwiYXV0aF9faW5wdXRcIj5cXG4gICAgICAgICAgPGxhYmVsIHN0eWxlPVwiY29sb3I6ICAjZWFlYWVhOyBmb250LXNpemU6IDEzcHg7IGZvbnQtZmFtaWx5OiBcXCdNb250c2VycmF0XFwnLCBzYW5zLXNlcmlmOyBwYWRkaW5nOiA1cHggMHB4IDBweCAyMHB4XCI+PGkgc3R5bGU9XCJ2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyBjb2xvcjojZWFlYWVhOyBtYXJnaW46MHB4IDRweCAxcHggNHB4XCIgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBtZC0xOFwiPmVtYWlsPC9pPkVNQUlMPC9sYWJlbD5cXG4gICAgICAgICAgPGlucHV0IGNsYXNzPVwiYXV0aF9faW5wdXQtLXN0eWxlIGF1dGhfX2lucHV0LS1oZWlnaHRcIiB0eXBlPVwiZW1haWxcIiBuYW1lPVwiZW1haWxcIiBuZy1tb2RlbD1cIiRjdHJsLnVzZXIuZW1haWxcIiBhdXRvY29tcGxldGU9XCJvZmZcIiAvPlxcbiAgICAgICAgPC9tZC1pbnB1dC1jb250YWluZXI+XFxuICAgICAgPC9tZC1saXN0LWl0ZW0+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8ZGl2PlxcbiAgICAgIDxtZC1saXN0LWl0ZW0gY2xhc3M9XCJhdXRoX19saXN0SXRlbS0tbWFyZ2luVG9wXCI+XFxuICAgICAgICA8bWQtaW5wdXQtY29udGFpbmVyIGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImNlbnRlciBjZW50ZXJcIiBjbGFzcz1cImF1dGhfX2lucHV0XCI+XFxuICAgICAgICAgIDxsYWJlbCBzdHlsZT1cImNvbG9yOiAgI2VhZWFlYTsgZm9udC1zaXplOiAxM3B4OyBmb250LWZhbWlseTogXFwnTW9udHNlcnJhdFxcJywgc2Fucy1zZXJpZjsgcGFkZGluZzogNXB4IDBweCAwcHggMjBweFwiPjxpIHN0eWxlPVwidmVydGljYWwtYWxpZ246IG1pZGRsZTsgY29sb3I6I2VhZWFlYTsgbWFyZ2luOjBweCA0cHhcIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zIG1kLTE4XCI+bG9jazwvaT5QQVNTV09SRDwvbGFiZWw+XFxuICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImF1dGhfX2lucHV0LS1zdHlsZSBhdXRoX19pbnB1dC0taGVpZ2h0XCIgdHlwZT1cInBhc3N3b3JkXCIgbmFtZT1cInBhc3N3b3JkXCIgbmctbW9kZWw9XCIkY3RybC51c2VyLnBhc3N3b3JkXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgLz5cXG4gICAgICAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxcbiAgICAgICAgPHAgbmctaWY9XCIkY3RybC5idXR0b24gPT09IFxcJ0xvZ2luXFwnXCIgbmctY2xpY2s9XCIkY3RybC5yZXNldCgpXCIgY2xhc3M9XCJhdXRoX19mb3Jnb3RcIj4/PC9wPlxcbiAgICAgIDwvbWQtbGlzdC1pdGVtPlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPGRpdj5cXG4gICAgICA8bWQtbGlzdC1pdGVtIGNsYXNzPVwiYXV0aF9fbGlzdEl0ZW0tLW1hcmdpblRvcFwiPlxcbiAgICAgICAgPG1kLWJ1dHRvbiB0eXBlPVwic3VibWl0XCIgbmctZGlzYWJsZWQ9XCJhdXRoRm9ybS4kaW52YWxpZFwiIGNsYXNzPVwibWQtcmFpc2VkIGF1dGhfX2J1dHRvbiBhdXRoX19pbnB1dC0taGVpZ2h0XCI+XFxuICAgICAgICAgIDxoMSBjbGFzcz1cImF1dGhfX2J1dHRvblRleHRcIj57eyAkY3RybC5idXR0b24gfX0gYXMgYSB7eyAkY3RybC51c2VyVHlwZSB9fTwvaDE+XFxuICAgICAgICA8L21kLWJ1dHRvbj5cXG4gICAgICA8L21kLWxpc3QtaXRlbT5cXG4gICAgPC9kaXY+XFxuXFxuXFxuICA8L21kLWxpc3Q+XFxuPC9mb3JtPlxcbicpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KCcuL2xvZ2luLmh0bWwnLCc8ZGl2IGxheW91dD1cImNvbHVtblwiIGxheW91dC1hbGlnbj1cImNlbnRlclwiIGNsYXNzPVwiYXV0aC0tYW5pbWF0aW9uXCI+XFxuICAgIDxkaXY+XFxuICAgICAgICA8YXV0aC1mb3JtIHVzZXI9XCIkY3RybC51c2VyXCIgdXNlci10eXBlPVwiJGN0cmwudXNlclR5cGVcIiBidXR0b249XCJMb2dpblwiIG9uLXN1Ym1pdD1cIiRjdHJsLmxvZ2luVXNlcigkZXZlbnQpO1wiIG9uLXJlc2V0PVwiJGN0cmwucmVzZXQoJGV2ZW50KVwiPlxcbiAgICAgICAgPC9hdXRoLWZvcm0+XFxuICAgIDwvZGl2PlxcbiAgICA8Y2VudGVyPlxcbiAgICAgICAgPGRpdj5cXG4gICAgICAgICAgICA8YSBuZy1jbGljaz1cIiRjdHJsLm9uUmVnaXN0ZXIoJGV2ZW50KVwiIGNsYXNzPVwiYXV0aF9fdHJhbnNcIj5cXG4gICAgICBEb25cXCd0IGhhdmUgYW4gYWNjb3VudD8gQ3JlYXRlIG9uZSBoZXJlLlxcbiAgICA8L2E+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9jZW50ZXI+XFxuPC9kaXY+XFxuJyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJy4vcmVnaXN0ZXIuaHRtbCcsJzxkaXYgbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWFsaWduPVwiY2VudGVyXCIgY2xhc3M9XCJhdXRoLS1hbmltYXRpb25cIj5cXG4gICAgPGRpdj5cXG4gICAgICAgIDxhdXRoLWZvcm0gdXNlcj1cIiRjdHJsLnVzZXJcIiB1c2VyLXR5cGU9XCIkY3RybC51c2VyVHlwZVwiIG1lc3NhZ2U9XCJ7eyAkY3RybC5lcnJvciB9fVwiIGJ1dHRvbj1cIlJlZ2lzdGVyXCIgb24tc3VibWl0PVwiJGN0cmwuY3JlYXRlVXNlcigkZXZlbnQpO1wiPlxcbiAgICAgICAgPC9hdXRoLWZvcm0+XFxuICAgIDwvZGl2PlxcbiAgICA8Y2VudGVyPlxcbiAgICAgICAgPGRpdj5cXG4gICAgICAgICAgICA8YSBuZy1jbGljaz1cIiRjdHJsLm9uTG9naW4oJGV2ZW50KVwiIGNsYXNzPVwiYXV0aF9fdHJhbnNcIj5BbHJlYWR5IGhhdmUgYW4gYWNjb3VudD8gTG9naW4gaGVyZS48L2E+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9jZW50ZXI+XFxuPC9kaXY+XFxuJyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJy4vcmVzZXQuaHRtbCcsJzxkaXYgbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWFsaWduPVwiY2VudGVyXCIgY2xhc3M9XCJhdXRoLS1hbmltYXRpb25cIj5cXG4gIDxkaXY+XFxuICAgIDxmb3JtIGxheW91dD1cImNvbHVtblwiIGxheW91dC1hbGlnbj1cImNlbnRlciBjZW50ZXJcIiBuYW1lPVwiYXV0aEZvcm1cIiBub3ZhbGlkYXRlIG5nLXN1Ym1pdD1cIiRjdHJsLnJlc2V0KCRjdHJsLnVzZXJFbWFpbClcIj5cXG4gICAgICA8bWQtbGlzdCBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgY2VudGVyXCI+XFxuXFxuICAgICAgICA8ZGl2PlxcbiAgICAgICAgICA8bWQtbGlzdC1pdGVtPlxcbiAgICAgICAgICAgIDxtZC1pbnB1dC1jb250YWluZXIgbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIGNlbnRlclwiIGNsYXNzPVwiYXV0aF9faW5wdXRcIj5cXG4gICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT1cImNvbG9yOiAgI2VhZWFlYTsgZm9udC1zaXplOiAxM3B4OyBmb250LWZhbWlseTogXFwnTW9udHNlcnJhdFxcJywgc2Fucy1zZXJpZjsgcGFkZGluZzogNXB4IDBweCAwcHggMjBweFwiPjxpIHN0eWxlPVwidmVydGljYWwtYWxpZ246IG1pZGRsZTsgY29sb3I6I2VhZWFlYTsgbWFyZ2luOjBweCA0cHggMXB4IDRweFwiIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgbWQtMThcIj5lbWFpbDwvaT5FTUFJTDwvbGFiZWw+XFxuICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJhdXRoX19pbnB1dC0tc3R5bGUgYXV0aF9faW5wdXQtLWhlaWdodFwiIHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJlbWFpbFwiIG5nLW1vZGVsPVwiJGN0cmwudXNlckVtYWlsXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgLz5cXG4gICAgICAgICAgICA8L21kLWlucHV0LWNvbnRhaW5lcj5cXG4gICAgICAgICAgPC9tZC1saXN0LWl0ZW0+XFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXY+XFxuICAgICAgICAgIDxtZC1saXN0LWl0ZW0gY2xhc3M9XCJhdXRoX19saXN0SXRlbS0tbWFyZ2luVG9wXCI+XFxuICAgICAgICAgICAgPG1kLWJ1dHRvbiB0eXBlPVwic3VibWl0XCIgbmctZGlzYWJsZWQ9XCJhdXRoRm9ybS4kaW52YWxpZFwiIGNsYXNzPVwibWQtcmFpc2VkIGF1dGhfX2J1dHRvbiBhdXRoX19pbnB1dC0taGVpZ2h0XCI+XFxuICAgICAgICAgICAgICA8aDEgY2xhc3M9XCJhdXRoX19idXR0b25UZXh0XCI+UkVTRVQge3sgJGN0cmwudXNlclR5cGUgfX0gQUNPVU5UPC9oMT5cXG4gICAgICAgICAgICA8L21kLWJ1dHRvbj5cXG4gICAgICAgICAgPC9tZC1saXN0LWl0ZW0+XFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICA8L21kLWxpc3Q+XFxuICAgIDwvZm9ybT5cXG4gIDwvZGl2PlxcbiAgPGNlbnRlcj5cXG4gICAgPGRpdj5cXG4gICAgICA8YSBuZy1jbGljaz1cIiRjdHJsLm9uTG9naW4oJGV2ZW50KVwiIGNsYXNzPVwiYXV0aF9fdHJhbnNcIj5PciBsb2dpbiB3aXRoIGFuIGV4aXN0aW5nIGFjY291bnQuPC9hPlxcbiAgICA8L2Rpdj5cXG4gIDwvY2VudGVyPlxcbjwvZGl2PlxcbicpO31dKTsiXX0=
