(function(angular){
'use strict';
angular
    .module('root', [
    'common',
    'components',
    'templates'
  ]);
})(window.angular);
(function(angular){
'use strict';
angular
  .module('common', [
    'ui.router',
    'ngMaterial',
    'ngMessages',
  ]);
})(window.angular);
(function(angular){
'use strict';
angular
    .module('components', [
    'components.auth',
    'components.memos'
  ])
})(window.angular);
(function(angular){
'use strict';
angular
  .module('common', [
    'ui.router',
    'ngMaterial',
    'ngMessages',
  ]);
})(window.angular);
(function(angular){
'use strict';
angular
  .module('common', [
    'ui.router',
    'ngMaterial',
    'ngMessages',
  ]);
})(window.angular);
(function(angular){
'use strict';
/**
 *
 * @ngdoc object
 * @name components.auth
 *
 * @requires ui.router,ngParse,ngMaterial,ngMessages
 *
 * @description
 *
 * This is the auth module. It includes login, register, and reset components for auth feature.
 *
 **/

angular
    .module('components.auth', [
    'ui.router',
    'ngParse',
    'ngMaterial',
    'ngMessages'
  ])
    .config(["ParseProvider", function (ParseProvider) {
        var MY_PARSE_APP_ID = 'uDzN7E7NYIbwdzKLUwNBtDtGfxyxrrBo3C6xGri3';
        var MY_PARSE_JS_KEY = '0VcWEWBLIwEcExM2Nz3TziSGjKiMsoU7SNjI5RPA';
        ParseProvider.initialize(MY_PARSE_APP_ID, MY_PARSE_JS_KEY);
        ParseProvider.serverURL = 'https://parseapi.back4app.com/';

    }])
    .run(["$transitions", "$state", "AuthService", function ($transitions, $state, AuthService) {
        $transitions.onStart({
            to: function (state) {
                return !!(state.data && state.data.requiredAuth);
            }
        }, function () {
            return AuthService
                .requireAuthentication()
                .catch(function () {
                    return $state.target('auth');
                });
        });
        $transitions.onStart({
            to: 'auth'
        }, function () {
            if (AuthService.isAuthenticated()) {
                return $state.go('app');
            }
        });
    }]);
})(window.angular);
(function(angular){
'use strict';
angular
    .module('components.memos', [
    'ui.router'
  ]);
})(window.angular);
(function(angular){
'use strict';
angular
    .module('components.tutor', [
    'ui.router'
  ]);
})(window.angular);
(function(angular){
'use strict';
var root = {
    templateUrl: './root.html'
};

angular
    .module('root')
    .component('root', root);
})(window.angular);
(function(angular){
'use strict';
var app = {
    templateUrl: './app.html',
    controller: 'AppController'
};

angular
    .module('common')
    .component('app', app)
    .config(["$stateProvider", function ($stateProvider) {
        $stateProvider
            .state('app', {
                redirectTo: 'memos',
                url: '/',
                data: {
                    requiredAuth: true
                },
                component: 'app'
            })
    }]);
})(window.angular);
(function(angular){
'use strict';
AppController.$inject = ["AuthService", "$state"];
function AppController(AuthService, $state) {
    var ctrl = this;
    ctrl.user = AuthService.getUser();
    ctrl.logout = function () {
        AuthService.logout()
            .then(function () {
                $state.go('auth.login');
            });
    };
}

angular
    .module('common')
    .controller('AppController', AppController);
})(window.angular);
(function(angular){
'use strict';
init.$inject = ["$rootScope", "$uiRouter", "$mdSidenav"];
function init($rootScope, $uiRouter, $mdSidenav) {
    var Visualizer = window['ui-router-visualizer'].Visualizer;
    var pluginInstance = $uiRouter.plugin(Visualizer);

    $rootScope.toggleMenu = toggleMenu;

    function toggleMenu(navId) {
        console.log('toggle sidenav: ' + navId);
        $mdSidenav(navId)
            .toggle();
    }
}

angular
    .module('common')
    .run(init)
})(window.angular);
(function(angular){
'use strict';
class UserModel {
    constructor(Parse) {
        this.Parse = Parse;
        this.data = {};
        this.name = 'User';
        this.fields = [
            'lastName',
            'emailVerified',
            'data',
            'type',
            'authData',
            'username',
            'firstname',
            'password',
            'email'
        ];
    }
    New(obj) {
        if (angular.isUndefined(obj)) {
            let parseObject = new this.Parse.Object(this.name)
            this.Parse.defineAttributes(parseObject, this.fields);
            return parseObject;
        } else {
            this.Parse.defineAttributes(obj, this.fields);
            return obj;
        }
    }
    getById(id) {
        return new this.Parse.Query(this.New()).get(id)
            .then(result => {
                this.Parse.defineAttributes(result, this.fields);
                this.data = result;
                return Promise.resolve(result);
            }).catch(error => Promise.reject(error));
    }
    // getByEmail(email) {
    //     return new this.Parse.Query(this.New()).get(email)
    //         .then(result => {
    //             this.Parse.defineAttributes(result, this.fields);
    //             this.data = result;
    //             return Promise.resolve(result);
    //         }).catch(error => Promise.reject(error));
    // }
}

angular
    .module('common')
    .service('UserModel', UserModel);
})(window.angular);
(function(angular){
'use strict';
var studentApp = {
    templateUrl: './student-app.html',
    controller: 'StudentAppController'
};

angular
    .module('common')
    .component('studentApp', studentApp)
    .config(["$stateProvider", function ($stateProvider) {
        $stateProvider
            .state('student-app', {
                redirectTo: 'tutor',
                url: '/',
                data: {
                    requiredAuth: true
                },
                component: 'studentApp'
            })
    }]);
})(window.angular);
(function(angular){
'use strict';
TutorAppController.$inject = ["AuthService", "$state"];
function TutorAppController(AuthService, $state) {
    var ctrl = this;
    ctrl.user = AuthService.getUser();
    ctrl.logout = function () {
        AuthService.logout()
            .then(function () {
                $state.go('auth');
            });
    };
}

angular
    .module('common')
    .controller('TutorAppController', TutorAppController);
})(window.angular);
(function(angular){
'use strict';
init.$inject = ["$rootScope", "$uiRouter", "$mdSidenav"];
function init($rootScope, $uiRouter, $mdSidenav) {
    var Visualizer = window['ui-router-visualizer'].Visualizer;
    var pluginInstance = $uiRouter.plugin(Visualizer);

    $rootScope.toggleMenu = toggleMenu;

    function toggleMenu(navId) {
        console.log('toggle sidenav: ' + navId);
        $mdSidenav(navId)
            .toggle();
    }
}

angular
    .module('common')
    .run(init)
})(window.angular);
(function(angular){
'use strict';
var tutorApp = {
    templateUrl: './tutor-app.html',
    controller: 'TutorAppController'
};

angular
    .module('common')
    .component('tutorApp', tutorApp)
    .config(["$stateProvider", function ($stateProvider) {
        $stateProvider
            .state('tutor-app', {
                redirectTo: 'tutor',
                url: '/',
                data: {
                    requiredAuth: true
                },
                component: 'tutorApp'
            })
    }]);
})(window.angular);
(function(angular){
'use strict';
TutorAppController.$inject = ["AuthService", "$state"];
function TutorAppController(AuthService, $state) {
    var ctrl = this;
    ctrl.user = AuthService.getUser();
    ctrl.logout = function () {
        AuthService.logout()
            .then(function () {
                $state.go('auth');
            });
    };
}

angular
    .module('common')
    .controller('TutorAppController', TutorAppController);
})(window.angular);
(function(angular){
'use strict';
init.$inject = ["$rootScope", "$uiRouter", "$mdSidenav"];
function init($rootScope, $uiRouter, $mdSidenav) {
    var Visualizer = window['ui-router-visualizer'].Visualizer;
    var pluginInstance = $uiRouter.plugin(Visualizer);

    $rootScope.toggleMenu = toggleMenu;

    function toggleMenu(navId) {
        console.log('toggle sidenav: ' + navId);
        $mdSidenav(navId)
            .toggle();
    }
}

angular
    .module('common')
    .run(init)
})(window.angular);
(function(angular){
'use strict';
var auth = {
    templateUrl: './auth.html',
    controller: 'AuthController'
};

angular
    .module('components.auth')
    .component('auth', auth)
    .config(["$stateProvider", "$urlRouterProvider", function ($stateProvider, $urlRouterProvider) {
        $stateProvider
            // .state('auth', {
            //     redirectTo: 'auth',
            //     url: '/auth',
            //     templateUrl: './auth.html'
            // })
            .state('auth', {
                url: '/auth',
                component: 'auth'
            });
         $urlRouterProvider.otherwise('/auth');
    }]);
})(window.angular);
(function(angular){
'use strict';
AuthController.$inject = ["AuthService"];
function AuthController(AuthService) {
  var ctrl = this;

  ctrl.$onInit = function() {
    // define variables
    ctrl.showRegister = false;
    ctrl.showReset = false;
    ctrl.showLogin = true;

    // define functions
    ctrl.toggleRegister = toggleRegister;
    ctrl.toggleReset = toggleReset;
    ctrl.toggleLogin = toggleLogin;
    ctrl.register = register;
    ctrl.login = login;
    ctrl.reset = reset;
  }

  function toggleRegister() {
    ctrl.showRegister = !ctrl.showRegister;
    ctrl.showLogin = !ctrl.showLogin;
  }

  function toggleReset(event) {
    ctrl.userEmail = event.email;
    ctrl.showReset = !ctrl.showReset;
    ctrl.showLogin = !ctrl.showLogin;
  }

  function toggleLogin() {
    ctrl.showLogin = !ctrl.showLogin;
    ctrl.showReset = !ctrl.showReset;
  }

  function login(event) {
    return AuthService.login(event.user)
  }

  function register(event) {
    return AuthService.register(event.user)
      .signUp(null)
      .then(() => {
        alert("A verfication email has been sent to " + event.user.email)
        return AuthService.logout()
          .then(() => {
            toggleRegister();
          })
      })
      .catch(error => alert(error))
  }

  //TODO put logic in AuthService
  function reset(email) {
    if (email) {
      Parse.User
        .requestPasswordReset(email)
        .then(() => {
          alert('A password reset email has been sent to ' + email);
          toggleLogin();
        })
        .catch(err => {
          alert(err.code + " " + err.message);
        });
    }
  }
}

angular
  .module('components.auth')
  .controller('AuthController', AuthController);
})(window.angular);
(function(angular){
'use strict';
/**
 * @ngdoc service
 * @name components.auth:AuthService
 *
 * @description Handles authentication for app
 */

AuthService.$inject = ["Parse", "$state"];
function AuthService(Parse, $state) {
  var auth = new Parse.User(); // creates a new user in Parse
  var currentUser = null; //holds info about current user
  // var isLogin = false; //sends signal to controller on whether to route to login tab

  //this.isLogin = false;

  /**
   * @ngdoc method
   * @name AuthService#storeAuthData
   * @methodOf components.auth:AuthService
   * @param {object} obj Parse user object
   * @returns {object} returns currentUser object
   */

  function storeAuthData(response) {
    currentUser = response;
    return currentUser;
  }

  /**
   * @ngdoc method
   * @name AuthService#clearAuthData
   * @methodOf components.auth:AuthService
   * @returns {object} returns a blank user object
   */

  function clearAuthData() {
    currentUser = Parse.User.current(); // this will now be null
    return currentUser;
  }

  /**
   * @ngdoc method
   * @name AuthService#login
   * @methodOf components.auth:AuthService
   * @param {object} obj user data from auth-form
   * @returns {object} returns the current user object
   */

  this.login = function(user) {
    let userType = user.type
    return Parse.User
      .logIn(user.email, user.password)
      .then(user => {
        if (user.attributes.emailVerified && user.attributes.type === userType) {
          storeAuthData()
          $state.go('app')
        } else {
          this.logout()
            .then(() => {
              alert('Please verify email address or ensure you are logging in as the correct user type.');
            })
        }
      })
      .catch(error => alert(error))
  };

  /**
   * @ngdoc method
   * @name AuthService#register
   * @methodOf components.auth:AuthService
   * @param {object} obj user data from auth-form
   * @returns {object} returns the current user object
   */

  this.register = function(user) {
    auth.set("username", user.email);
    auth.set("firstname", user.firstname);
    auth.set("lastname", user.lastname);
    auth.set("password", user.password);
    auth.set("email", user.email);
    auth.set("type", user.type)
    return auth
  };

  /**
   * @ngdoc method
   * @name AuthService#logout
   * @methodOf components.auth:AuthService
   * @returns {object} returns an empty user object
   */

  this.logout = function() {
    return Parse.User.logOut()
      .then(clearAuthData);
  };

  /**
   * @ngdoc method
   * @name AuthService#requireAuthentication
   * @methodOf components.auth:AuthService
   * @returns {promise} returns resolve or reject based on user authentication
   */

  this.requireAuthentication = function() {
    return new Promise(function(resolve, reject) {
      if (!!Parse.User.current() && Parse.User.current()
        .authenticated()) {
        resolve();
      } else {
        reject();
      }
    });
  }

  // /**
  //  * @ngdoc method
  //  * @name AuthService#reset
  //  * @methodOf components.auth:AuthService
  //  * @param {string} email email entered on authForm
  //  */
  //
  // this.reset = function(email) {
  //   Parse.User
  //     .requestPasswordReset(email)
  // }

  /**
   * @ngdoc method
   * @name AuthService#isAuthenticated
   * @methodOf components.auth:AuthService
   * @returns {boolean} returns whether user is authenticated based on sessionStorage
   */

  this.isAuthenticated = function() {
    // return !!(Parse.User.current() && Parse.User.current()
    //     .authenticated());
  };

  /**
   * @ngdoc method
   * @name AuthService#getUser
   * @methodOf components.auth:AuthService
   * @returns {object} returns currentUser sessionStorage object
   */

  this.getUser = function() {
    if (auth) {
      return auth;
    }
  };
};

angular
  .module('components.auth')
  .service('AuthService', AuthService);
})(window.angular);
(function(angular){
'use strict';
var memos = {
    templateUrl: './memos.html',
    controller: 'MemosController',
    bindings: {}
}

angular
    .module('components.memos')
    .component('memos', memos)
    .config(["$stateProvider", function ($stateProvider) {
        $stateProvider.state('memos', {
            parent: 'app',
            url: 'memos',
            component: 'memos'
        })
    }]);
})(window.angular);
(function(angular){
'use strict';
MemosController.$inject = ["$state"];
function MemosController($state) {

    var ctrl = this;
    ctrl.$onInit = function () {

    }

}


angular
    .module('components.memos')
    .controller('MemosController', MemosController);
})(window.angular);
(function(angular){
'use strict';
var tutor = {
  templateUrl: './tutor.html',
  controller: 'TutorController',
  bindings: {}
}

angular
  .module('components.tutor')
  .component('tutor', tutor)
  .config(["$stateProvider", function($stateProvider) {
    $stateProvider.state('tutor', {
      parent: 'tutor-app',
      url: 'tutor',
      component: 'tutor'
    })
  }]);
})(window.angular);
(function(angular){
'use strict';
function TutorController() {

    var ctrl = this;
    ctrl.$onInit = function () {

    }

}

angular
    .module('components.tutor')
    .controller('TutorController', TutorController);
})(window.angular);
(function(angular){
'use strict';
var authForm = {
    bindings: {
        user: '<',
        userType: '<',
        button: '@',
        message: '@',
        onSubmit: '&',
        onReset: '&'
    },
    templateUrl: './auth-form.html',
    controller: 'AuthFormController'
};

angular
    .module('components.auth')
    .component('authForm', authForm);
})(window.angular);
(function(angular){
'use strict';
function AuthFormController() {
  
  var ctrl = this;

  ctrl.$onInit = function() {
    ctrl.submitForm = submitForm;
    ctrl.reset = reset;
  }

  ctrl.$onChanges = function(changes) {
    if (changes.user) {
      ctrl.user = angular.copy(ctrl.user);
    }
  };

// function passes click event with user object to login component
  function submitForm() {
    ctrl.onSubmit({
      $event: {
        user: ctrl.user
      }
    });
  };

// function passes click event with user email to login component
  function reset() {
    ctrl.onReset({
      $event: {
        email: ctrl.user.email
      }
    });
  };

}

angular
  .module('components.auth')
  .controller('AuthFormController', AuthFormController);
})(window.angular);
(function(angular){
'use strict';
var login = {
    templateUrl: './login.html',
    controller: 'LoginController',
    bindings: {
      userType: '@',
      onRegister: '&',
      onReset: '&',
      onLogin: '&'
    }
};

angular
    .module('components.auth')
    .component('login', login);
})(window.angular);
(function(angular){
'use strict';
LoginController.$inject = ["AuthService", "$state"];
function LoginController(AuthService, $state) {
  var ctrl = this;

  //initialize user data
  ctrl.$onInit = function() {
    //define variables
      ctrl.user = {
          email: '',
          password: '',
          type: ctrl.userType
      };

    ///define functions
    ctrl.login = login;
    ctrl.reset = reset;
  };

  function login(event) {
    ctrl.onLogin({
      $event: {
        user: event.user
      }
    });
  };

  function reset(event) {
    ctrl.onReset({
      $event: {
        email: event.email
      }
    });
  };

}

angular
  .module('components.auth')
  .controller('LoginController', LoginController);
})(window.angular);
(function(angular){
'use strict';
var register = {
    templateUrl: './register.html',
    controller: 'RegisterController',
    bindings: {
      userType: '@',
      onLogin: '&',
      onRegister: '&'
    }
};

angular
    .module('components.auth')
    .component('register', register);
})(window.angular);
(function(angular){
'use strict';
function RegisterController() {
  var ctrl = this;

  ctrl.$onInit = function() {
    //define variables
    ctrl.error = null;
    ctrl.user = {
      email: '',
      password: '',
      type: ctrl.userType
    };
    ///define functions
    ctrl.register = register;
  };

  function register(event) {
    ctrl.onRegister({
      $event: {
        user: event.user
      }
    });
  };
}

angular
  .module('components.auth')
  .controller('RegisterController', RegisterController);
})(window.angular);
(function(angular){
'use strict';
var reset = {
    templateUrl: './reset.html',
    controller: 'ResetController',
    bindings: {
      onLogin: '&',
      userType: '@',
      userEmail: '<',
      onReset: '&'
    }
};

angular
    .module('components.auth')
    .component('reset', reset);
})(window.angular);
(function(angular){
'use strict';
function ResetController() {

}


angular
  .module('components.auth')
  .controller('ResetController', ResetController);
})(window.angular);
(function(angular){
'use strict';
angular.module('templates', []).run(['$templateCache', function($templateCache) {$templateCache.put('./root.html','<div class="root">\n    <div ui-view></div>\n</div>\n');
$templateCache.put('./app.html','<div class="root">\n    <!-- <app-nav user="$ctrl.user" on-logout="$ctrl.logout();"></app-nav> -->\n    <!-- <md-sidenav flex-order="2" md-component-id="side" md-whiteframe="3" md-disable-backdrop class="md-sidenav-right md-no-pagination app__sidenav--height app__sidenav--width app__sidenav--position app__sidenav--overflow-x">\n        <div ui-view="side"></div>\n    </md-sidenav> -->\n    <div>\n        <div ui-view></div>\n    </div>\n</div>\n');
$templateCache.put('./student-app.html','<div class="root">\n    <!-- <app-nav user="$ctrl.user" on-logout="$ctrl.logout();"></app-nav> -->\n    <!-- <md-sidenav flex-order="2" md-component-id="side" md-whiteframe="3" md-disable-backdrop class="md-sidenav-right md-no-pagination app__sidenav--height app__sidenav--width app__sidenav--position app__sidenav--overflow-x">\n        <div ui-view="side"></div>\n    </md-sidenav> -->\n    <div>\n        <div ui-view></div>\n    </div>\n</div>\n');
$templateCache.put('./tutor-app.html','<div class="root">\n    <!-- <app-nav user="$ctrl.user" on-logout="$ctrl.logout();"></app-nav> -->\n    <!-- <md-sidenav flex-order="2" md-component-id="side" md-whiteframe="3" md-disable-backdrop class="md-sidenav-right md-no-pagination app__sidenav--height app__sidenav--width app__sidenav--position app__sidenav--overflow-x">\n        <div ui-view="side"></div>\n    </md-sidenav> -->\n    <div>\n        <div ui-view></div>\n    </div>\n</div>\n');
$templateCache.put('./auth.html','<md-content class="background height--full width--full" layout="column" layout-align="center center">\n\n  <div>\n    <img src="img/mughub_logo.png" width="160px" />\n  </div>\n\n  <div class="width--full auth--animation ng-enter" style="margin-top: -30px;">\n    <md-tabs class="width--full md-no-animation" md-center-tabs="true" md-dynamic-height>\n\n      <md-tab label="STUDENT">\n        <md-content class="background auth--animation ng-enter">\n          <login ng-if="$ctrl.showLogin" on-login="$ctrl.login($event)" on-register="$ctrl.toggleRegister()" on-reset="$ctrl.toggleReset($event)" user-type="STUDENT"></login>\n          <register ng-if="$ctrl.showRegister" on-register="$ctrl.register($event)" on-login="$ctrl.toggleRegister()" user-type="STUDENT"></register>\n          <reset ng-if="$ctrl.showReset" on-reset="$ctrl.reset($ctrl.userEmail)" on-login="$ctrl.toggleLogin()" user-type="STUDENT" user-email="$ctrl.userEmail"></reset>\n        </md-content>\n      </md-tab>\n\n      <md-tab label="TUTOR">\n        <md-content class="background auth--animation ng-enter">\n          <login ng-if="$ctrl.showLogin" on-login="$ctrl.login($event)" on-register="$ctrl.toggleRegister()" on-reset="$ctrl.toggleReset($event)" user-type="TUTOR"></login>\n          <register ng-if="$ctrl.showRegister" on-register="$ctrl.register($event)" on-login="$ctrl.toggleRegister()" user-type="TUTOR"></register>\n          <reset ng-if="$ctrl.showReset" on-reset="$ctrl.reset($ctrl.userEmail)" on-login="$ctrl.toggleLogin()" user-type="TUTOR" user-email="$ctrl.userEmail"></reset>\n        </md-content>\n      </md-tab>\n\n    </md-tabs>\n  </div>\n\n</md-content>\n');
$templateCache.put('./memos.html','<div>\n  This is the app.\n</div>\n');
$templateCache.put('./tutor.html','<div>\n  This is the app\n</div>\n');
$templateCache.put('./auth-form.html','<form layout="column" layout-align="center center" name="authForm" novalidate ng-submit="$ctrl.submitForm();">\n  <md-list layout="column" layout-align="center center">\n\n    <div ng-if="$ctrl.button === \'Register\'">\n      <md-list-item layout="row" layout-align="space-between center">\n\n        <div>\n          <md-input-container layout="row" layout-align="center center" class="auth">\n            <label class="auth__label auth__label--paddingName">FIRST NAME</label>\n            <input class="auth__input auth__input--height auth__input--widthHalf auth__input--borderRadiusFirstName text--center text--font" type="text" name="firstname" ng-model="$ctrl.user.firstname" autocomplete="off" />\n          </md-input-container>\n        </div>\n\n        <div>\n          <md-input-container layout="row" layout-align="center center" class="auth">\n            <label class="auth__label auth__label--paddingName">LAST NAME</label>\n            <input class="auth__input auth__input--height auth__input--widthHalf auth__input--borderRadiusLastName text--center text--font" type="text" name="lastname" ng-model="$ctrl.user.lastname" autocomplete="off" />\n          </md-input-container>\n        </div>\n\n      </md-list-item>\n    </div>\n\n    <div class="auth--marginTop">\n      <md-list-item>\n        <md-input-container layout="row" layout-align="center center" class="auth">\n          <label class="auth__label auth__label--padding"><i class="material-icons md-16 auth__icon">email</i>EMAIL</label>\n          <input class="auth__input auth__input--height auth__input--width text--font" type="email" name="email" ng-model="$ctrl.user.email" autocomplete="off" />\n        </md-input-container>\n      </md-list-item>\n    </div>\n\n    <div class="auth--marginTop">\n      <md-list-item>\n        <md-input-container layout="row" layout-align="center center" class="auth">\n          <label class="auth__label auth__label--padding"><i class="material-icons md-16 auth__icon">lock</i>PASSWORD</label>\n          <input class="auth__input auth__input--height auth__input--width text--font" type="password" name="password" ng-model="$ctrl.user.password" autocomplete="off" />\n        </md-input-container>\n        <p ng-if="$ctrl.button === \'Login\'" ng-click="$ctrl.reset()" class="auth__reset">?</p>\n      </md-list-item>\n    </div>\n\n    <div class="auth--marginTop">\n      <md-list-item>\n        <md-button type="submit" ng-disabled="authForm.$invalid" class="md-raised auth__button auth__input--height auth__input--width">\n          <h1 class="auth__buttonText">{{ $ctrl.button }} as a {{ $ctrl.userType }}</h1>\n        </md-button>\n      </md-list-item>\n    </div>\n\n\n  </md-list>\n</form>\n');
$templateCache.put('./login.html','<div layout="column" layout-align="center" class="auth--animation">\n  <div>\n    <auth-form user="$ctrl.user" user-type="$ctrl.userType" button="Login" on-submit="$ctrl.login($event);" on-reset="$ctrl.reset($event)">\n    </auth-form>\n  </div>\n  <center>\n    <div>\n      <a ng-click="$ctrl.onRegister($event)" class="auth__link">\n      Don\'t have an account? Create one here.\n    </a>\n    </div>\n  </center>\n</div>\n');
$templateCache.put('./register.html','<div layout="column" layout-align="center" class="auth--animation">\n    <div>\n        <auth-form user="$ctrl.user" user-type="$ctrl.userType" message="{{ $ctrl.error }}" button="Register" on-submit="$ctrl.register($event);">\n        </auth-form>\n    </div>\n    <center>\n        <div>\n            <a ng-click="$ctrl.onLogin($event)" class="auth__link">Already have an account? Login here.</a>\n        </div>\n    </center>\n</div>\n');
$templateCache.put('./reset.html','<div layout="column" layout-align="center" class="auth--animation">\n    <form layout="column" layout-align="center center" name="authForm" novalidate ng-submit="$ctrl.onReset($event)">\n\n      <md-list layout="column" layout-align="center center">\n\n        <div class="auth--marginTop">\n          <md-list-item>\n            <md-input-container layout="row" layout-align="center center" class="auth">\n              <label class="auth__label auth__label--padding"><i class="material-icons md-16 auth__icon">email</i>EMAIL</label>\n              <input class="auth__input auth__input--height auth__input--width text--font" type="email" name="email" ng-model="$ctrl.userEmail" autocomplete="off" />\n            </md-input-container>\n          </md-list-item>\n        </div>\n\n        <div class="auth--marginTop">\n          <md-list-item>\n            <md-button type="submit" ng-disabled="authForm.$invalid" class="md-raised auth__button auth__input--height auth__input--width">\n              <h1 class="auth__buttonText">RESET {{ $ctrl.userType }} ACOUNT</h1>\n            </md-button>\n          </md-list-item>\n        </div>\n\n      </md-list>\n    </form>\n\n  <center>\n    <div>\n      <a ng-click="$ctrl.onLogin($event)" class="auth__link">Or login with an existing account.</a>\n    </div>\n  </center>\n\n</div>\n');}]);})(window.angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvb3QubW9kdWxlLmpzIiwiY29tbW9uL2FwcC5tb2R1bGUuanMiLCJjb21wb25lbnRzL2NvbXBvbmVudHMubW9kdWxlLmpzIiwiY29tbW9uL3N0dWRlbnQtYXBwL3N0dWRlbnQtYXBwLm1vZHVsZS5qcyIsImNvbW1vbi90dXRvci1hcHAvdHV0b3ItYXBwLm1vZHVsZS5qcyIsImNvbXBvbmVudHMvYXV0aC9hdXRoLm1vZHVsZS5qcyIsImNvbXBvbmVudHMvbWVtb3MvbWVtb3MubW9kdWxlLmpzIiwiY29tcG9uZW50cy90dXRvci90dXRvci5tb2R1bGUuanMiLCJyb290LmNvbXBvbmVudC5qcyIsImNvbW1vbi9hcHAuY29tcG9uZW50LmpzIiwiY29tbW9uL2FwcC5jb250cm9sbGVyLmpzIiwiY29tbW9uL2FwcC5ydW4uanMiLCJjb21tb24vc2VydmljZXMvVXNlci5tb2RlbC5qcyIsImNvbW1vbi9zdHVkZW50LWFwcC9zdHVkZW50LWFwcC5jb21wb25lbnQuanMiLCJjb21tb24vc3R1ZGVudC1hcHAvc3R1ZGVudC1hcHAuY29udHJvbGxlci5qcyIsImNvbW1vbi9zdHVkZW50LWFwcC9zdHVkZW50LWFwcC5ydW4uanMiLCJjb21tb24vdHV0b3ItYXBwL3R1dG9yLWFwcC5jb21wb25lbnQuanMiLCJjb21tb24vdHV0b3ItYXBwL3R1dG9yLWFwcC5jb250cm9sbGVyLmpzIiwiY29tbW9uL3R1dG9yLWFwcC90dXRvci1hcHAucnVuLmpzIiwiY29tcG9uZW50cy9hdXRoL2F1dGguY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9hdXRoL2F1dGguY29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvYXV0aC9hdXRoLnNlcnZpY2UuanMiLCJjb21wb25lbnRzL21lbW9zL21lbW9zLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvbWVtb3MvbWVtb3MuY29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvdHV0b3IvdHV0b3IuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy90dXRvci90dXRvci5jb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy9hdXRoL2F1dGgtZm9ybS9hdXRoLWZvcm0uY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9hdXRoL2F1dGgtZm9ybS9hdXRoLWZvcm0uY29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvYXV0aC9sb2dpbi9sb2dpbi5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2F1dGgvbG9naW4vbG9naW4uY29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvYXV0aC9yZWdpc3Rlci9yZWdpc3Rlci5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2F1dGgvcmVnaXN0ZXIvcmVnaXN0ZXIuY29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvYXV0aC9yZXNldC9yZXNldC5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2F1dGgvcmVzZXQvcmVzZXQuY29udHJvbGxlci5qcyIsInRlbXBsYXRlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0E7S0FDQSxPQUFBLFFBQUE7SUFDQTtJQUNBO0lBQ0E7O0dBRUEsT0FBQTtBQ1JBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQTtHQUNBLE9BQUEsVUFBQTtJQUNBO0lBQ0E7SUFDQTs7R0FFQSxPQUFBO0FDUkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBO0tBQ0EsT0FBQSxjQUFBO0lBQ0E7SUFDQTs7R0FFQSxPQUFBO0FDUEEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBO0dBQ0EsT0FBQSxVQUFBO0lBQ0E7SUFDQTtJQUNBOztHQUVBLE9BQUE7QUNSQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0E7R0FDQSxPQUFBLFVBQUE7SUFDQTtJQUNBO0lBQ0E7O0dBRUEsT0FBQTtBQ1JBLENBQUEsU0FBQSxRQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FBY0E7S0FDQSxPQUFBLG1CQUFBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7O0tBRUEseUJBQUEsVUFBQSxlQUFBO1FBQ0EsSUFBQSxr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LE9BQUE7QUN2QkEsQ0FBQSxTQUFBLFFBQUE7OzBDQUNBO0FBQ0EsU0FBQSxlQUFBLGFBQUE7RUFDQSxJQUFBLE9BQUE7O0VBRUEsS0FBQSxVQUFBLFdBQUE7O0lBRUEsS0FBQSxlQUFBO0lBQ0EsS0FBQSxZQUFBO0lBQ0EsS0FBQSxZQUFBOzs7SUFHQSxLQUFBLGlCQUFBO0lBQ0EsS0FBQSxjQUFBO0lBQ0EsS0FBQSxjQUFBO0lBQ0EsS0FBQSxXQUFBO0lBQ0EsS0FBQSxRQUFBO0lBQ0EsS0FBQSxRQUFBOzs7RUFHQSxTQUFBLGlCQUFBO0lBQ0EsS0FBQSxlQUFBLENBQUEsS0FBQTtJQUNBLEtBQUEsWUFBQSxDQUFBLEtBQUE7OztFQUdBLFNBQUEsWUFBQSxPQUFBO0lBQ0EsS0FBQSxZQUFBLE1BQUE7SUFDQSxLQUFBLFlBQUEsQ0FBQSxLQUFBO0lBQ0EsS0FBQSxZQUFBLENBQUEsS0FBQTs7O0VBR0EsU0FBQSxjQUFBO0lBQ0EsS0FBQSxZQUFBLENBQUEsS0FBQTtJQUNBLEtBQUEsWUFBQSxDQUFBLEtBQUE7OztFQUdBLFNBQUEsTUFBQSxPQUFBO0lBQ0EsT0FBQSxZQUFBLE1BQUEsTUFBQTs7O0VBR0EsU0FBQSxTQUFBLE9BQUE7SUFDQSxPQUFBLFlBQUEsU0FBQSxNQUFBO09BQ0EsT0FBQTtPQUNBLEtBQUE7Ozs7Ozs7T0FPQSxNQUFBOzs7O0VBSUEsU0FBQSxNQUFBLE9BQUE7SUFDQSxJQUFBLE9BQUE7TUFDQSxNQUFBO1NBQ0EscUJBQUE7U0FDQSxLQUFBOzs7O1NBSUEsTUFBQTs7Ozs7OztBQU9BO0dBQ0EsT0FBQTtHQUNBLFdBQUEsa0JBQUE7R0FDQSxPQUFBO0FDeEVBLENBQUEsU0FBQSxRQUFBO0FBQ0E7Ozs7Ozs7OztBQVFBLFNBQUEsWUFBQSxPQUFBLFFBQUE7RUFDQSxJQUFBLE9BQUEsSUFBQSxNQUFBO0VBQ0EsSUFBQSxjQUFBOzs7Ozs7Ozs7Ozs7O0VBYUEsU0FBQSxjQUFBLFVBQUE7SUFDQSxjQUFBO0lBQ0EsT0FBQTs7Ozs7Ozs7OztFQVVBLFNBQUEsZ0JBQUE7SUFDQSxjQUFBLE1BQUEsS0FBQTtJQUNBLE9BQUE7Ozs7Ozs7Ozs7O0VBV0EsS0FBQSxRQUFBLFNBQUEsTUFBQTtJQUNBLElBQUEsV0FBQSxLQUFBO0lBQ0EsT0FBQSxNQUFBO09BQ0EsTUFBQSxLQUFBLE9BQUEsS0FBQTtPQUNBLEtBQUE7Ozs7Ozs7Ozs7O09BV0EsTUFBQTs7Ozs7Ozs7Ozs7RUFXQSxLQUFBLFdBQUEsU0FBQSxNQUFBO0lBQ0EsS0FBQSxJQUFBLFlBQUEsS0FBQTtJQUNBLEtBQUEsSUFBQSxhQUFBLEtBQUE7SUFDQSxLQUFBLElBQUEsWUFBQSxLQUFBO0lBQ0EsS0FBQSxJQUFBLFlBQUEsS0FBQTtJQUNBLEtBQUEsSUFBQSxTQUFBLEtBQUE7SUFDQSxLQUFBLElBQUEsUUFBQSxLQUFBO0lBQ0EsT0FBQTs7Ozs7Ozs7OztFQVVBLEtBQUEsU0FBQSxXQUFBO0lBQ0EsT0FBQSxNQUFBLEtBQUE7T0FDQSxLQUFBOzs7Ozs7Ozs7O0VBVUEsS0FBQSx3QkFBQSxXQUFBO0lBQ0EsT0FBQSxJQUFBLFFBQUEsU0FBQSxTQUFBLFFBQUE7TUFDQSxJQUFBLENBQUEsQ0FBQSxNQUFBLEtBQUEsYUFBQSxNQUFBLEtBQUE7U0FDQSxpQkFBQTtRQUNBO2FBQ0E7UUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBd0JBLEtBQUEsa0JBQUEsV0FBQTs7Ozs7Ozs7Ozs7O0VBWUEsS0FBQSxVQUFBLFdBQUE7SUFDQSxJQUFBLE1BQUE7TUFDQSxPQUFBOzs7Q0FHQTs7QUFFQTtHQUNBLE9BQUE7R0FDQSxRQUFBLGVBQUE7R0FDQSxPQUFBO0FDNUpBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQSxJQUFBLFFBQUE7SUFDQSxhQUFBO0lBQ0EsWUFBQTtJQUNBLFVBQUE7OztBQUdBO0tBQ0EsT0FBQTtLQUNBLFVBQUEsU0FBQTtLQUNBLDBCQUFBLFVBQUEsZ0JBQUE7UUFDQSxlQUFBLE1BQUEsU0FBQTtZQUNBLFFBQUE7WUFDQSxLQUFBO1lBQ0EsV0FBQTs7O0dBR0EsT0FBQTtBQ2xCQSxDQUFBLFNBQUEsUUFBQTs7c0NBQ0E7QUFDQSxTQUFBLGdCQUFBLFFBQUE7O0lBRUEsSUFBQSxPQUFBO0lBQ0EsS0FBQSxVQUFBLFlBQUE7Ozs7Ozs7QUFPQTtLQUNBLE9BQUE7S0FDQSxXQUFBLG1CQUFBO0dBQ0EsT0FBQTtBQ2ZBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQSxJQUFBLFFBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLFVBQUE7OztBQUdBO0dBQ0EsT0FBQTtHQUNBLFVBQUEsU0FBQTtHQUNBLDBCQUFBLFNBQUEsZ0JBQUE7SUFDQSxlQUFBLE1BQUEsU0FBQTtNQUNBLFFBQUE7TUFDQSxLQUFBO01BQ0EsV0FBQTs7O0dBR0EsT0FBQTtBQ2xCQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0EsU0FBQSxrQkFBQTs7SUFFQSxJQUFBLE9BQUE7SUFDQSxLQUFBLFVBQUEsWUFBQTs7Ozs7O0FBTUE7S0FDQSxPQUFBO0tBQ0EsV0FBQSxtQkFBQTtHQUNBLE9BQUE7QUNkQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0EsSUFBQSxXQUFBO0lBQ0EsVUFBQTtRQUNBLE1BQUE7UUFDQSxVQUFBO1FBQ0EsUUFBQTtRQUNBLFNBQUE7UUFDQSxVQUFBO1FBQ0EsU0FBQTs7SUFFQSxhQUFBO0lBQ0EsWUFBQTs7O0FBR0E7S0FDQSxPQUFBO0tBQ0EsVUFBQSxZQUFBO0dBQ0EsT0FBQTtBQ2xCQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0EsU0FBQSxxQkFBQTs7RUFFQSxJQUFBLE9BQUE7O0VBRUEsS0FBQSxVQUFBLFdBQUE7SUFDQSxLQUFBLGFBQUE7SUFDQSxLQUFBLFFBQUE7OztFQUdBLEtBQUEsYUFBQSxTQUFBLFNBQUE7SUFDQSxJQUFBLFFBQUEsTUFBQTtNQUNBLEtBQUEsT0FBQSxRQUFBLEtBQUEsS0FBQTs7Ozs7RUFLQSxTQUFBLGFBQUE7SUFDQSxLQUFBLFNBQUE7TUFDQSxRQUFBO1FBQ0EsTUFBQSxLQUFBOzs7R0FHQTs7O0VBR0EsU0FBQSxRQUFBO0lBQ0EsS0FBQSxRQUFBO01BQ0EsUUFBQTtRQUNBLE9BQUEsS0FBQSxLQUFBOzs7R0FHQTs7OztBQUlBO0dBQ0EsT0FBQTtHQUNBLFdBQUEsc0JBQUE7R0FDQSxPQUFBO0FDeENBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQSxJQUFBLFFBQUE7SUFDQSxhQUFBO0lBQ0EsWUFBQTtJQUNBLFVBQUE7TUFDQSxVQUFBO01BQ0EsWUFBQTtNQUNBLFNBQUE7TUFDQSxTQUFBOzs7O0FBSUE7S0FDQSxPQUFBO0tBQ0EsVUFBQSxTQUFBO0dBQ0EsT0FBQTtBQ2hCQSxDQUFBLFNBQUEsUUFBQTs7cURBQ0E7QUFDQSxTQUFBLGdCQUFBLGFBQUEsUUFBQTtFQUNBLElBQUEsT0FBQTs7O0VBR0EsS0FBQSxVQUFBLFdBQUE7O01BRUEsS0FBQSxPQUFBO1VBQ0EsT0FBQTtVQUNBLFVBQUE7VUFDQSxNQUFBLEtBQUE7Ozs7SUFJQSxLQUFBLFFBQUE7SUFDQSxLQUFBLFFBQUE7OztFQUdBLFNBQUEsTUFBQSxPQUFBO0lBQ0EsS0FBQSxRQUFBO01BQ0EsUUFBQTtRQUNBLE1BQUEsTUFBQTs7O0dBR0E7O0VBRUEsU0FBQSxNQUFBLE9BQUE7SUFDQSxLQUFBLFFBQUE7TUFDQSxRQUFBO1FBQ0EsT0FBQSxNQUFBOzs7R0FHQTs7OztBQUlBO0dBQ0EsT0FBQTtHQUNBLFdBQUEsbUJBQUE7R0FDQSxPQUFBO0FDeENBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQSxJQUFBLFdBQUE7SUFDQSxhQUFBO0lBQ0EsWUFBQTtJQUNBLFVBQUE7TUFDQSxVQUFBO01BQ0EsU0FBQTtNQUNBLFlBQUE7Ozs7QUFJQTtLQUNBLE9BQUE7S0FDQSxVQUFBLFlBQUE7R0FDQSxPQUFBO0FDZkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBLFNBQUEscUJBQUE7RUFDQSxJQUFBLE9BQUE7O0VBRUEsS0FBQSxVQUFBLFdBQUE7O0lBRUEsS0FBQSxRQUFBO0lBQ0EsS0FBQSxPQUFBO01BQ0EsT0FBQTtNQUNBLFVBQUE7TUFDQSxNQUFBLEtBQUE7OztJQUdBLEtBQUEsV0FBQTs7O0VBR0EsU0FBQSxTQUFBLE9BQUE7SUFDQSxLQUFBLFdBQUE7TUFDQSxRQUFBO1FBQ0EsTUFBQSxNQUFBOzs7R0FHQTs7O0FBR0E7R0FDQSxPQUFBO0dBQ0EsV0FBQSxzQkFBQTtHQUNBLE9BQUE7QUM3QkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBLElBQUEsUUFBQTtJQUNBLGFBQUE7SUFDQSxZQUFBO0lBQ0EsVUFBQTtNQUNBLFNBQUE7TUFDQSxVQUFBO01BQ0EsV0FBQTtNQUNBLFNBQUE7Ozs7QUFJQTtLQUNBLE9BQUE7S0FDQSxVQUFBLFNBQUE7R0FDQSxPQUFBO0FDaEJBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQSxTQUFBLGtCQUFBOzs7OztBQUtBO0dBQ0EsT0FBQTtHQUNBLFdBQUEsbUJBQUE7R0FDQSxPQUFBO0FDVkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBLFFBQUEsT0FBQSxhQUFBLElBQUEsSUFBQSxDQUFBLGtCQUFBLFNBQUEsZ0JBQUEsQ0FBQSxlQUFBLElBQUEsY0FBQTtBQUNBLGVBQUEsSUFBQSxhQUFBO0FBQ0EsZUFBQSxJQUFBLHFCQUFBO0FBQ0EsZUFBQSxJQUFBLG1CQUFBO0FBQ0EsZUFBQSxJQUFBLGNBQUE7QUFDQSxlQUFBLElBQUEsZUFBQTtBQUNBLGVBQUEsSUFBQSxlQUFBO0FBQ0EsZUFBQSxJQUFBLG1CQUFBO0FBQ0EsZUFBQSxJQUFBLGVBQUE7QUFDQSxlQUFBLElBQUEsa0JBQUE7QUFDQSxlQUFBLElBQUEsZUFBQSxrMENBQUEsT0FBQSxTQUFBIiwiZmlsZSI6Im1haW4tMTUzMzgyNDA0MzYzNC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyXG4gICAgLm1vZHVsZSgncm9vdCcsIFtcbiAgICAnY29tbW9uJyxcbiAgICAnY29tcG9uZW50cycsXG4gICAgJ3RlbXBsYXRlcydcbiAgXSk7XG4iLCJhbmd1bGFyXG4gIC5tb2R1bGUoJ2NvbW1vbicsIFtcbiAgICAndWkucm91dGVyJyxcbiAgICAnbmdNYXRlcmlhbCcsXG4gICAgJ25nTWVzc2FnZXMnLFxuICBdKTtcbiIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21wb25lbnRzJywgW1xuICAgICdjb21wb25lbnRzLmF1dGgnLFxuICAgICdjb21wb25lbnRzLm1lbW9zJ1xuICBdKVxuIiwiYW5ndWxhclxuICAubW9kdWxlKCdjb21tb24nLCBbXG4gICAgJ3VpLnJvdXRlcicsXG4gICAgJ25nTWF0ZXJpYWwnLFxuICAgICduZ01lc3NhZ2VzJyxcbiAgXSk7XG4iLCJhbmd1bGFyXG4gIC5tb2R1bGUoJ2NvbW1vbicsIFtcbiAgICAndWkucm91dGVyJyxcbiAgICAnbmdNYXRlcmlhbCcsXG4gICAgJ25nTWVzc2FnZXMnLFxuICBdKTtcbiIsIi8qKlxuICpcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIGNvbXBvbmVudHMuYXV0aFxuICpcbiAqIEByZXF1aXJlcyB1aS5yb3V0ZXIsbmdQYXJzZSxuZ01hdGVyaWFsLG5nTWVzc2FnZXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGlzIGlzIHRoZSBhdXRoIG1vZHVsZS4gSXQgaW5jbHVkZXMgbG9naW4sIHJlZ2lzdGVyLCBhbmQgcmVzZXQgY29tcG9uZW50cyBmb3IgYXV0aCBmZWF0dXJlLlxuICpcbiAqKi9cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcsIFtcbiAgICAndWkucm91dGVyJyxcbiAgICAnbmdQYXJzZScsXG4gICAgJ25nTWF0ZXJpYWwnLFxuICAgICduZ01lc3NhZ2VzJ1xuICBdKVxuICAgIC5jb25maWcoZnVuY3Rpb24gKFBhcnNlUHJvdmlkZXIpIHtcbiAgICAgICAgdmFyIE1ZX1BBUlNFX0FQUF9JRCA9ICd1RHpON0U3TllJYndkektMVXdOQnREdEdmeHl4cnJCbzNDNnhHcmkzJztcbiAgICAgICAgdmFyIE1ZX1BBUlNFX0pTX0tFWSA9ICcwVmNXRVdCTEl3RWNFeE0yTnozVHppU0dqS2lNc29VN1NOakk1UlBBJztcbiAgICAgICAgUGFyc2VQcm92aWRlci5pbml0aWFsaXplKE1ZX1BBUlNFX0FQUF9JRCwgTVlfUEFSU0VfSlNfS0VZKTtcbiAgICAgICAgUGFyc2VQcm92aWRlci5zZXJ2ZXJVUkwgPSAnaHR0cHM6Ly9wYXJzZWFwaS5iYWNrNGFwcC5jb20vJztcblxuICAgIH0pXG4gICAgLnJ1bihmdW5jdGlvbiAoJHRyYW5zaXRpb25zLCAkc3RhdGUsIEF1dGhTZXJ2aWNlKSB7XG4gICAgICAgICR0cmFuc2l0aW9ucy5vblN0YXJ0KHtcbiAgICAgICAgICAgIHRvOiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gISEoc3RhdGUuZGF0YSAmJiBzdGF0ZS5kYXRhLnJlcXVpcmVkQXV0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBBdXRoU2VydmljZVxuICAgICAgICAgICAgICAgIC5yZXF1aXJlQXV0aGVudGljYXRpb24oKVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkc3RhdGUudGFyZ2V0KCdhdXRoJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkdHJhbnNpdGlvbnMub25TdGFydCh7XG4gICAgICAgICAgICB0bzogJ2F1dGgnXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChBdXRoU2VydmljZS5pc0F1dGhlbnRpY2F0ZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ2FwcCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21wb25lbnRzLm1lbW9zJywgW1xuICAgICd1aS5yb3V0ZXInXG4gIF0pO1xuIiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMudHV0b3InLCBbXG4gICAgJ3VpLnJvdXRlcidcbiAgXSk7XG4iLCJ2YXIgcm9vdCA9IHtcbiAgICB0ZW1wbGF0ZVVybDogJy4vcm9vdC5odG1sJ1xufTtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3Jvb3QnKVxuICAgIC5jb21wb25lbnQoJ3Jvb3QnLCByb290KTtcbiIsInZhciBhcHAgPSB7XG4gICAgdGVtcGxhdGVVcmw6ICcuL2FwcC5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnQXBwQ29udHJvbGxlcidcbn07XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21tb24nKVxuICAgIC5jb21wb25lbnQoJ2FwcCcsIGFwcClcbiAgICAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xuICAgICAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAnLCB7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RUbzogJ21lbW9zJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkQXV0aDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAnYXBwJ1xuICAgICAgICAgICAgfSlcbiAgICB9KTtcbiIsImZ1bmN0aW9uIEFwcENvbnRyb2xsZXIoQXV0aFNlcnZpY2UsICRzdGF0ZSkge1xuICAgIHZhciBjdHJsID0gdGhpcztcbiAgICBjdHJsLnVzZXIgPSBBdXRoU2VydmljZS5nZXRVc2VyKCk7XG4gICAgY3RybC5sb2dvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIEF1dGhTZXJ2aWNlLmxvZ291dCgpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhdXRoLmxvZ2luJyk7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tbW9uJylcbiAgICAuY29udHJvbGxlcignQXBwQ29udHJvbGxlcicsIEFwcENvbnRyb2xsZXIpO1xuIiwiZnVuY3Rpb24gaW5pdCgkcm9vdFNjb3BlLCAkdWlSb3V0ZXIsICRtZFNpZGVuYXYpIHtcbiAgICB2YXIgVmlzdWFsaXplciA9IHdpbmRvd1sndWktcm91dGVyLXZpc3VhbGl6ZXInXS5WaXN1YWxpemVyO1xuICAgIHZhciBwbHVnaW5JbnN0YW5jZSA9ICR1aVJvdXRlci5wbHVnaW4oVmlzdWFsaXplcik7XG5cbiAgICAkcm9vdFNjb3BlLnRvZ2dsZU1lbnUgPSB0b2dnbGVNZW51O1xuXG4gICAgZnVuY3Rpb24gdG9nZ2xlTWVudShuYXZJZCkge1xuICAgICAgICBjb25zb2xlLmxvZygndG9nZ2xlIHNpZGVuYXY6ICcgKyBuYXZJZCk7XG4gICAgICAgICRtZFNpZGVuYXYobmF2SWQpXG4gICAgICAgICAgICAudG9nZ2xlKCk7XG4gICAgfVxufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tbW9uJylcbiAgICAucnVuKGluaXQpXG4iLCJjbGFzcyBVc2VyTW9kZWwge1xuICAgIGNvbnN0cnVjdG9yKFBhcnNlKSB7XG4gICAgICAgIHRoaXMuUGFyc2UgPSBQYXJzZTtcbiAgICAgICAgdGhpcy5kYXRhID0ge307XG4gICAgICAgIHRoaXMubmFtZSA9ICdVc2VyJztcbiAgICAgICAgdGhpcy5maWVsZHMgPSBbXG4gICAgICAgICAgICAnbGFzdE5hbWUnLFxuICAgICAgICAgICAgJ2VtYWlsVmVyaWZpZWQnLFxuICAgICAgICAgICAgJ2RhdGEnLFxuICAgICAgICAgICAgJ3R5cGUnLFxuICAgICAgICAgICAgJ2F1dGhEYXRhJyxcbiAgICAgICAgICAgICd1c2VybmFtZScsXG4gICAgICAgICAgICAnZmlyc3RuYW1lJyxcbiAgICAgICAgICAgICdwYXNzd29yZCcsXG4gICAgICAgICAgICAnZW1haWwnXG4gICAgICAgIF07XG4gICAgfVxuICAgIE5ldyhvYmopIHtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQob2JqKSkge1xuICAgICAgICAgICAgbGV0IHBhcnNlT2JqZWN0ID0gbmV3IHRoaXMuUGFyc2UuT2JqZWN0KHRoaXMubmFtZSlcbiAgICAgICAgICAgIHRoaXMuUGFyc2UuZGVmaW5lQXR0cmlidXRlcyhwYXJzZU9iamVjdCwgdGhpcy5maWVsZHMpO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlT2JqZWN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5QYXJzZS5kZWZpbmVBdHRyaWJ1dGVzKG9iaiwgdGhpcy5maWVsZHMpO1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRCeUlkKGlkKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5QYXJzZS5RdWVyeSh0aGlzLk5ldygpKS5nZXQoaWQpXG4gICAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuUGFyc2UuZGVmaW5lQXR0cmlidXRlcyhyZXN1bHQsIHRoaXMuZmllbGRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gUHJvbWlzZS5yZWplY3QoZXJyb3IpKTtcbiAgICB9XG4gICAgLy8gZ2V0QnlFbWFpbChlbWFpbCkge1xuICAgIC8vICAgICByZXR1cm4gbmV3IHRoaXMuUGFyc2UuUXVlcnkodGhpcy5OZXcoKSkuZ2V0KGVtYWlsKVxuICAgIC8vICAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAvLyAgICAgICAgICAgICB0aGlzLlBhcnNlLmRlZmluZUF0dHJpYnV0ZXMocmVzdWx0LCB0aGlzLmZpZWxkcyk7XG4gICAgLy8gICAgICAgICAgICAgdGhpcy5kYXRhID0gcmVzdWx0O1xuICAgIC8vICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAvLyAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IFByb21pc2UucmVqZWN0KGVycm9yKSk7XG4gICAgLy8gfVxufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tbW9uJylcbiAgICAuc2VydmljZSgnVXNlck1vZGVsJywgVXNlck1vZGVsKTtcbiIsInZhciBzdHVkZW50QXBwID0ge1xuICAgIHRlbXBsYXRlVXJsOiAnLi9zdHVkZW50LWFwcC5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnU3R1ZGVudEFwcENvbnRyb2xsZXInXG59O1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tbW9uJylcbiAgICAuY29tcG9uZW50KCdzdHVkZW50QXBwJywgc3R1ZGVudEFwcClcbiAgICAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xuICAgICAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAgICAgLnN0YXRlKCdzdHVkZW50LWFwcCcsIHtcbiAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiAndHV0b3InLFxuICAgICAgICAgICAgICAgIHVybDogJy8nLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRBdXRoOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdzdHVkZW50QXBwJ1xuICAgICAgICAgICAgfSlcbiAgICB9KTtcbiIsImZ1bmN0aW9uIFR1dG9yQXBwQ29udHJvbGxlcihBdXRoU2VydmljZSwgJHN0YXRlKSB7XG4gICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgIGN0cmwudXNlciA9IEF1dGhTZXJ2aWNlLmdldFVzZXIoKTtcbiAgICBjdHJsLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgQXV0aFNlcnZpY2UubG9nb3V0KClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2F1dGgnKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21tb24nKVxuICAgIC5jb250cm9sbGVyKCdUdXRvckFwcENvbnRyb2xsZXInLCBUdXRvckFwcENvbnRyb2xsZXIpO1xuIiwiZnVuY3Rpb24gaW5pdCgkcm9vdFNjb3BlLCAkdWlSb3V0ZXIsICRtZFNpZGVuYXYpIHtcbiAgICB2YXIgVmlzdWFsaXplciA9IHdpbmRvd1sndWktcm91dGVyLXZpc3VhbGl6ZXInXS5WaXN1YWxpemVyO1xuICAgIHZhciBwbHVnaW5JbnN0YW5jZSA9ICR1aVJvdXRlci5wbHVnaW4oVmlzdWFsaXplcik7XG5cbiAgICAkcm9vdFNjb3BlLnRvZ2dsZU1lbnUgPSB0b2dnbGVNZW51O1xuXG4gICAgZnVuY3Rpb24gdG9nZ2xlTWVudShuYXZJZCkge1xuICAgICAgICBjb25zb2xlLmxvZygndG9nZ2xlIHNpZGVuYXY6ICcgKyBuYXZJZCk7XG4gICAgICAgICRtZFNpZGVuYXYobmF2SWQpXG4gICAgICAgICAgICAudG9nZ2xlKCk7XG4gICAgfVxufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tbW9uJylcbiAgICAucnVuKGluaXQpXG4iLCJ2YXIgdHV0b3JBcHAgPSB7XG4gICAgdGVtcGxhdGVVcmw6ICcuL3R1dG9yLWFwcC5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnVHV0b3JBcHBDb250cm9sbGVyJ1xufTtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbW1vbicpXG4gICAgLmNvbXBvbmVudCgndHV0b3JBcHAnLCB0dXRvckFwcClcbiAgICAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xuICAgICAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAgICAgLnN0YXRlKCd0dXRvci1hcHAnLCB7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RUbzogJ3R1dG9yJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkQXV0aDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAndHV0b3JBcHAnXG4gICAgICAgICAgICB9KVxuICAgIH0pO1xuIiwiZnVuY3Rpb24gVHV0b3JBcHBDb250cm9sbGVyKEF1dGhTZXJ2aWNlLCAkc3RhdGUpIHtcbiAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgY3RybC51c2VyID0gQXV0aFNlcnZpY2UuZ2V0VXNlcigpO1xuICAgIGN0cmwubG9nb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBBdXRoU2VydmljZS5sb2dvdXQoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXV0aCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbW1vbicpXG4gICAgLmNvbnRyb2xsZXIoJ1R1dG9yQXBwQ29udHJvbGxlcicsIFR1dG9yQXBwQ29udHJvbGxlcik7XG4iLCJmdW5jdGlvbiBpbml0KCRyb290U2NvcGUsICR1aVJvdXRlciwgJG1kU2lkZW5hdikge1xuICAgIHZhciBWaXN1YWxpemVyID0gd2luZG93Wyd1aS1yb3V0ZXItdmlzdWFsaXplciddLlZpc3VhbGl6ZXI7XG4gICAgdmFyIHBsdWdpbkluc3RhbmNlID0gJHVpUm91dGVyLnBsdWdpbihWaXN1YWxpemVyKTtcblxuICAgICRyb290U2NvcGUudG9nZ2xlTWVudSA9IHRvZ2dsZU1lbnU7XG5cbiAgICBmdW5jdGlvbiB0b2dnbGVNZW51KG5hdklkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0b2dnbGUgc2lkZW5hdjogJyArIG5hdklkKTtcbiAgICAgICAgJG1kU2lkZW5hdihuYXZJZClcbiAgICAgICAgICAgIC50b2dnbGUoKTtcbiAgICB9XG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21tb24nKVxuICAgIC5ydW4oaW5pdClcbiIsInZhciBhdXRoID0ge1xuICAgIHRlbXBsYXRlVXJsOiAnLi9hdXRoLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdBdXRoQ29udHJvbGxlcidcbn07XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21wb25lbnRzLmF1dGgnKVxuICAgIC5jb21wb25lbnQoJ2F1dGgnLCBhdXRoKVxuICAgIC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcbiAgICAgICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgICAgICAgIC8vIC5zdGF0ZSgnYXV0aCcsIHtcbiAgICAgICAgICAgIC8vICAgICByZWRpcmVjdFRvOiAnYXV0aCcsXG4gICAgICAgICAgICAvLyAgICAgdXJsOiAnL2F1dGgnLFxuICAgICAgICAgICAgLy8gICAgIHRlbXBsYXRlVXJsOiAnLi9hdXRoLmh0bWwnXG4gICAgICAgICAgICAvLyB9KVxuICAgICAgICAgICAgLnN0YXRlKCdhdXRoJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9hdXRoJyxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdhdXRoJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvYXV0aCcpO1xuICAgIH0pO1xuIiwiZnVuY3Rpb24gQXV0aENvbnRyb2xsZXIoQXV0aFNlcnZpY2UpIHtcbiAgdmFyIGN0cmwgPSB0aGlzO1xuXG4gIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIGRlZmluZSB2YXJpYWJsZXNcbiAgICBjdHJsLnNob3dSZWdpc3RlciA9IGZhbHNlO1xuICAgIGN0cmwuc2hvd1Jlc2V0ID0gZmFsc2U7XG4gICAgY3RybC5zaG93TG9naW4gPSB0cnVlO1xuXG4gICAgLy8gZGVmaW5lIGZ1bmN0aW9uc1xuICAgIGN0cmwudG9nZ2xlUmVnaXN0ZXIgPSB0b2dnbGVSZWdpc3RlcjtcbiAgICBjdHJsLnRvZ2dsZVJlc2V0ID0gdG9nZ2xlUmVzZXQ7XG4gICAgY3RybC50b2dnbGVMb2dpbiA9IHRvZ2dsZUxvZ2luO1xuICAgIGN0cmwucmVnaXN0ZXIgPSByZWdpc3RlcjtcbiAgICBjdHJsLmxvZ2luID0gbG9naW47XG4gICAgY3RybC5yZXNldCA9IHJlc2V0O1xuICB9XG5cbiAgZnVuY3Rpb24gdG9nZ2xlUmVnaXN0ZXIoKSB7XG4gICAgY3RybC5zaG93UmVnaXN0ZXIgPSAhY3RybC5zaG93UmVnaXN0ZXI7XG4gICAgY3RybC5zaG93TG9naW4gPSAhY3RybC5zaG93TG9naW47XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVSZXNldChldmVudCkge1xuICAgIGN0cmwudXNlckVtYWlsID0gZXZlbnQuZW1haWw7XG4gICAgY3RybC5zaG93UmVzZXQgPSAhY3RybC5zaG93UmVzZXQ7XG4gICAgY3RybC5zaG93TG9naW4gPSAhY3RybC5zaG93TG9naW47XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVMb2dpbigpIHtcbiAgICBjdHJsLnNob3dMb2dpbiA9ICFjdHJsLnNob3dMb2dpbjtcbiAgICBjdHJsLnNob3dSZXNldCA9ICFjdHJsLnNob3dSZXNldDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZ2luKGV2ZW50KSB7XG4gICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmxvZ2luKGV2ZW50LnVzZXIpXG4gIH1cblxuICBmdW5jdGlvbiByZWdpc3RlcihldmVudCkge1xuICAgIHJldHVybiBBdXRoU2VydmljZS5yZWdpc3RlcihldmVudC51c2VyKVxuICAgICAgLnNpZ25VcChudWxsKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBhbGVydChcIkEgdmVyZmljYXRpb24gZW1haWwgaGFzIGJlZW4gc2VudCB0byBcIiArIGV2ZW50LnVzZXIuZW1haWwpXG4gICAgICAgIHJldHVybiBBdXRoU2VydmljZS5sb2dvdXQoKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRvZ2dsZVJlZ2lzdGVyKCk7XG4gICAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4gYWxlcnQoZXJyb3IpKVxuICB9XG5cbiAgLy9UT0RPIHB1dCBsb2dpYyBpbiBBdXRoU2VydmljZVxuICBmdW5jdGlvbiByZXNldChlbWFpbCkge1xuICAgIGlmIChlbWFpbCkge1xuICAgICAgUGFyc2UuVXNlclxuICAgICAgICAucmVxdWVzdFBhc3N3b3JkUmVzZXQoZW1haWwpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBhbGVydCgnQSBwYXNzd29yZCByZXNldCBlbWFpbCBoYXMgYmVlbiBzZW50IHRvICcgKyBlbWFpbCk7XG4gICAgICAgICAgdG9nZ2xlTG9naW4oKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgYWxlcnQoZXJyLmNvZGUgKyBcIiBcIiArIGVyci5tZXNzYWdlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJylcbiAgLmNvbnRyb2xsZXIoJ0F1dGhDb250cm9sbGVyJywgQXV0aENvbnRyb2xsZXIpO1xuIiwiLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgY29tcG9uZW50cy5hdXRoOkF1dGhTZXJ2aWNlXG4gKlxuICogQGRlc2NyaXB0aW9uIEhhbmRsZXMgYXV0aGVudGljYXRpb24gZm9yIGFwcFxuICovXG5cbmZ1bmN0aW9uIEF1dGhTZXJ2aWNlKFBhcnNlLCAkc3RhdGUpIHtcbiAgdmFyIGF1dGggPSBuZXcgUGFyc2UuVXNlcigpOyAvLyBjcmVhdGVzIGEgbmV3IHVzZXIgaW4gUGFyc2VcbiAgdmFyIGN1cnJlbnRVc2VyID0gbnVsbDsgLy9ob2xkcyBpbmZvIGFib3V0IGN1cnJlbnQgdXNlclxuICAvLyB2YXIgaXNMb2dpbiA9IGZhbHNlOyAvL3NlbmRzIHNpZ25hbCB0byBjb250cm9sbGVyIG9uIHdoZXRoZXIgdG8gcm91dGUgdG8gbG9naW4gdGFiXG5cbiAgLy90aGlzLmlzTG9naW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBBdXRoU2VydmljZSNzdG9yZUF1dGhEYXRhXG4gICAqIEBtZXRob2RPZiBjb21wb25lbnRzLmF1dGg6QXV0aFNlcnZpY2VcbiAgICogQHBhcmFtIHtvYmplY3R9IG9iaiBQYXJzZSB1c2VyIG9iamVjdFxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSByZXR1cm5zIGN1cnJlbnRVc2VyIG9iamVjdFxuICAgKi9cblxuICBmdW5jdGlvbiBzdG9yZUF1dGhEYXRhKHJlc3BvbnNlKSB7XG4gICAgY3VycmVudFVzZXIgPSByZXNwb25zZTtcbiAgICByZXR1cm4gY3VycmVudFVzZXI7XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBBdXRoU2VydmljZSNjbGVhckF1dGhEYXRhXG4gICAqIEBtZXRob2RPZiBjb21wb25lbnRzLmF1dGg6QXV0aFNlcnZpY2VcbiAgICogQHJldHVybnMge29iamVjdH0gcmV0dXJucyBhIGJsYW5rIHVzZXIgb2JqZWN0XG4gICAqL1xuXG4gIGZ1bmN0aW9uIGNsZWFyQXV0aERhdGEoKSB7XG4gICAgY3VycmVudFVzZXIgPSBQYXJzZS5Vc2VyLmN1cnJlbnQoKTsgLy8gdGhpcyB3aWxsIG5vdyBiZSBudWxsXG4gICAgcmV0dXJuIGN1cnJlbnRVc2VyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgQXV0aFNlcnZpY2UjbG9naW5cbiAgICogQG1ldGhvZE9mIGNvbXBvbmVudHMuYXV0aDpBdXRoU2VydmljZVxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIHVzZXIgZGF0YSBmcm9tIGF1dGgtZm9ybVxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSByZXR1cm5zIHRoZSBjdXJyZW50IHVzZXIgb2JqZWN0XG4gICAqL1xuXG4gIHRoaXMubG9naW4gPSBmdW5jdGlvbih1c2VyKSB7XG4gICAgbGV0IHVzZXJUeXBlID0gdXNlci50eXBlXG4gICAgcmV0dXJuIFBhcnNlLlVzZXJcbiAgICAgIC5sb2dJbih1c2VyLmVtYWlsLCB1c2VyLnBhc3N3b3JkKVxuICAgICAgLnRoZW4odXNlciA9PiB7XG4gICAgICAgIGlmICh1c2VyLmF0dHJpYnV0ZXMuZW1haWxWZXJpZmllZCAmJiB1c2VyLmF0dHJpYnV0ZXMudHlwZSA9PT0gdXNlclR5cGUpIHtcbiAgICAgICAgICBzdG9yZUF1dGhEYXRhKClcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5sb2dvdXQoKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBhbGVydCgnUGxlYXNlIHZlcmlmeSBlbWFpbCBhZGRyZXNzIG9yIGVuc3VyZSB5b3UgYXJlIGxvZ2dpbmcgaW4gYXMgdGhlIGNvcnJlY3QgdXNlciB0eXBlLicpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnJvciA9PiBhbGVydChlcnJvcikpXG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgQXV0aFNlcnZpY2UjcmVnaXN0ZXJcbiAgICogQG1ldGhvZE9mIGNvbXBvbmVudHMuYXV0aDpBdXRoU2VydmljZVxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIHVzZXIgZGF0YSBmcm9tIGF1dGgtZm9ybVxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSByZXR1cm5zIHRoZSBjdXJyZW50IHVzZXIgb2JqZWN0XG4gICAqL1xuXG4gIHRoaXMucmVnaXN0ZXIgPSBmdW5jdGlvbih1c2VyKSB7XG4gICAgYXV0aC5zZXQoXCJ1c2VybmFtZVwiLCB1c2VyLmVtYWlsKTtcbiAgICBhdXRoLnNldChcImZpcnN0bmFtZVwiLCB1c2VyLmZpcnN0bmFtZSk7XG4gICAgYXV0aC5zZXQoXCJsYXN0bmFtZVwiLCB1c2VyLmxhc3RuYW1lKTtcbiAgICBhdXRoLnNldChcInBhc3N3b3JkXCIsIHVzZXIucGFzc3dvcmQpO1xuICAgIGF1dGguc2V0KFwiZW1haWxcIiwgdXNlci5lbWFpbCk7XG4gICAgYXV0aC5zZXQoXCJ0eXBlXCIsIHVzZXIudHlwZSlcbiAgICByZXR1cm4gYXV0aFxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIEF1dGhTZXJ2aWNlI2xvZ291dFxuICAgKiBAbWV0aG9kT2YgY29tcG9uZW50cy5hdXRoOkF1dGhTZXJ2aWNlXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHJldHVybnMgYW4gZW1wdHkgdXNlciBvYmplY3RcbiAgICovXG5cbiAgdGhpcy5sb2dvdXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gUGFyc2UuVXNlci5sb2dPdXQoKVxuICAgICAgLnRoZW4oY2xlYXJBdXRoRGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgQXV0aFNlcnZpY2UjcmVxdWlyZUF1dGhlbnRpY2F0aW9uXG4gICAqIEBtZXRob2RPZiBjb21wb25lbnRzLmF1dGg6QXV0aFNlcnZpY2VcbiAgICogQHJldHVybnMge3Byb21pc2V9IHJldHVybnMgcmVzb2x2ZSBvciByZWplY3QgYmFzZWQgb24gdXNlciBhdXRoZW50aWNhdGlvblxuICAgKi9cblxuICB0aGlzLnJlcXVpcmVBdXRoZW50aWNhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGlmICghIVBhcnNlLlVzZXIuY3VycmVudCgpICYmIFBhcnNlLlVzZXIuY3VycmVudCgpXG4gICAgICAgIC5hdXRoZW50aWNhdGVkKCkpIHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVqZWN0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyAvKipcbiAgLy8gICogQG5nZG9jIG1ldGhvZFxuICAvLyAgKiBAbmFtZSBBdXRoU2VydmljZSNyZXNldFxuICAvLyAgKiBAbWV0aG9kT2YgY29tcG9uZW50cy5hdXRoOkF1dGhTZXJ2aWNlXG4gIC8vICAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbCBlbWFpbCBlbnRlcmVkIG9uIGF1dGhGb3JtXG4gIC8vICAqL1xuICAvL1xuICAvLyB0aGlzLnJlc2V0ID0gZnVuY3Rpb24oZW1haWwpIHtcbiAgLy8gICBQYXJzZS5Vc2VyXG4gIC8vICAgICAucmVxdWVzdFBhc3N3b3JkUmVzZXQoZW1haWwpXG4gIC8vIH1cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBBdXRoU2VydmljZSNpc0F1dGhlbnRpY2F0ZWRcbiAgICogQG1ldGhvZE9mIGNvbXBvbmVudHMuYXV0aDpBdXRoU2VydmljZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmV0dXJucyB3aGV0aGVyIHVzZXIgaXMgYXV0aGVudGljYXRlZCBiYXNlZCBvbiBzZXNzaW9uU3RvcmFnZVxuICAgKi9cblxuICB0aGlzLmlzQXV0aGVudGljYXRlZCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIHJldHVybiAhIShQYXJzZS5Vc2VyLmN1cnJlbnQoKSAmJiBQYXJzZS5Vc2VyLmN1cnJlbnQoKVxuICAgIC8vICAgICAuYXV0aGVudGljYXRlZCgpKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBBdXRoU2VydmljZSNnZXRVc2VyXG4gICAqIEBtZXRob2RPZiBjb21wb25lbnRzLmF1dGg6QXV0aFNlcnZpY2VcbiAgICogQHJldHVybnMge29iamVjdH0gcmV0dXJucyBjdXJyZW50VXNlciBzZXNzaW9uU3RvcmFnZSBvYmplY3RcbiAgICovXG5cbiAgdGhpcy5nZXRVc2VyID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGF1dGgpIHtcbiAgICAgIHJldHVybiBhdXRoO1xuICAgIH1cbiAgfTtcbn07XG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJylcbiAgLnNlcnZpY2UoJ0F1dGhTZXJ2aWNlJywgQXV0aFNlcnZpY2UpO1xuIiwidmFyIG1lbW9zID0ge1xuICAgIHRlbXBsYXRlVXJsOiAnLi9tZW1vcy5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnTWVtb3NDb250cm9sbGVyJyxcbiAgICBiaW5kaW5nczoge31cbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMubWVtb3MnKVxuICAgIC5jb21wb25lbnQoJ21lbW9zJywgbWVtb3MpXG4gICAgLmNvbmZpZyhmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ21lbW9zJywge1xuICAgICAgICAgICAgcGFyZW50OiAnYXBwJyxcbiAgICAgICAgICAgIHVybDogJ21lbW9zJyxcbiAgICAgICAgICAgIGNvbXBvbmVudDogJ21lbW9zJ1xuICAgICAgICB9KVxuICAgIH0pO1xuIiwiZnVuY3Rpb24gTWVtb3NDb250cm9sbGVyKCRzdGF0ZSkge1xuXG4gICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIH1cblxufVxuXG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21wb25lbnRzLm1lbW9zJylcbiAgICAuY29udHJvbGxlcignTWVtb3NDb250cm9sbGVyJywgTWVtb3NDb250cm9sbGVyKTtcbiIsInZhciB0dXRvciA9IHtcbiAgdGVtcGxhdGVVcmw6ICcuL3R1dG9yLmh0bWwnLFxuICBjb250cm9sbGVyOiAnVHV0b3JDb250cm9sbGVyJyxcbiAgYmluZGluZ3M6IHt9XG59XG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnY29tcG9uZW50cy50dXRvcicpXG4gIC5jb21wb25lbnQoJ3R1dG9yJywgdHV0b3IpXG4gIC5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgndHV0b3InLCB7XG4gICAgICBwYXJlbnQ6ICd0dXRvci1hcHAnLFxuICAgICAgdXJsOiAndHV0b3InLFxuICAgICAgY29tcG9uZW50OiAndHV0b3InXG4gICAgfSlcbiAgfSk7XG4iLCJmdW5jdGlvbiBUdXRvckNvbnRyb2xsZXIoKSB7XG5cbiAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgY3RybC4kb25Jbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgfVxuXG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21wb25lbnRzLnR1dG9yJylcbiAgICAuY29udHJvbGxlcignVHV0b3JDb250cm9sbGVyJywgVHV0b3JDb250cm9sbGVyKTtcbiIsInZhciBhdXRoRm9ybSA9IHtcbiAgICBiaW5kaW5nczoge1xuICAgICAgICB1c2VyOiAnPCcsXG4gICAgICAgIHVzZXJUeXBlOiAnPCcsXG4gICAgICAgIGJ1dHRvbjogJ0AnLFxuICAgICAgICBtZXNzYWdlOiAnQCcsXG4gICAgICAgIG9uU3VibWl0OiAnJicsXG4gICAgICAgIG9uUmVzZXQ6ICcmJ1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICcuL2F1dGgtZm9ybS5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnQXV0aEZvcm1Db250cm9sbGVyJ1xufTtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcpXG4gICAgLmNvbXBvbmVudCgnYXV0aEZvcm0nLCBhdXRoRm9ybSk7XG4iLCJmdW5jdGlvbiBBdXRoRm9ybUNvbnRyb2xsZXIoKSB7XG4gIFxuICB2YXIgY3RybCA9IHRoaXM7XG5cbiAgY3RybC4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgY3RybC5zdWJtaXRGb3JtID0gc3VibWl0Rm9ybTtcbiAgICBjdHJsLnJlc2V0ID0gcmVzZXQ7XG4gIH1cblxuICBjdHJsLiRvbkNoYW5nZXMgPSBmdW5jdGlvbihjaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMudXNlcikge1xuICAgICAgY3RybC51c2VyID0gYW5ndWxhci5jb3B5KGN0cmwudXNlcik7XG4gICAgfVxuICB9O1xuXG4vLyBmdW5jdGlvbiBwYXNzZXMgY2xpY2sgZXZlbnQgd2l0aCB1c2VyIG9iamVjdCB0byBsb2dpbiBjb21wb25lbnRcbiAgZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHtcbiAgICBjdHJsLm9uU3VibWl0KHtcbiAgICAgICRldmVudDoge1xuICAgICAgICB1c2VyOiBjdHJsLnVzZXJcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuLy8gZnVuY3Rpb24gcGFzc2VzIGNsaWNrIGV2ZW50IHdpdGggdXNlciBlbWFpbCB0byBsb2dpbiBjb21wb25lbnRcbiAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgY3RybC5vblJlc2V0KHtcbiAgICAgICRldmVudDoge1xuICAgICAgICBlbWFpbDogY3RybC51c2VyLmVtYWlsXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbn1cblxuYW5ndWxhclxuICAubW9kdWxlKCdjb21wb25lbnRzLmF1dGgnKVxuICAuY29udHJvbGxlcignQXV0aEZvcm1Db250cm9sbGVyJywgQXV0aEZvcm1Db250cm9sbGVyKTtcbiIsInZhciBsb2dpbiA9IHtcbiAgICB0ZW1wbGF0ZVVybDogJy4vbG9naW4uaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0xvZ2luQ29udHJvbGxlcicsXG4gICAgYmluZGluZ3M6IHtcbiAgICAgIHVzZXJUeXBlOiAnQCcsXG4gICAgICBvblJlZ2lzdGVyOiAnJicsXG4gICAgICBvblJlc2V0OiAnJicsXG4gICAgICBvbkxvZ2luOiAnJidcbiAgICB9XG59O1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJylcbiAgICAuY29tcG9uZW50KCdsb2dpbicsIGxvZ2luKTtcbiIsImZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcihBdXRoU2VydmljZSwgJHN0YXRlKSB7XG4gIHZhciBjdHJsID0gdGhpcztcblxuICAvL2luaXRpYWxpemUgdXNlciBkYXRhXG4gIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vZGVmaW5lIHZhcmlhYmxlc1xuICAgICAgY3RybC51c2VyID0ge1xuICAgICAgICAgIGVtYWlsOiAnJyxcbiAgICAgICAgICBwYXNzd29yZDogJycsXG4gICAgICAgICAgdHlwZTogY3RybC51c2VyVHlwZVxuICAgICAgfTtcblxuICAgIC8vL2RlZmluZSBmdW5jdGlvbnNcbiAgICBjdHJsLmxvZ2luID0gbG9naW47XG4gICAgY3RybC5yZXNldCA9IHJlc2V0O1xuICB9O1xuXG4gIGZ1bmN0aW9uIGxvZ2luKGV2ZW50KSB7XG4gICAgY3RybC5vbkxvZ2luKHtcbiAgICAgICRldmVudDoge1xuICAgICAgICB1c2VyOiBldmVudC51c2VyXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVzZXQoZXZlbnQpIHtcbiAgICBjdHJsLm9uUmVzZXQoe1xuICAgICAgJGV2ZW50OiB7XG4gICAgICAgIGVtYWlsOiBldmVudC5lbWFpbFxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG59XG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJylcbiAgLmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIExvZ2luQ29udHJvbGxlcik7XG4iLCJ2YXIgcmVnaXN0ZXIgPSB7XG4gICAgdGVtcGxhdGVVcmw6ICcuL3JlZ2lzdGVyLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdSZWdpc3RlckNvbnRyb2xsZXInLFxuICAgIGJpbmRpbmdzOiB7XG4gICAgICB1c2VyVHlwZTogJ0AnLFxuICAgICAgb25Mb2dpbjogJyYnLFxuICAgICAgb25SZWdpc3RlcjogJyYnXG4gICAgfVxufTtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcpXG4gICAgLmNvbXBvbmVudCgncmVnaXN0ZXInLCByZWdpc3Rlcik7XG4iLCJmdW5jdGlvbiBSZWdpc3RlckNvbnRyb2xsZXIoKSB7XG4gIHZhciBjdHJsID0gdGhpcztcblxuICBjdHJsLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAvL2RlZmluZSB2YXJpYWJsZXNcbiAgICBjdHJsLmVycm9yID0gbnVsbDtcbiAgICBjdHJsLnVzZXIgPSB7XG4gICAgICBlbWFpbDogJycsXG4gICAgICBwYXNzd29yZDogJycsXG4gICAgICB0eXBlOiBjdHJsLnVzZXJUeXBlXG4gICAgfTtcbiAgICAvLy9kZWZpbmUgZnVuY3Rpb25zXG4gICAgY3RybC5yZWdpc3RlciA9IHJlZ2lzdGVyO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyKGV2ZW50KSB7XG4gICAgY3RybC5vblJlZ2lzdGVyKHtcbiAgICAgICRldmVudDoge1xuICAgICAgICB1c2VyOiBldmVudC51c2VyXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJylcbiAgLmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ29udHJvbGxlcicsIFJlZ2lzdGVyQ29udHJvbGxlcik7XG4iLCJ2YXIgcmVzZXQgPSB7XG4gICAgdGVtcGxhdGVVcmw6ICcuL3Jlc2V0Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdSZXNldENvbnRyb2xsZXInLFxuICAgIGJpbmRpbmdzOiB7XG4gICAgICBvbkxvZ2luOiAnJicsXG4gICAgICB1c2VyVHlwZTogJ0AnLFxuICAgICAgdXNlckVtYWlsOiAnPCcsXG4gICAgICBvblJlc2V0OiAnJidcbiAgICB9XG59O1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJylcbiAgICAuY29tcG9uZW50KCdyZXNldCcsIHJlc2V0KTtcbiIsImZ1bmN0aW9uIFJlc2V0Q29udHJvbGxlcigpIHtcblxufVxuXG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJylcbiAgLmNvbnRyb2xsZXIoJ1Jlc2V0Q29udHJvbGxlcicsIFJlc2V0Q29udHJvbGxlcik7XG4iLCJhbmd1bGFyLm1vZHVsZSgndGVtcGxhdGVzJywgW10pLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHskdGVtcGxhdGVDYWNoZS5wdXQoJy4vcm9vdC5odG1sJywnPGRpdiBjbGFzcz1cInJvb3RcIj5cXG4gICAgPGRpdiB1aS12aWV3PjwvZGl2PlxcbjwvZGl2PlxcbicpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KCcuL2FwcC5odG1sJywnPGRpdiBjbGFzcz1cInJvb3RcIj5cXG4gICAgPCEtLSA8YXBwLW5hdiB1c2VyPVwiJGN0cmwudXNlclwiIG9uLWxvZ291dD1cIiRjdHJsLmxvZ291dCgpO1wiPjwvYXBwLW5hdj4gLS0+XFxuICAgIDwhLS0gPG1kLXNpZGVuYXYgZmxleC1vcmRlcj1cIjJcIiBtZC1jb21wb25lbnQtaWQ9XCJzaWRlXCIgbWQtd2hpdGVmcmFtZT1cIjNcIiBtZC1kaXNhYmxlLWJhY2tkcm9wIGNsYXNzPVwibWQtc2lkZW5hdi1yaWdodCBtZC1uby1wYWdpbmF0aW9uIGFwcF9fc2lkZW5hdi0taGVpZ2h0IGFwcF9fc2lkZW5hdi0td2lkdGggYXBwX19zaWRlbmF2LS1wb3NpdGlvbiBhcHBfX3NpZGVuYXYtLW92ZXJmbG93LXhcIj5cXG4gICAgICAgIDxkaXYgdWktdmlldz1cInNpZGVcIj48L2Rpdj5cXG4gICAgPC9tZC1zaWRlbmF2PiAtLT5cXG4gICAgPGRpdj5cXG4gICAgICAgIDxkaXYgdWktdmlldz48L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuJyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJy4vc3R1ZGVudC1hcHAuaHRtbCcsJzxkaXYgY2xhc3M9XCJyb290XCI+XFxuICAgIDwhLS0gPGFwcC1uYXYgdXNlcj1cIiRjdHJsLnVzZXJcIiBvbi1sb2dvdXQ9XCIkY3RybC5sb2dvdXQoKTtcIj48L2FwcC1uYXY+IC0tPlxcbiAgICA8IS0tIDxtZC1zaWRlbmF2IGZsZXgtb3JkZXI9XCIyXCIgbWQtY29tcG9uZW50LWlkPVwic2lkZVwiIG1kLXdoaXRlZnJhbWU9XCIzXCIgbWQtZGlzYWJsZS1iYWNrZHJvcCBjbGFzcz1cIm1kLXNpZGVuYXYtcmlnaHQgbWQtbm8tcGFnaW5hdGlvbiBhcHBfX3NpZGVuYXYtLWhlaWdodCBhcHBfX3NpZGVuYXYtLXdpZHRoIGFwcF9fc2lkZW5hdi0tcG9zaXRpb24gYXBwX19zaWRlbmF2LS1vdmVyZmxvdy14XCI+XFxuICAgICAgICA8ZGl2IHVpLXZpZXc9XCJzaWRlXCI+PC9kaXY+XFxuICAgIDwvbWQtc2lkZW5hdj4gLS0+XFxuICAgIDxkaXY+XFxuICAgICAgICA8ZGl2IHVpLXZpZXc+PC9kaXY+XFxuICAgIDwvZGl2PlxcbjwvZGl2PlxcbicpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KCcuL3R1dG9yLWFwcC5odG1sJywnPGRpdiBjbGFzcz1cInJvb3RcIj5cXG4gICAgPCEtLSA8YXBwLW5hdiB1c2VyPVwiJGN0cmwudXNlclwiIG9uLWxvZ291dD1cIiRjdHJsLmxvZ291dCgpO1wiPjwvYXBwLW5hdj4gLS0+XFxuICAgIDwhLS0gPG1kLXNpZGVuYXYgZmxleC1vcmRlcj1cIjJcIiBtZC1jb21wb25lbnQtaWQ9XCJzaWRlXCIgbWQtd2hpdGVmcmFtZT1cIjNcIiBtZC1kaXNhYmxlLWJhY2tkcm9wIGNsYXNzPVwibWQtc2lkZW5hdi1yaWdodCBtZC1uby1wYWdpbmF0aW9uIGFwcF9fc2lkZW5hdi0taGVpZ2h0IGFwcF9fc2lkZW5hdi0td2lkdGggYXBwX19zaWRlbmF2LS1wb3NpdGlvbiBhcHBfX3NpZGVuYXYtLW92ZXJmbG93LXhcIj5cXG4gICAgICAgIDxkaXYgdWktdmlldz1cInNpZGVcIj48L2Rpdj5cXG4gICAgPC9tZC1zaWRlbmF2PiAtLT5cXG4gICAgPGRpdj5cXG4gICAgICAgIDxkaXYgdWktdmlldz48L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuJyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJy4vYXV0aC5odG1sJywnPG1kLWNvbnRlbnQgY2xhc3M9XCJiYWNrZ3JvdW5kIGhlaWdodC0tZnVsbCB3aWR0aC0tZnVsbFwiIGxheW91dD1cImNvbHVtblwiIGxheW91dC1hbGlnbj1cImNlbnRlciBjZW50ZXJcIj5cXG5cXG4gIDxkaXY+XFxuICAgIDxpbWcgc3JjPVwiaW1nL211Z2h1Yl9sb2dvLnBuZ1wiIHdpZHRoPVwiMTYwcHhcIiAvPlxcbiAgPC9kaXY+XFxuXFxuICA8ZGl2IGNsYXNzPVwid2lkdGgtLWZ1bGwgYXV0aC0tYW5pbWF0aW9uIG5nLWVudGVyXCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAtMzBweDtcIj5cXG4gICAgPG1kLXRhYnMgY2xhc3M9XCJ3aWR0aC0tZnVsbCBtZC1uby1hbmltYXRpb25cIiBtZC1jZW50ZXItdGFicz1cInRydWVcIiBtZC1keW5hbWljLWhlaWdodD5cXG5cXG4gICAgICA8bWQtdGFiIGxhYmVsPVwiU1RVREVOVFwiPlxcbiAgICAgICAgPG1kLWNvbnRlbnQgY2xhc3M9XCJiYWNrZ3JvdW5kIGF1dGgtLWFuaW1hdGlvbiBuZy1lbnRlclwiPlxcbiAgICAgICAgICA8bG9naW4gbmctaWY9XCIkY3RybC5zaG93TG9naW5cIiBvbi1sb2dpbj1cIiRjdHJsLmxvZ2luKCRldmVudClcIiBvbi1yZWdpc3Rlcj1cIiRjdHJsLnRvZ2dsZVJlZ2lzdGVyKClcIiBvbi1yZXNldD1cIiRjdHJsLnRvZ2dsZVJlc2V0KCRldmVudClcIiB1c2VyLXR5cGU9XCJTVFVERU5UXCI+PC9sb2dpbj5cXG4gICAgICAgICAgPHJlZ2lzdGVyIG5nLWlmPVwiJGN0cmwuc2hvd1JlZ2lzdGVyXCIgb24tcmVnaXN0ZXI9XCIkY3RybC5yZWdpc3RlcigkZXZlbnQpXCIgb24tbG9naW49XCIkY3RybC50b2dnbGVSZWdpc3RlcigpXCIgdXNlci10eXBlPVwiU1RVREVOVFwiPjwvcmVnaXN0ZXI+XFxuICAgICAgICAgIDxyZXNldCBuZy1pZj1cIiRjdHJsLnNob3dSZXNldFwiIG9uLXJlc2V0PVwiJGN0cmwucmVzZXQoJGN0cmwudXNlckVtYWlsKVwiIG9uLWxvZ2luPVwiJGN0cmwudG9nZ2xlTG9naW4oKVwiIHVzZXItdHlwZT1cIlNUVURFTlRcIiB1c2VyLWVtYWlsPVwiJGN0cmwudXNlckVtYWlsXCI+PC9yZXNldD5cXG4gICAgICAgIDwvbWQtY29udGVudD5cXG4gICAgICA8L21kLXRhYj5cXG5cXG4gICAgICA8bWQtdGFiIGxhYmVsPVwiVFVUT1JcIj5cXG4gICAgICAgIDxtZC1jb250ZW50IGNsYXNzPVwiYmFja2dyb3VuZCBhdXRoLS1hbmltYXRpb24gbmctZW50ZXJcIj5cXG4gICAgICAgICAgPGxvZ2luIG5nLWlmPVwiJGN0cmwuc2hvd0xvZ2luXCIgb24tbG9naW49XCIkY3RybC5sb2dpbigkZXZlbnQpXCIgb24tcmVnaXN0ZXI9XCIkY3RybC50b2dnbGVSZWdpc3RlcigpXCIgb24tcmVzZXQ9XCIkY3RybC50b2dnbGVSZXNldCgkZXZlbnQpXCIgdXNlci10eXBlPVwiVFVUT1JcIj48L2xvZ2luPlxcbiAgICAgICAgICA8cmVnaXN0ZXIgbmctaWY9XCIkY3RybC5zaG93UmVnaXN0ZXJcIiBvbi1yZWdpc3Rlcj1cIiRjdHJsLnJlZ2lzdGVyKCRldmVudClcIiBvbi1sb2dpbj1cIiRjdHJsLnRvZ2dsZVJlZ2lzdGVyKClcIiB1c2VyLXR5cGU9XCJUVVRPUlwiPjwvcmVnaXN0ZXI+XFxuICAgICAgICAgIDxyZXNldCBuZy1pZj1cIiRjdHJsLnNob3dSZXNldFwiIG9uLXJlc2V0PVwiJGN0cmwucmVzZXQoJGN0cmwudXNlckVtYWlsKVwiIG9uLWxvZ2luPVwiJGN0cmwudG9nZ2xlTG9naW4oKVwiIHVzZXItdHlwZT1cIlRVVE9SXCIgdXNlci1lbWFpbD1cIiRjdHJsLnVzZXJFbWFpbFwiPjwvcmVzZXQ+XFxuICAgICAgICA8L21kLWNvbnRlbnQ+XFxuICAgICAgPC9tZC10YWI+XFxuXFxuICAgIDwvbWQtdGFicz5cXG4gIDwvZGl2PlxcblxcbjwvbWQtY29udGVudD5cXG4nKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dCgnLi9tZW1vcy5odG1sJywnPGRpdj5cXG4gIFRoaXMgaXMgdGhlIGFwcC5cXG48L2Rpdj5cXG4nKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dCgnLi90dXRvci5odG1sJywnPGRpdj5cXG4gIFRoaXMgaXMgdGhlIGFwcFxcbjwvZGl2PlxcbicpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KCcuL2F1dGgtZm9ybS5odG1sJywnPGZvcm0gbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIGNlbnRlclwiIG5hbWU9XCJhdXRoRm9ybVwiIG5vdmFsaWRhdGUgbmctc3VibWl0PVwiJGN0cmwuc3VibWl0Rm9ybSgpO1wiPlxcbiAgPG1kLWxpc3QgbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIGNlbnRlclwiPlxcblxcbiAgICA8ZGl2IG5nLWlmPVwiJGN0cmwuYnV0dG9uID09PSBcXCdSZWdpc3RlclxcJ1wiPlxcbiAgICAgIDxtZC1saXN0LWl0ZW0gbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwic3BhY2UtYmV0d2VlbiBjZW50ZXJcIj5cXG5cXG4gICAgICAgIDxkaXY+XFxuICAgICAgICAgIDxtZC1pbnB1dC1jb250YWluZXIgbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIGNlbnRlclwiIGNsYXNzPVwiYXV0aFwiPlxcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImF1dGhfX2xhYmVsIGF1dGhfX2xhYmVsLS1wYWRkaW5nTmFtZVwiPkZJUlNUIE5BTUU8L2xhYmVsPlxcbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImF1dGhfX2lucHV0IGF1dGhfX2lucHV0LS1oZWlnaHQgYXV0aF9faW5wdXQtLXdpZHRoSGFsZiBhdXRoX19pbnB1dC0tYm9yZGVyUmFkaXVzRmlyc3ROYW1lIHRleHQtLWNlbnRlciB0ZXh0LS1mb250XCIgdHlwZT1cInRleHRcIiBuYW1lPVwiZmlyc3RuYW1lXCIgbmctbW9kZWw9XCIkY3RybC51c2VyLmZpcnN0bmFtZVwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIC8+XFxuICAgICAgICAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxcbiAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICA8ZGl2PlxcbiAgICAgICAgICA8bWQtaW5wdXQtY29udGFpbmVyIGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImNlbnRlciBjZW50ZXJcIiBjbGFzcz1cImF1dGhcIj5cXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJhdXRoX19sYWJlbCBhdXRoX19sYWJlbC0tcGFkZGluZ05hbWVcIj5MQVNUIE5BTUU8L2xhYmVsPlxcbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImF1dGhfX2lucHV0IGF1dGhfX2lucHV0LS1oZWlnaHQgYXV0aF9faW5wdXQtLXdpZHRoSGFsZiBhdXRoX19pbnB1dC0tYm9yZGVyUmFkaXVzTGFzdE5hbWUgdGV4dC0tY2VudGVyIHRleHQtLWZvbnRcIiB0eXBlPVwidGV4dFwiIG5hbWU9XCJsYXN0bmFtZVwiIG5nLW1vZGVsPVwiJGN0cmwudXNlci5sYXN0bmFtZVwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIC8+XFxuICAgICAgICAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxcbiAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgPC9tZC1saXN0LWl0ZW0+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8ZGl2IGNsYXNzPVwiYXV0aC0tbWFyZ2luVG9wXCI+XFxuICAgICAgPG1kLWxpc3QtaXRlbT5cXG4gICAgICAgIDxtZC1pbnB1dC1jb250YWluZXIgbGF5b3V0PVwicm93XCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIGNlbnRlclwiIGNsYXNzPVwiYXV0aFwiPlxcbiAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJhdXRoX19sYWJlbCBhdXRoX19sYWJlbC0tcGFkZGluZ1wiPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgbWQtMTYgYXV0aF9faWNvblwiPmVtYWlsPC9pPkVNQUlMPC9sYWJlbD5cXG4gICAgICAgICAgPGlucHV0IGNsYXNzPVwiYXV0aF9faW5wdXQgYXV0aF9faW5wdXQtLWhlaWdodCBhdXRoX19pbnB1dC0td2lkdGggdGV4dC0tZm9udFwiIHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJlbWFpbFwiIG5nLW1vZGVsPVwiJGN0cmwudXNlci5lbWFpbFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIC8+XFxuICAgICAgICA8L21kLWlucHV0LWNvbnRhaW5lcj5cXG4gICAgICA8L21kLWxpc3QtaXRlbT5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxkaXYgY2xhc3M9XCJhdXRoLS1tYXJnaW5Ub3BcIj5cXG4gICAgICA8bWQtbGlzdC1pdGVtPlxcbiAgICAgICAgPG1kLWlucHV0LWNvbnRhaW5lciBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgY2VudGVyXCIgY2xhc3M9XCJhdXRoXCI+XFxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImF1dGhfX2xhYmVsIGF1dGhfX2xhYmVsLS1wYWRkaW5nXCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBtZC0xNiBhdXRoX19pY29uXCI+bG9jazwvaT5QQVNTV09SRDwvbGFiZWw+XFxuICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImF1dGhfX2lucHV0IGF1dGhfX2lucHV0LS1oZWlnaHQgYXV0aF9faW5wdXQtLXdpZHRoIHRleHQtLWZvbnRcIiB0eXBlPVwicGFzc3dvcmRcIiBuYW1lPVwicGFzc3dvcmRcIiBuZy1tb2RlbD1cIiRjdHJsLnVzZXIucGFzc3dvcmRcIiBhdXRvY29tcGxldGU9XCJvZmZcIiAvPlxcbiAgICAgICAgPC9tZC1pbnB1dC1jb250YWluZXI+XFxuICAgICAgICA8cCBuZy1pZj1cIiRjdHJsLmJ1dHRvbiA9PT0gXFwnTG9naW5cXCdcIiBuZy1jbGljaz1cIiRjdHJsLnJlc2V0KClcIiBjbGFzcz1cImF1dGhfX3Jlc2V0XCI+PzwvcD5cXG4gICAgICA8L21kLWxpc3QtaXRlbT5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxkaXYgY2xhc3M9XCJhdXRoLS1tYXJnaW5Ub3BcIj5cXG4gICAgICA8bWQtbGlzdC1pdGVtPlxcbiAgICAgICAgPG1kLWJ1dHRvbiB0eXBlPVwic3VibWl0XCIgbmctZGlzYWJsZWQ9XCJhdXRoRm9ybS4kaW52YWxpZFwiIGNsYXNzPVwibWQtcmFpc2VkIGF1dGhfX2J1dHRvbiBhdXRoX19pbnB1dC0taGVpZ2h0IGF1dGhfX2lucHV0LS13aWR0aFwiPlxcbiAgICAgICAgICA8aDEgY2xhc3M9XCJhdXRoX19idXR0b25UZXh0XCI+e3sgJGN0cmwuYnV0dG9uIH19IGFzIGEge3sgJGN0cmwudXNlclR5cGUgfX08L2gxPlxcbiAgICAgICAgPC9tZC1idXR0b24+XFxuICAgICAgPC9tZC1saXN0LWl0ZW0+XFxuICAgIDwvZGl2PlxcblxcblxcbiAgPC9tZC1saXN0PlxcbjwvZm9ybT5cXG4nKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dCgnLi9sb2dpbi5odG1sJywnPGRpdiBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtYWxpZ249XCJjZW50ZXJcIiBjbGFzcz1cImF1dGgtLWFuaW1hdGlvblwiPlxcbiAgPGRpdj5cXG4gICAgPGF1dGgtZm9ybSB1c2VyPVwiJGN0cmwudXNlclwiIHVzZXItdHlwZT1cIiRjdHJsLnVzZXJUeXBlXCIgYnV0dG9uPVwiTG9naW5cIiBvbi1zdWJtaXQ9XCIkY3RybC5sb2dpbigkZXZlbnQpO1wiIG9uLXJlc2V0PVwiJGN0cmwucmVzZXQoJGV2ZW50KVwiPlxcbiAgICA8L2F1dGgtZm9ybT5cXG4gIDwvZGl2PlxcbiAgPGNlbnRlcj5cXG4gICAgPGRpdj5cXG4gICAgICA8YSBuZy1jbGljaz1cIiRjdHJsLm9uUmVnaXN0ZXIoJGV2ZW50KVwiIGNsYXNzPVwiYXV0aF9fbGlua1wiPlxcbiAgICAgIERvblxcJ3QgaGF2ZSBhbiBhY2NvdW50PyBDcmVhdGUgb25lIGhlcmUuXFxuICAgIDwvYT5cXG4gICAgPC9kaXY+XFxuICA8L2NlbnRlcj5cXG48L2Rpdj5cXG4nKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dCgnLi9yZWdpc3Rlci5odG1sJywnPGRpdiBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtYWxpZ249XCJjZW50ZXJcIiBjbGFzcz1cImF1dGgtLWFuaW1hdGlvblwiPlxcbiAgICA8ZGl2PlxcbiAgICAgICAgPGF1dGgtZm9ybSB1c2VyPVwiJGN0cmwudXNlclwiIHVzZXItdHlwZT1cIiRjdHJsLnVzZXJUeXBlXCIgbWVzc2FnZT1cInt7ICRjdHJsLmVycm9yIH19XCIgYnV0dG9uPVwiUmVnaXN0ZXJcIiBvbi1zdWJtaXQ9XCIkY3RybC5yZWdpc3RlcigkZXZlbnQpO1wiPlxcbiAgICAgICAgPC9hdXRoLWZvcm0+XFxuICAgIDwvZGl2PlxcbiAgICA8Y2VudGVyPlxcbiAgICAgICAgPGRpdj5cXG4gICAgICAgICAgICA8YSBuZy1jbGljaz1cIiRjdHJsLm9uTG9naW4oJGV2ZW50KVwiIGNsYXNzPVwiYXV0aF9fbGlua1wiPkFscmVhZHkgaGF2ZSBhbiBhY2NvdW50PyBMb2dpbiBoZXJlLjwvYT5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2NlbnRlcj5cXG48L2Rpdj5cXG4nKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dCgnLi9yZXNldC5odG1sJywnPGRpdiBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtYWxpZ249XCJjZW50ZXJcIiBjbGFzcz1cImF1dGgtLWFuaW1hdGlvblwiPlxcbiAgICA8Zm9ybSBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgY2VudGVyXCIgbmFtZT1cImF1dGhGb3JtXCIgbm92YWxpZGF0ZSBuZy1zdWJtaXQ9XCIkY3RybC5vblJlc2V0KCRldmVudClcIj5cXG5cXG4gICAgICA8bWQtbGlzdCBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgY2VudGVyXCI+XFxuXFxuICAgICAgICA8ZGl2IGNsYXNzPVwiYXV0aC0tbWFyZ2luVG9wXCI+XFxuICAgICAgICAgIDxtZC1saXN0LWl0ZW0+XFxuICAgICAgICAgICAgPG1kLWlucHV0LWNvbnRhaW5lciBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgY2VudGVyXCIgY2xhc3M9XCJhdXRoXCI+XFxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJhdXRoX19sYWJlbCBhdXRoX19sYWJlbC0tcGFkZGluZ1wiPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgbWQtMTYgYXV0aF9faWNvblwiPmVtYWlsPC9pPkVNQUlMPC9sYWJlbD5cXG4gICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImF1dGhfX2lucHV0IGF1dGhfX2lucHV0LS1oZWlnaHQgYXV0aF9faW5wdXQtLXdpZHRoIHRleHQtLWZvbnRcIiB0eXBlPVwiZW1haWxcIiBuYW1lPVwiZW1haWxcIiBuZy1tb2RlbD1cIiRjdHJsLnVzZXJFbWFpbFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIC8+XFxuICAgICAgICAgICAgPC9tZC1pbnB1dC1jb250YWluZXI+XFxuICAgICAgICAgIDwvbWQtbGlzdC1pdGVtPlxcbiAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICA8ZGl2IGNsYXNzPVwiYXV0aC0tbWFyZ2luVG9wXCI+XFxuICAgICAgICAgIDxtZC1saXN0LWl0ZW0+XFxuICAgICAgICAgICAgPG1kLWJ1dHRvbiB0eXBlPVwic3VibWl0XCIgbmctZGlzYWJsZWQ9XCJhdXRoRm9ybS4kaW52YWxpZFwiIGNsYXNzPVwibWQtcmFpc2VkIGF1dGhfX2J1dHRvbiBhdXRoX19pbnB1dC0taGVpZ2h0IGF1dGhfX2lucHV0LS13aWR0aFwiPlxcbiAgICAgICAgICAgICAgPGgxIGNsYXNzPVwiYXV0aF9fYnV0dG9uVGV4dFwiPlJFU0VUIHt7ICRjdHJsLnVzZXJUeXBlIH19IEFDT1VOVDwvaDE+XFxuICAgICAgICAgICAgPC9tZC1idXR0b24+XFxuICAgICAgICAgIDwvbWQtbGlzdC1pdGVtPlxcbiAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgPC9tZC1saXN0PlxcbiAgICA8L2Zvcm0+XFxuXFxuICA8Y2VudGVyPlxcbiAgICA8ZGl2PlxcbiAgICAgIDxhIG5nLWNsaWNrPVwiJGN0cmwub25Mb2dpbigkZXZlbnQpXCIgY2xhc3M9XCJhdXRoX19saW5rXCI+T3IgbG9naW4gd2l0aCBhbiBleGlzdGluZyBhY2NvdW50LjwvYT5cXG4gICAgPC9kaXY+XFxuICA8L2NlbnRlcj5cXG5cXG48L2Rpdj5cXG4nKTt9XSk7Il19
