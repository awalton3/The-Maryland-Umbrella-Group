(function(angular){
'use strict';
angular
    .module('root', [
    'common',
    'components',
    'templates'
  ]);
})(window.angular);
(function(angular){
'use strict';
angular
  .module('common', [
    'ui.router',
    'ngMaterial',
    'ngMessages',
  ]);
})(window.angular);
(function(angular){
'use strict';
angular
    .module('components', [
    'components.auth',
    'components.memos'
  ])
})(window.angular);
(function(angular){
'use strict';
/**
 *
 * @ngdoc object
 * @name components.auth
 *
 * @requires ui.router,ngParse,ngMaterial,ngMessages
 *
 * @description
 *
 * This is the auth module. It includes login, register, and reset components for auth feature.
 *
 **/

angular
    .module('components.auth', [
    'ui.router',
    'ngParse',
    'ngMaterial',
    'ngMessages'
  ])
    .config(["ParseProvider", function (ParseProvider) {
        var MY_PARSE_APP_ID = 'uDzN7E7NYIbwdzKLUwNBtDtGfxyxrrBo3C6xGri3';
        var MY_PARSE_JS_KEY = '0VcWEWBLIwEcExM2Nz3TziSGjKiMsoU7SNjI5RPA';
        ParseProvider.initialize(MY_PARSE_APP_ID, MY_PARSE_JS_KEY);
        ParseProvider.serverURL = 'https://parseapi.back4app.com/';

    }])
    .run(["$transitions", "$state", "AuthService", function ($transitions, $state, AuthService) {
        $transitions.onStart({
            to: function (state) {
                return !!(state.data && state.data.requiredAuth);
            }
        }, function () {
            return AuthService
                .requireAuthentication()
                .catch(function () {
                    return $state.target('auth.login');
                });
        });
        $transitions.onStart({
            to: 'auth.*'
        }, function () {
            if (AuthService.isAuthenticated()) {
                return $state.go('app');
            }
        });
    }]);
})(window.angular);
(function(angular){
'use strict';
angular
    .module('components.memos', [
    'ui.router'
  ]);
})(window.angular);
(function(angular){
'use strict';
var root = {
    templateUrl: './root.html'
};

angular
    .module('root')
    .component('root', root);
})(window.angular);
(function(angular){
'use strict';
var app = {
    templateUrl: './app.html',
    controller: 'AppController'
};

angular
    .module('common')
    .component('app', app)
    .config(["$stateProvider", function ($stateProvider) {
        $stateProvider
            .state('app', {
                redirectTo: 'memos',
                url: '/',
                data: {
                    requiredAuth: true
                },
                component: 'app'
            })
    }]);
})(window.angular);
(function(angular){
'use strict';
AppController.$inject = ["AuthService", "$state"];
function AppController(AuthService, $state) {
    var ctrl = this;
    ctrl.user = AuthService.getUser();
    ctrl.logout = function () {
        AuthService.logout()
            .then(function () {
                $state.go('auth.login');
            });
    };
}

angular
    .module('common')
    .controller('AppController', AppController);
})(window.angular);
(function(angular){
'use strict';
init.$inject = ["$rootScope", "$uiRouter", "$mdSidenav"];
function init($rootScope, $uiRouter, $mdSidenav) {
    var Visualizer = window['ui-router-visualizer'].Visualizer;
    var pluginInstance = $uiRouter.plugin(Visualizer);

    $rootScope.toggleMenu = toggleMenu;

    function toggleMenu(navId) {
        console.log('toggle sidenav: ' + navId);
        $mdSidenav(navId)
            .toggle();
    }
}

angular
    .module('common')
    .run(init)
})(window.angular);
(function(angular){
'use strict';
/**
 * @ngdoc service
 * @name components.auth:AuthService
 *
 * @description Handles authentication for app
 */

AuthService.$inject = ["Parse"];
function AuthService(Parse) {
    var auth = new Parse.User(); // creates a new user in Parse
    var currentUser = null; //holds info about current user

    /**
     * @ngdoc method
     * @name AuthService#storeAuthData
     * @methodOf components.auth:AuthService
     * @param {object} obj Parse user object
     * @returns {object} returns currentUser object
     */

    function storeAuthData(response) {
        currentUser = response;
        return currentUser;
    }

    /**
     * @ngdoc method
     * @name AuthService#clearAuthData
     * @methodOf components.auth:AuthService
     * @returns {object} returns a blank user object
     */

    function clearAuthData() {
        currentUser = Parse.User.current(); // this will now be null
        return currentUser;
    }

    /**
     * @ngdoc method
     * @name AuthService#login
     * @methodOf components.auth:AuthService
     * @param {object} obj user data from auth-form
     * @returns {object} returns the current user object
     */

    this.login = function (user) {
        return Parse.User
            .logIn(user.email, user.password, {
                success: function (auth) {},
                error: function (auth, error) {
                    console.log(error);
                }
            })
            .then(storeAuthData)
            .then((currentUser) => {
                sessionStorage.setItem('currentUser', currentUser)
            });

    };

    /**
     * @ngdoc method
     * @name AuthService#register
     * @methodOf components.auth:AuthService
     * @param {object} obj user data from auth-form
     * @returns {object} returns the current user object
     */

    this.register = function (user) {
        //console.log("User: ", user);
        auth.set("username", user.email);
        auth.set("password", user.password);
        auth.set("email", user.email);
        return auth
            .signUp(null, {
                success: function (auth) {},
                error: function (auth, error) {
                    alert("Error: " + error.code + " " + error.message);
                }
            })
            .then(storeAuthData);
    };

    /**
     * @ngdoc method
     * @name AuthService#logout
     * @methodOf components.auth:AuthService
     * @returns {object} returns an empty user object
     */

    this.logout = function () {
        return Parse.User.logOut()
            .then(clearAuthData);
    };

    /**
     * @ngdoc method
     * @name AuthService#requireAuthentication
     * @methodOf components.auth:AuthService
     * @returns {promise} returns resolve or reject based on user authentication
     */

    this.requireAuthentication = function () {
        return new Promise(function (resolve, reject) {
            if (!!Parse.User.current() && Parse.User.current()
                .authenticated()) {
                resolve();
            } else {
                reject();
            }
        });
    }

    /**
     * @ngdoc method
     * @name AuthService#isAuthenticated
     * @methodOf components.auth:AuthService
     * @returns {boolean} returns whether user is authenticated based on sessionStorage
     */

    this.isAuthenticated = function () {
        // return !!(Parse.User.current() && Parse.User.current()
        //     .authenticated());
    };

    /**
     * @ngdoc method
     * @name AuthService#getUser
     * @methodOf components.auth:AuthService
     * @returns {object} returns currentUser sessionStorage object
     */

    this.getUser = function () {
        if (auth) {
            return auth;
        }
    };
};

angular
    .module('components.auth')
    .service('AuthService', AuthService);
})(window.angular);
(function(angular){
'use strict';
var memos = {
    templateUrl: './memos.html',
    controller: 'MemosController',
    bindings: {}
}

angular
    .module('components.memos')
    .component('memos', memos)
    .config(["$stateProvider", function ($stateProvider) {
        $stateProvider.state('memos', {
            parent: 'app',
            url: 'memos',
            component: 'memos'
        })
    }]);
})(window.angular);
(function(angular){
'use strict';
MemosController.$inject = ["$state"];
function MemosController($state) {

    var ctrl = this;
    ctrl.$onInit = function () {

    }

}


angular
    .module('components.memos')
    .controller('MemosController', MemosController);
})(window.angular);
(function(angular){
'use strict';
/**
 * @ngdoc component
 * @name component.auth:authForm
 *
 * @description
 * This is the stateless component for auth form
 *
 * @example
 * login.htm
 <pre>
 <auth-form user="$ctrl.user" button="Login" on-submit="$ctrl.loginUser($event);" on-reset="$ctrl.goToReset();">
 </auth-form>
  </pre>
 *
 */

var authForm = {
    bindings: {
        user: '<',
        button: '@',
        message: '@',
        onSubmit: '&',
        onReset: '&'
    },
    templateUrl: './auth-form.html',
    controller: 'AuthFormController'
};

angular
    .module('components.auth')
    .component('authForm', authForm);
})(window.angular);
(function(angular){
'use strict';
AuthFormController.$inject = ["$state"];
function AuthFormController($state) {
  var ctrl = this;

  ctrl.$onChanges = function (changes) {
    if (changes.user) {
      ctrl.user = angular.copy(ctrl.user);
    }
  };

  ctrl.submitForm = function () {
    //console.log("submit called");
    ctrl.onSubmit({
      $event: {
        user: ctrl.user
      }
    });
  };
}

angular
    .module('components.auth')
    .controller('AuthFormController', AuthFormController);
})(window.angular);
(function(angular){
'use strict';
/**
 * @ngdoc component
 * @name component.auth:login
 *
 * @description
 * This component stores info from auth-form and handles login using AuthService
 *
 */

var login = {
    templateUrl: './login.html',
    controller: 'LoginController'
};

angular
    .module('components.auth')
    .component('login', login)
    .config(["$stateProvider", "$urlRouterProvider", function ($stateProvider, $urlRouterProvider) {
        $stateProvider
            .state('auth', {
                redirectTo: 'auth.login',
                url: '/auth',
                template: '<div ui-view></div>'
            })
            .state('auth.login', {
                url: '/login',
                component: 'login'
            });
        $urlRouterProvider.otherwise('/auth/login');
    }]);
})(window.angular);
(function(angular){
'use strict';
LoginController.$inject = ["AuthService", "$state"];
function LoginController(AuthService, $state) {
    var ctrl = this;

    //initialize user data
    ctrl.$onInit = function () {
        ctrl.user = {
            email: '',
            password: ''
        };
    };

  //give user access to app
  ctrl.loginUser = function (event) {
    return AuthService
      .login(event.user)
      .then(function () {
        $state.go('app');
      }, function (reason) {
        alert(reason);
      });
  };

  ctrl.goToReset = function () {
    $state.go('auth.reset');
  }

}

angular
    .module('components.auth')
    .controller('LoginController', LoginController);
})(window.angular);
(function(angular){
'use strict';
/**
 * @ngdoc component
 * @name component.auth:register
 *
 * @description
 * This component stores info from auth-form and handles registering using AuthService
 *
 */

var register = {
    templateUrl: './register.html',
    controller: 'RegisterController'
};

angular
    .module('components.auth')
    .component('register', register)
    .config(["$stateProvider", function ($stateProvider) {
        $stateProvider.state('auth.register', {
            url: '/register',
            component: 'register'
        });
    }]);
})(window.angular);
(function(angular){
'use strict';
RegisterController.$inject = ["AuthService", "$state"];
function RegisterController(AuthService, $state) {
    var ctrl = this;

    //initialize user data
    ctrl.$onInit = function () {
        ctrl.error = null;
        ctrl.user = {
            email: '',
            password: ''
        };
    };

    //creates a new user and allows access into the app
    ctrl.createUser = function (event) {
        //console.log("user:", event);
        return AuthService
            .register(event.user)
            .then(function () {
                $state.go('app');
            }, function (reason) {
                ctrl.error = reason.message;
            });
    };

}

angular
    .module('components.auth')
    .controller('RegisterController', RegisterController);
})(window.angular);
(function(angular){
'use strict';
/**
 * @ngdoc component
 * @name component.auth:reset
 *
 * @description
 * This component handles password reset and is toggled in login component 
 *
 */

var reset = {
    templateUrl: './reset.html',
    controller: 'ResetController'
};

angular
    .module('components.auth')
    .component('reset', reset)
    .config(["$stateProvider", function ($stateProvider) {
        $stateProvider.state('auth.reset', {
            url: '/reset',
            component: 'reset'
        });
    }]);
})(window.angular);
(function(angular){
'use strict';
function ResetController() {

    var ctrl = this;

    ctrl.$onInit = function () {
      console.log("RESET CONTROLLER FIRED")
        // initialize variables
        ctrl.user = {};
        // initialize functions
        ctrl.reset = reset;
    }

    // password reset
    function reset(email) {
        if (email) {
            Parse
                .User
                .requestPasswordReset(email)
                .then(function () {
                    alert('A password reset email has been sent to ' + email);
                })
                .catch(function (err) {
                    alert(err.code + " " + err.message);
                });
        }
    }

}

angular
    .module('components.auth')
    .controller('ResetController', ResetController);
})(window.angular);
(function(angular){
'use strict';
angular.module('templates', []).run(['$templateCache', function($templateCache) {$templateCache.put('./root.html','<div class="root">\n    <div ui-view></div>\n</div>\n');
$templateCache.put('./app.html','<div class="root">\n    <!-- <app-nav user="$ctrl.user" on-logout="$ctrl.logout();"></app-nav> -->\n    <!-- <md-sidenav flex-order="2" md-component-id="side" md-whiteframe="3" md-disable-backdrop class="md-sidenav-right md-no-pagination app__sidenav--height app__sidenav--width app__sidenav--position app__sidenav--overflow-x">\n        <div ui-view="side"></div>\n    </md-sidenav> -->\n    <div>\n        <div ui-view></div>\n    </div>\n</div>\n');
$templateCache.put('./memos.html','<div>\n  This is the app.\n</div>\n');
$templateCache.put('./auth-form.html','<form width="100%" name="authForm" novalidate ng-submit="$ctrl.submitForm();">\n  <div width="100%" layout="column" layout-align="center center">\n    <div>\n      <img src="img/mughub_logo.png" width="210px" />\n    </div>\n    <div style="min-width:25%">\n\n      <md-list>\n        <md-list-item class="auth__listItem--marginTop">\n          <md-input-container class="md-block" layout-fill>\n            <!-- <label>Username</label> -->\n            <input class="auth__input--style auth__input--height" type="email" name="email" ng-model="$ctrl.user.email" autocomplete="off" />\n            <p class="auth__input__icon">\n              <i style="vertical-align: middle; color: white;  margin: 0px 3px" class="material-icons md-22">person</i> USERNAME\n            </p>\n          </md-input-container>\n        </md-list-item>\n        <md-list-item layout-align="center center" layout="row" class="auth__listItem--marginTop">\n          <md-input-container class="md-block auth__input" style="position: relative; width:100%">\n            <!-- <label>Password</label> -->\n            <input class="auth__input--style auth__input--height" type="password" name="password" ng-model="$ctrl.user.password" autocomplete="off" />\n            <p class="auth__input__icon">\n              <i style="vertical-align: middle; color: white; margin: 0px 5px" class="material-icons md-18">lock</i> PASSWORD\n            </p>\n          </md-input-container>\n          <p ng-if="$ctrl.button === \'Login\'" ng-click="$ctrl.onReset($event)" class="auth__forgot">?</p>\n        </md-list-item>\n      </md-list>\n\n    </div>\n    <div style="margin-top: -40px;">\n      <md-button type="submit" ng-disabled="authForm.$invalid" class="md-raised auth__button auth__input--height">\n        <h1 class="auth__buttonText">{{ $ctrl.button }}</h1>\n      </md-button>\n    </div>\n  </div>\n</form>\n');
$templateCache.put('./login.html','<div class="auth" layout="column" layout-align="center">\n    <div>\n        <auth-form user="$ctrl.user" button="Login" on-submit="$ctrl.loginUser($event);" on-reset="$ctrl.goToReset();">\n        </auth-form>\n    </div>\n    <center>\n        <div>\n            <a ui-sref="auth.register" class="auth__trans">\n      Don\'t have an account? Create one here.\n    </a>\n        </div>\n    </center>\n</div>\n');
$templateCache.put('./register.html','<div class="auth" layout="column" layout-align="center">\n    <div>\n        <auth-form user="$ctrl.user" message="{{ $ctrl.error }}" button="Create user" on-submit="$ctrl.createUser($event);">\n        </auth-form>\n    </div>\n    <center>\n        <div>\n            <a ui-sref="auth.login" class="auth__trans">Already have an account? Login here.</a>\n        </div>\n    </center>\n</div>\n');
$templateCache.put('./reset.html','<div class="auth" layout="column" layout-align="center">\n    <form width="100%" name="authForm" novalidate ng-submit="$ctrl.reset($ctrl.user.email)">\n        <div width="100%" layout="column" layout-align="center center">\n            <div>\n                <img src="img/2000px-General_Electric_logo.svg.png" width="50px" />\n            </div>\n            <div style="min-width:25%">\n                <md-list>\n                    <md-list-item>\n                        <md-input-container class="md-block" layout-fill>\n                            <label>Email</label>\n                            <input type="email" name="email" ng-model="$ctrl.user.email" autocomplete="off" />\n                        </md-input-container>\n                    </md-list-item>\n                </md-list>\n            </div>\n            <div>\n                <md-button type="submit" ng-disabled="authForm.$invalid" class="md-raised auth__button">\n                    <h1 class="auth__buttonText">RESET</h1>\n                </md-button>\n            </div>\n        </div>\n    </form>\n    <center>\n        <div>\n            <a ui-sref="auth.login" class="auth__trans">Or login with an existing account.</a>\n        </div>\n    </center>\n</div>\n');}]);})(window.angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvb3QubW9kdWxlLmpzIiwiY29tbW9uL2FwcC5tb2R1bGUuanMiLCJjb21wb25lbnRzL2NvbXBvbmVudHMubW9kdWxlLmpzIiwiY29tcG9uZW50cy9hdXRoL2F1dGgubW9kdWxlLmpzIiwiY29tcG9uZW50cy9tZW1vcy9tZW1vcy5tb2R1bGUuanMiLCJyb290LmNvbXBvbmVudC5qcyIsImNvbW1vbi9hcHAuY29tcG9uZW50LmpzIiwiY29tbW9uL2FwcC5jb250cm9sbGVyLmpzIiwiY29tbW9uL2FwcC5ydW4uanMiLCJjb21wb25lbnRzL2F1dGgvYXV0aC5zZXJ2aWNlLmpzIiwiY29tcG9uZW50cy9tZW1vcy9tZW1vcy5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL21lbW9zL21lbW9zLmNvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL2F1dGgvYXV0aC1mb3JtL2F1dGgtZm9ybS5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2F1dGgvYXV0aC1mb3JtL2F1dGgtZm9ybS5jb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy9hdXRoL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvYXV0aC9sb2dpbi9sb2dpbi5jb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy9hdXRoL3JlZ2lzdGVyL3JlZ2lzdGVyLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvYXV0aC9yZWdpc3Rlci9yZWdpc3Rlci5jb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy9hdXRoL3Jlc2V0L3Jlc2V0LmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvYXV0aC9yZXNldC9yZXNldC5jb250cm9sbGVyLmpzIiwidGVtcGxhdGVzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLENBQUEsU0FBQSxRQUFBO0FBQ0E7QUFDQTtLQUNBLE9BQUEsUUFBQTtJQUNBO0lBQ0E7SUFDQTs7R0FFQSxPQUFBO0FDUkEsQ0FBQSxTQUFBLFFBQUE7QUFDQTtBQUNBO0dBQ0EsT0FBQSxVQUFB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QUE7S0FDQSxXQUFBLG1CQUFBO0dBQ0EsT0FBQTtBQ2xDQSxDQUFBLFNBQUEsUUFBQTtBQUNBO0FBQ0EsUUFBQSxPQUFBLGFBQUEsSUFBQSxJQUFBLENBQUEsa0JBQUEsU0FBQSxnQkFBQSxDQUFBLGVBQUEsSUFBQSxjQUFBO0FBQ0EsZUFBQSxJQUFBLGFBQUE7QUFDQSxlQUFBLElBQUEsZUFBQTtBQUNBLGVBQUEsSUFBQSxtQkFBQTtBQUNBLGVBQUEsSUFBQSxlQUFBO0FBQ0EsZUFBQSxJQUFBLGtCQUFBO0FBQ0EsZUFBQSxJQUFBLGVBQUEsOHVDQUFBLE9BQUEsU0FBQSIsImZpbGUiOiJtYWluLTE1MzI4MzY3MDcyNTUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhclxuICAgIC5tb2R1bGUoJ3Jvb3QnLCBbXG4gICAgJ2NvbW1vbicsXG4gICAgJ2NvbXBvbmVudHMnLFxuICAgICd0ZW1wbGF0ZXMnXG4gIF0pO1xuIiwiYW5ndWxhclxuICAubW9kdWxlKCdjb21tb24nLCBbXG4gICAgJ3VpLnJvdXRlcicsXG4gICAgJ25nTWF0ZXJpYWwnLFxuICAgICduZ01lc3NhZ2VzJyxcbiAgXSk7XG4iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tcG9uZW50cycsIFtcbiAgICAnY29tcG9uZW50cy5hdXRoJyxcbiAgICAnY29tcG9uZW50cy5tZW1vcydcbiAgXSlcbiIsIi8qKlxuICpcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIGNvbXBvbmVudHMuYXV0aFxuICpcbiAqIEByZXF1aXJlcyB1aS5yb3V0ZXIsbmdQYXJzZSxuZ01hdGVyaWFsLG5nTWVzc2FnZXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGlzIGlzIHRoZSBhdXRoIG1vZHVsZS4gSXQgaW5jbHVkZXMgbG9naW4sIHJlZ2lzdGVyLCBhbmQgcmVzZXQgY29tcG9uZW50cyBmb3IgYXV0aCBmZWF0dXJlLlxuICpcbiAqKi9cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcsIFtcbiAgICAndWkucm91dGVyJyxcbiAgICAnbmdQYXJzZScsXG4gICAgJ25nTWF0ZXJpYWwnLFxuICAgICduZ01lc3NhZ2VzJ1xuICBdKVxuICAgIC5jb25maWcoZnVuY3Rpb24gKFBhcnNlUHJvdmlkZXIpIHtcbiAgICAgICAgdmFyIE1ZX1BBUlNFX0FQUF9JRCA9ICd1RHpON0U3TllJYndkektMVXdOQnREdEdmeHl4cnJCbzNDNnhHcmkzJztcbiAgICAgICAgdmFyIE1ZX1BBUlNFX0pTX0tFWSA9ICcwVmNXRVdCTEl3RWNFeE0yTnozVHppU0dqS2lNc29VN1NOakk1UlBBJztcbiAgICAgICAgUGFyc2VQcm92aWRlci5pbml0aWFsaXplKE1ZX1BBUlNFX0FQUF9JRCwgTVlfUEFSU0VfSlNfS0VZKTtcbiAgICAgICAgUGFyc2VQcm92aWRlci5zZXJ2ZXJVUkwgPSAnaHR0cHM6Ly9wYXJzZWFwaS5iYWNrNGFwcC5jb20vJztcblxuICAgIH0pXG4gICAgLnJ1bihmdW5jdGlvbiAoJHRyYW5zaXRpb25zLCAkc3RhdGUsIEF1dGhTZXJ2aWNlKSB7XG4gICAgICAgICR0cmFuc2l0aW9ucy5vblN0YXJ0KHtcbiAgICAgICAgICAgIHRvOiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gISEoc3RhdGUuZGF0YSAmJiBzdGF0ZS5kYXRhLnJlcXVpcmVkQXV0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBBdXRoU2VydmljZVxuICAgICAgICAgICAgICAgIC5yZXF1aXJlQXV0aGVudGljYXRpb24oKVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkc3RhdGUudGFyZ2V0KCdhdXRoLmxvZ2luJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkdHJhbnNpdGlvbnMub25TdGFydCh7XG4gICAgICAgICAgICB0bzogJ2F1dGguKidcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKEF1dGhTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygnYXBwJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuIiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMubWVtb3MnLCBbXG4gICAgJ3VpLnJvdXRlcidcbiAgXSk7XG4iLCJ2YXIgcm9vdCA9IHtcbiAgICB0ZW1wbGF0ZVVybDogJy4vcm9vdC5odG1sJ1xufTtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3Jvb3QnKVxuICAgIC5jb21wb25lbnQoJ3Jvb3QnLCByb290KTtcbiIsInZhciBhcHAgPSB7XG4gICAgdGVtcGxhdGVVcmw6ICcuL2FwcC5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnQXBwQ29udHJvbGxlcidcbn07XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21tb24nKVxuICAgIC5jb21wb25lbnQoJ2FwcCcsIGFwcClcbiAgICAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xuICAgICAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAnLCB7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RUbzogJ21lbW9zJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkQXV0aDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAnYXBwJ1xuICAgICAgICAgICAgfSlcbiAgICB9KTtcbiIsImZ1bmN0aW9uIEFwcENvbnRyb2xsZXIoQXV0aFNlcnZpY2UsICRzdGF0ZSkge1xuICAgIHZhciBjdHJsID0gdGhpcztcbiAgICBjdHJsLnVzZXIgPSBBdXRoU2VydmljZS5nZXRVc2VyKCk7XG4gICAgY3RybC5sb2dvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIEF1dGhTZXJ2aWNlLmxvZ291dCgpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhdXRoLmxvZ2luJyk7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tbW9uJylcbiAgICAuY29udHJvbGxlcignQXBwQ29udHJvbGxlcicsIEFwcENvbnRyb2xsZXIpO1xuIiwiZnVuY3Rpb24gaW5pdCgkcm9vdFNjb3BlLCAkdWlSb3V0ZXIsICRtZFNpZGVuYXYpIHtcbiAgICB2YXIgVmlzdWFsaXplciA9IHdpbmRvd1sndWktcm91dGVyLXZpc3VhbGl6ZXInXS5WaXN1YWxpemVyO1xuICAgIHZhciBwbHVnaW5JbnN0YW5jZSA9ICR1aVJvdXRlci5wbHVnaW4oVmlzdWFsaXplcik7XG5cbiAgICAkcm9vdFNjb3BlLnRvZ2dsZU1lbnUgPSB0b2dnbGVNZW51O1xuXG4gICAgZnVuY3Rpb24gdG9nZ2xlTWVudShuYXZJZCkge1xuICAgICAgICBjb25zb2xlLmxvZygndG9nZ2xlIHNpZGVuYXY6ICcgKyBuYXZJZCk7XG4gICAgICAgICRtZFNpZGVuYXYobmF2SWQpXG4gICAgICAgICAgICAudG9nZ2xlKCk7XG4gICAgfVxufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tbW9uJylcbiAgICAucnVuKGluaXQpXG4iLCIvKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSBjb21wb25lbnRzLmF1dGg6QXV0aFNlcnZpY2VcbiAqXG4gKiBAZGVzY3JpcHRpb24gSGFuZGxlcyBhdXRoZW50aWNhdGlvbiBmb3IgYXBwXG4gKi9cblxuZnVuY3Rpb24gQXV0aFNlcnZpY2UoUGFyc2UpIHtcbiAgICB2YXIgYXV0aCA9IG5ldyBQYXJzZS5Vc2VyKCk7IC8vIGNyZWF0ZXMgYSBuZXcgdXNlciBpbiBQYXJzZVxuICAgIHZhciBjdXJyZW50VXNlciA9IG51bGw7IC8vaG9sZHMgaW5mbyBhYm91dCBjdXJyZW50IHVzZXJcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSBBdXRoU2VydmljZSNzdG9yZUF1dGhEYXRhXG4gICAgICogQG1ldGhvZE9mIGNvbXBvbmVudHMuYXV0aDpBdXRoU2VydmljZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogUGFyc2UgdXNlciBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSByZXR1cm5zIGN1cnJlbnRVc2VyIG9iamVjdFxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gc3RvcmVBdXRoRGF0YShyZXNwb25zZSkge1xuICAgICAgICBjdXJyZW50VXNlciA9IHJlc3BvbnNlO1xuICAgICAgICByZXR1cm4gY3VycmVudFVzZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lIEF1dGhTZXJ2aWNlI2NsZWFyQXV0aERhdGFcbiAgICAgKiBAbWV0aG9kT2YgY29tcG9uZW50cy5hdXRoOkF1dGhTZXJ2aWNlXG4gICAgICogQHJldHVybnMge29iamVjdH0gcmV0dXJucyBhIGJsYW5rIHVzZXIgb2JqZWN0XG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBjbGVhckF1dGhEYXRhKCkge1xuICAgICAgICBjdXJyZW50VXNlciA9IFBhcnNlLlVzZXIuY3VycmVudCgpOyAvLyB0aGlzIHdpbGwgbm93IGJlIG51bGxcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRVc2VyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSBBdXRoU2VydmljZSNsb2dpblxuICAgICAqIEBtZXRob2RPZiBjb21wb25lbnRzLmF1dGg6QXV0aFNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIHVzZXIgZGF0YSBmcm9tIGF1dGgtZm9ybVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IHJldHVybnMgdGhlIGN1cnJlbnQgdXNlciBvYmplY3RcbiAgICAgKi9cblxuICAgIHRoaXMubG9naW4gPSBmdW5jdGlvbiAodXNlcikge1xuICAgICAgICByZXR1cm4gUGFyc2UuVXNlclxuICAgICAgICAgICAgLmxvZ0luKHVzZXIuZW1haWwsIHVzZXIucGFzc3dvcmQsIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoYXV0aCkge30sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChhdXRoLCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHN0b3JlQXV0aERhdGEpXG4gICAgICAgICAgICAudGhlbigoY3VycmVudFVzZXIpID0+IHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjdXJyZW50VXNlcicsIGN1cnJlbnRVc2VyKVxuICAgICAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lIEF1dGhTZXJ2aWNlI3JlZ2lzdGVyXG4gICAgICogQG1ldGhvZE9mIGNvbXBvbmVudHMuYXV0aDpBdXRoU2VydmljZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogdXNlciBkYXRhIGZyb20gYXV0aC1mb3JtXG4gICAgICogQHJldHVybnMge29iamVjdH0gcmV0dXJucyB0aGUgY3VycmVudCB1c2VyIG9iamVjdFxuICAgICAqL1xuXG4gICAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJVc2VyOiBcIiwgdXNlcik7XG4gICAgICAgIGF1dGguc2V0KFwidXNlcm5hbWVcIiwgdXNlci5lbWFpbCk7XG4gICAgICAgIGF1dGguc2V0KFwicGFzc3dvcmRcIiwgdXNlci5wYXNzd29yZCk7XG4gICAgICAgIGF1dGguc2V0KFwiZW1haWxcIiwgdXNlci5lbWFpbCk7XG4gICAgICAgIHJldHVybiBhdXRoXG4gICAgICAgICAgICAuc2lnblVwKG51bGwsIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoYXV0aCkge30sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChhdXRoLCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVycm9yOiBcIiArIGVycm9yLmNvZGUgKyBcIiBcIiArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihzdG9yZUF1dGhEYXRhKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lIEF1dGhTZXJ2aWNlI2xvZ291dFxuICAgICAqIEBtZXRob2RPZiBjb21wb25lbnRzLmF1dGg6QXV0aFNlcnZpY2VcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSByZXR1cm5zIGFuIGVtcHR5IHVzZXIgb2JqZWN0XG4gICAgICovXG5cbiAgICB0aGlzLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFBhcnNlLlVzZXIubG9nT3V0KClcbiAgICAgICAgICAgIC50aGVuKGNsZWFyQXV0aERhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgQXV0aFNlcnZpY2UjcmVxdWlyZUF1dGhlbnRpY2F0aW9uXG4gICAgICogQG1ldGhvZE9mIGNvbXBvbmVudHMuYXV0aDpBdXRoU2VydmljZVxuICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSByZXR1cm5zIHJlc29sdmUgb3IgcmVqZWN0IGJhc2VkIG9uIHVzZXIgYXV0aGVudGljYXRpb25cbiAgICAgKi9cblxuICAgIHRoaXMucmVxdWlyZUF1dGhlbnRpY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgaWYgKCEhUGFyc2UuVXNlci5jdXJyZW50KCkgJiYgUGFyc2UuVXNlci5jdXJyZW50KClcbiAgICAgICAgICAgICAgICAuYXV0aGVudGljYXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lIEF1dGhTZXJ2aWNlI2lzQXV0aGVudGljYXRlZFxuICAgICAqIEBtZXRob2RPZiBjb21wb25lbnRzLmF1dGg6QXV0aFNlcnZpY2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmV0dXJucyB3aGV0aGVyIHVzZXIgaXMgYXV0aGVudGljYXRlZCBiYXNlZCBvbiBzZXNzaW9uU3RvcmFnZVxuICAgICAqL1xuXG4gICAgdGhpcy5pc0F1dGhlbnRpY2F0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHJldHVybiAhIShQYXJzZS5Vc2VyLmN1cnJlbnQoKSAmJiBQYXJzZS5Vc2VyLmN1cnJlbnQoKVxuICAgICAgICAvLyAgICAgLmF1dGhlbnRpY2F0ZWQoKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSBBdXRoU2VydmljZSNnZXRVc2VyXG4gICAgICogQG1ldGhvZE9mIGNvbXBvbmVudHMuYXV0aDpBdXRoU2VydmljZVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IHJldHVybnMgY3VycmVudFVzZXIgc2Vzc2lvblN0b3JhZ2Ugb2JqZWN0XG4gICAgICovXG5cbiAgICB0aGlzLmdldFVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChhdXRoKSB7XG4gICAgICAgICAgICByZXR1cm4gYXV0aDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJylcbiAgICAuc2VydmljZSgnQXV0aFNlcnZpY2UnLCBBdXRoU2VydmljZSk7XG4iLCJ2YXIgbWVtb3MgPSB7XG4gICAgdGVtcGxhdGVVcmw6ICcuL21lbW9zLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdNZW1vc0NvbnRyb2xsZXInLFxuICAgIGJpbmRpbmdzOiB7fVxufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tcG9uZW50cy5tZW1vcycpXG4gICAgLmNvbXBvbmVudCgnbWVtb3MnLCBtZW1vcylcbiAgICAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xuICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnbWVtb3MnLCB7XG4gICAgICAgICAgICBwYXJlbnQ6ICdhcHAnLFxuICAgICAgICAgICAgdXJsOiAnbWVtb3MnLFxuICAgICAgICAgICAgY29tcG9uZW50OiAnbWVtb3MnXG4gICAgICAgIH0pXG4gICAgfSk7XG4iLCJmdW5jdGlvbiBNZW1vc0NvbnRyb2xsZXIoJHN0YXRlKSB7XG5cbiAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgY3RybC4kb25Jbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgfVxuXG59XG5cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMubWVtb3MnKVxuICAgIC5jb250cm9sbGVyKCdNZW1vc0NvbnRyb2xsZXInLCBNZW1vc0NvbnRyb2xsZXIpO1xuIiwiLyoqXG4gKiBAbmdkb2MgY29tcG9uZW50XG4gKiBAbmFtZSBjb21wb25lbnQuYXV0aDphdXRoRm9ybVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBpcyB0aGUgc3RhdGVsZXNzIGNvbXBvbmVudCBmb3IgYXV0aCBmb3JtXG4gKlxuICogQGV4YW1wbGVcbiAqIGxvZ2luLmh0bVxuIDxwcmU+XG4gPGF1dGgtZm9ybSB1c2VyPVwiJGN0cmwudXNlclwiIGJ1dHRvbj1cIkxvZ2luXCIgb24tc3VibWl0PVwiJGN0cmwubG9naW5Vc2VyKCRldmVudCk7XCIgb24tcmVzZXQ9XCIkY3RybC5nb1RvUmVzZXQoKTtcIj5cbiA8L2F1dGgtZm9ybT5cbiAgPC9wcmU+XG4gKlxuICovXG5cbnZhciBhdXRoRm9ybSA9IHtcbiAgICBiaW5kaW5nczoge1xuICAgICAgICB1c2VyOiAnPCcsXG4gICAgICAgIGJ1dHRvbjogJ0AnLFxuICAgICAgICBtZXNzYWdlOiAnQCcsXG4gICAgICAgIG9uU3VibWl0OiAnJicsXG4gICAgICAgIG9uUmVzZXQ6ICcmJ1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICcuL2F1dGgtZm9ybS5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnQXV0aEZvcm1Db250cm9sbGVyJ1xufTtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcpXG4gICAgLmNvbXBvbmVudCgnYXV0aEZvcm0nLCBhdXRoRm9ybSk7XG4iLCJmdW5jdGlvbiBBdXRoRm9ybUNvbnRyb2xsZXIoJHN0YXRlKSB7XG4gIHZhciBjdHJsID0gdGhpcztcblxuICBjdHJsLiRvbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgIGlmIChjaGFuZ2VzLnVzZXIpIHtcbiAgICAgIGN0cmwudXNlciA9IGFuZ3VsYXIuY29weShjdHJsLnVzZXIpO1xuICAgIH1cbiAgfTtcblxuICBjdHJsLnN1Ym1pdEZvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcInN1Ym1pdCBjYWxsZWRcIik7XG4gICAgY3RybC5vblN1Ym1pdCh7XG4gICAgICAkZXZlbnQ6IHtcbiAgICAgICAgdXNlcjogY3RybC51c2VyXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjb21wb25lbnRzLmF1dGgnKVxuICAgIC5jb250cm9sbGVyKCdBdXRoRm9ybUNvbnRyb2xsZXInLCBBdXRoRm9ybUNvbnRyb2xsZXIpO1xuIiwiLyoqXG4gKiBAbmdkb2MgY29tcG9uZW50XG4gKiBAbmFtZSBjb21wb25lbnQuYXV0aDpsb2dpblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBjb21wb25lbnQgc3RvcmVzIGluZm8gZnJvbSBhdXRoLWZvcm0gYW5kIGhhbmRsZXMgbG9naW4gdXNpbmcgQXV0aFNlcnZpY2VcbiAqXG4gKi9cblxudmFyIGxvZ2luID0ge1xuICAgIHRlbXBsYXRlVXJsOiAnLi9sb2dpbi5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyJ1xufTtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcpXG4gICAgLmNvbXBvbmVudCgnbG9naW4nLCBsb2dpbilcbiAgICAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XG4gICAgICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAgICAgICAuc3RhdGUoJ2F1dGgnLCB7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RUbzogJ2F1dGgubG9naW4nLFxuICAgICAgICAgICAgICAgIHVybDogJy9hdXRoJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgdWktdmlldz48L2Rpdj4nXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdhdXRoLmxvZ2luJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9sb2dpbicsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAnbG9naW4nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2F1dGgvbG9naW4nKTtcbiAgICB9KTtcbiIsImZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcihBdXRoU2VydmljZSwgJHN0YXRlKSB7XG4gICAgdmFyIGN0cmwgPSB0aGlzO1xuXG4gICAgLy9pbml0aWFsaXplIHVzZXIgZGF0YVxuICAgIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3RybC51c2VyID0ge1xuICAgICAgICAgICAgZW1haWw6ICcnLFxuICAgICAgICAgICAgcGFzc3dvcmQ6ICcnXG4gICAgICAgIH07XG4gICAgfTtcblxuICAvL2dpdmUgdXNlciBhY2Nlc3MgdG8gYXBwXG4gIGN0cmwubG9naW5Vc2VyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuIEF1dGhTZXJ2aWNlXG4gICAgICAubG9naW4oZXZlbnQudXNlcilcbiAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgYWxlcnQocmVhc29uKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIGN0cmwuZ29Ub1Jlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICRzdGF0ZS5nbygnYXV0aC5yZXNldCcpO1xuICB9XG5cbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcpXG4gICAgLmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIExvZ2luQ29udHJvbGxlcik7XG4iLCIvKipcbiAqIEBuZ2RvYyBjb21wb25lbnRcbiAqIEBuYW1lIGNvbXBvbmVudC5hdXRoOnJlZ2lzdGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIGNvbXBvbmVudCBzdG9yZXMgaW5mbyBmcm9tIGF1dGgtZm9ybSBhbmQgaGFuZGxlcyByZWdpc3RlcmluZyB1c2luZyBBdXRoU2VydmljZVxuICpcbiAqL1xuXG52YXIgcmVnaXN0ZXIgPSB7XG4gICAgdGVtcGxhdGVVcmw6ICcuL3JlZ2lzdGVyLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdSZWdpc3RlckNvbnRyb2xsZXInXG59O1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY29tcG9uZW50cy5hdXRoJylcbiAgICAuY29tcG9uZW50KCdyZWdpc3RlcicsIHJlZ2lzdGVyKVxuICAgIC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdhdXRoLnJlZ2lzdGVyJywge1xuICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyJyxcbiAgICAgICAgICAgIGNvbXBvbmVudDogJ3JlZ2lzdGVyJ1xuICAgICAgICB9KTtcbiAgICB9KTtcbiIsImZ1bmN0aW9uIFJlZ2lzdGVyQ29udHJvbGxlcihBdXRoU2VydmljZSwgJHN0YXRlKSB7XG4gICAgdmFyIGN0cmwgPSB0aGlzO1xuXG4gICAgLy9pbml0aWFsaXplIHVzZXIgZGF0YVxuICAgIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3RybC5lcnJvciA9IG51bGw7XG4gICAgICAgIGN0cmwudXNlciA9IHtcbiAgICAgICAgICAgIGVtYWlsOiAnJyxcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJ1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvL2NyZWF0ZXMgYSBuZXcgdXNlciBhbmQgYWxsb3dzIGFjY2VzcyBpbnRvIHRoZSBhcHBcbiAgICBjdHJsLmNyZWF0ZVVzZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInVzZXI6XCIsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIEF1dGhTZXJ2aWNlXG4gICAgICAgICAgICAucmVnaXN0ZXIoZXZlbnQudXNlcilcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgICAgIGN0cmwuZXJyb3IgPSByZWFzb24ubWVzc2FnZTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG5cbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcpXG4gICAgLmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ29udHJvbGxlcicsIFJlZ2lzdGVyQ29udHJvbGxlcik7XG4iLCIvKipcbiAqIEBuZ2RvYyBjb21wb25lbnRcbiAqIEBuYW1lIGNvbXBvbmVudC5hdXRoOnJlc2V0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIGNvbXBvbmVudCBoYW5kbGVzIHBhc3N3b3JkIHJlc2V0IGFuZCBpcyB0b2dnbGVkIGluIGxvZ2luIGNvbXBvbmVudCBcbiAqXG4gKi9cblxudmFyIHJlc2V0ID0ge1xuICAgIHRlbXBsYXRlVXJsOiAnLi9yZXNldC5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnUmVzZXRDb250cm9sbGVyJ1xufTtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcpXG4gICAgLmNvbXBvbmVudCgncmVzZXQnLCByZXNldClcbiAgICAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xuICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnYXV0aC5yZXNldCcsIHtcbiAgICAgICAgICAgIHVybDogJy9yZXNldCcsXG4gICAgICAgICAgICBjb21wb25lbnQ6ICdyZXNldCdcbiAgICAgICAgfSk7XG4gICAgfSk7XG4iLCJmdW5jdGlvbiBSZXNldENvbnRyb2xsZXIoKSB7XG5cbiAgICB2YXIgY3RybCA9IHRoaXM7XG5cbiAgICBjdHJsLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlJFU0VUIENPTlRST0xMRVIgRklSRURcIilcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSB2YXJpYWJsZXNcbiAgICAgICAgY3RybC51c2VyID0ge307XG4gICAgICAgIC8vIGluaXRpYWxpemUgZnVuY3Rpb25zXG4gICAgICAgIGN0cmwucmVzZXQgPSByZXNldDtcbiAgICB9XG5cbiAgICAvLyBwYXNzd29yZCByZXNldFxuICAgIGZ1bmN0aW9uIHJlc2V0KGVtYWlsKSB7XG4gICAgICAgIGlmIChlbWFpbCkge1xuICAgICAgICAgICAgUGFyc2VcbiAgICAgICAgICAgICAgICAuVXNlclxuICAgICAgICAgICAgICAgIC5yZXF1ZXN0UGFzc3dvcmRSZXNldChlbWFpbClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdBIHBhc3N3b3JkIHJlc2V0IGVtYWlsIGhhcyBiZWVuIHNlbnQgdG8gJyArIGVtYWlsKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KGVyci5jb2RlICsgXCIgXCIgKyBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NvbXBvbmVudHMuYXV0aCcpXG4gICAgLmNvbnRyb2xsZXIoJ1Jlc2V0Q29udHJvbGxlcicsIFJlc2V0Q29udHJvbGxlcik7XG4iLCJhbmd1bGFyLm1vZHVsZSgndGVtcGxhdGVzJywgW10pLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHskdGVtcGxhdGVDYWNoZS5wdXQoJy4vcm9vdC5odG1sJywnPGRpdiBjbGFzcz1cInJvb3RcIj5cXG4gICAgPGRpdiB1aS12aWV3PjwvZGl2PlxcbjwvZGl2PlxcbicpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KCcuL2FwcC5odG1sJywnPGRpdiBjbGFzcz1cInJvb3RcIj5cXG4gICAgPCEtLSA8YXBwLW5hdiB1c2VyPVwiJGN0cmwudXNlclwiIG9uLWxvZ291dD1cIiRjdHJsLmxvZ291dCgpO1wiPjwvYXBwLW5hdj4gLS0+XFxuICAgIDwhLS0gPG1kLXNpZGVuYXYgZmxleC1vcmRlcj1cIjJcIiBtZC1jb21wb25lbnQtaWQ9XCJzaWRlXCIgbWQtd2hpdGVmcmFtZT1cIjNcIiBtZC1kaXNhYmxlLWJhY2tkcm9wIGNsYXNzPVwibWQtc2lkZW5hdi1yaWdodCBtZC1uby1wYWdpbmF0aW9uIGFwcF9fc2lkZW5hdi0taGVpZ2h0IGFwcF9fc2lkZW5hdi0td2lkdGggYXBwX19zaWRlbmF2LS1wb3NpdGlvbiBhcHBfX3NpZGVuYXYtLW92ZXJmbG93LXhcIj5cXG4gICAgICAgIDxkaXYgdWktdmlldz1cInNpZGVcIj48L2Rpdj5cXG4gICAgPC9tZC1zaWRlbmF2PiAtLT5cXG4gICAgPGRpdj5cXG4gICAgICAgIDxkaXYgdWktdmlldz48L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuJyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJy4vbWVtb3MuaHRtbCcsJzxkaXY+XFxuICBUaGlzIGlzIHRoZSBhcHAuXFxuPC9kaXY+XFxuJyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJy4vYXV0aC1mb3JtLmh0bWwnLCc8Zm9ybSB3aWR0aD1cIjEwMCVcIiBuYW1lPVwiYXV0aEZvcm1cIiBub3ZhbGlkYXRlIG5nLXN1Ym1pdD1cIiRjdHJsLnN1Ym1pdEZvcm0oKTtcIj5cXG4gIDxkaXYgd2lkdGg9XCIxMDAlXCIgbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIGNlbnRlclwiPlxcbiAgICA8ZGl2PlxcbiAgICAgIDxpbWcgc3JjPVwiaW1nL211Z2h1Yl9sb2dvLnBuZ1wiIHdpZHRoPVwiMjEwcHhcIiAvPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBzdHlsZT1cIm1pbi13aWR0aDoyNSVcIj5cXG5cXG4gICAgICA8bWQtbGlzdD5cXG4gICAgICAgIDxtZC1saXN0LWl0ZW0gY2xhc3M9XCJhdXRoX19saXN0SXRlbS0tbWFyZ2luVG9wXCI+XFxuICAgICAgICAgIDxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1ibG9ja1wiIGxheW91dC1maWxsPlxcbiAgICAgICAgICAgIDwhLS0gPGxhYmVsPlVzZXJuYW1lPC9sYWJlbD4gLS0+XFxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiYXV0aF9faW5wdXQtLXN0eWxlIGF1dGhfX2lucHV0LS1oZWlnaHRcIiB0eXBlPVwiZW1haWxcIiBuYW1lPVwiZW1haWxcIiBuZy1tb2RlbD1cIiRjdHJsLnVzZXIuZW1haWxcIiBhdXRvY29tcGxldGU9XCJvZmZcIiAvPlxcbiAgICAgICAgICAgIDxwIGNsYXNzPVwiYXV0aF9faW5wdXRfX2ljb25cIj5cXG4gICAgICAgICAgICAgIDxpIHN0eWxlPVwidmVydGljYWwtYWxpZ246IG1pZGRsZTsgY29sb3I6IHdoaXRlOyAgbWFyZ2luOiAwcHggM3B4XCIgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBtZC0yMlwiPnBlcnNvbjwvaT4gVVNFUk5BTUVcXG4gICAgICAgICAgICA8L3A+XFxuICAgICAgICAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxcbiAgICAgICAgPC9tZC1saXN0LWl0ZW0+XFxuICAgICAgICA8bWQtbGlzdC1pdGVtIGxheW91dC1hbGlnbj1cImNlbnRlciBjZW50ZXJcIiBsYXlvdXQ9XCJyb3dcIiBjbGFzcz1cImF1dGhfX2xpc3RJdGVtLS1tYXJnaW5Ub3BcIj5cXG4gICAgICAgICAgPG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cIm1kLWJsb2NrIGF1dGhfX2lucHV0XCIgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmU7IHdpZHRoOjEwMCVcIj5cXG4gICAgICAgICAgICA8IS0tIDxsYWJlbD5QYXNzd29yZDwvbGFiZWw+IC0tPlxcbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImF1dGhfX2lucHV0LS1zdHlsZSBhdXRoX19pbnB1dC0taGVpZ2h0XCIgdHlwZT1cInBhc3N3b3JkXCIgbmFtZT1cInBhc3N3b3JkXCIgbmctbW9kZWw9XCIkY3RybC51c2VyLnBhc3N3b3JkXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgLz5cXG4gICAgICAgICAgICA8cCBjbGFzcz1cImF1dGhfX2lucHV0X19pY29uXCI+XFxuICAgICAgICAgICAgICA8aSBzdHlsZT1cInZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IGNvbG9yOiB3aGl0ZTsgbWFyZ2luOiAwcHggNXB4XCIgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBtZC0xOFwiPmxvY2s8L2k+IFBBU1NXT1JEXFxuICAgICAgICAgICAgPC9wPlxcbiAgICAgICAgICA8L21kLWlucHV0LWNvbnRhaW5lcj5cXG4gICAgICAgICAgPHAgbmctaWY9XCIkY3RybC5idXR0b24gPT09IFxcJ0xvZ2luXFwnXCIgbmctY2xpY2s9XCIkY3RybC5vblJlc2V0KCRldmVudClcIiBjbGFzcz1cImF1dGhfX2ZvcmdvdFwiPj88L3A+XFxuICAgICAgICA8L21kLWxpc3QtaXRlbT5cXG4gICAgICA8L21kLWxpc3Q+XFxuXFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLXRvcDogLTQwcHg7XCI+XFxuICAgICAgPG1kLWJ1dHRvbiB0eXBlPVwic3VibWl0XCIgbmctZGlzYWJsZWQ9XCJhdXRoRm9ybS4kaW52YWxpZFwiIGNsYXNzPVwibWQtcmFpc2VkIGF1dGhfX2J1dHRvbiBhdXRoX19pbnB1dC0taGVpZ2h0XCI+XFxuICAgICAgICA8aDEgY2xhc3M9XCJhdXRoX19idXR0b25UZXh0XCI+e3sgJGN0cmwuYnV0dG9uIH19PC9oMT5cXG4gICAgICA8L21kLWJ1dHRvbj5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG48L2Zvcm0+XFxuJyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJy4vbG9naW4uaHRtbCcsJzxkaXYgY2xhc3M9XCJhdXRoXCIgbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWFsaWduPVwiY2VudGVyXCI+XFxuICAgIDxkaXY+XFxuICAgICAgICA8YXV0aC1mb3JtIHVzZXI9XCIkY3RybC51c2VyXCIgYnV0dG9uPVwiTG9naW5cIiBvbi1zdWJtaXQ9XCIkY3RybC5sb2dpblVzZXIoJGV2ZW50KTtcIiBvbi1yZXNldD1cIiRjdHJsLmdvVG9SZXNldCgpO1wiPlxcbiAgICAgICAgPC9hdXRoLWZvcm0+XFxuICAgIDwvZGl2PlxcbiAgICA8Y2VudGVyPlxcbiAgICAgICAgPGRpdj5cXG4gICAgICAgICAgICA8YSB1aS1zcmVmPVwiYXV0aC5yZWdpc3RlclwiIGNsYXNzPVwiYXV0aF9fdHJhbnNcIj5cXG4gICAgICBEb25cXCd0IGhhdmUgYW4gYWNjb3VudD8gQ3JlYXRlIG9uZSBoZXJlLlxcbiAgICA8L2E+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9jZW50ZXI+XFxuPC9kaXY+XFxuJyk7XG4kdGVtcGxhdGVDYWNoZS5wdXQoJy4vcmVnaXN0ZXIuaHRtbCcsJzxkaXYgY2xhc3M9XCJhdXRoXCIgbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWFsaWduPVwiY2VudGVyXCI+XFxuICAgIDxkaXY+XFxuICAgICAgICA8YXV0aC1mb3JtIHVzZXI9XCIkY3RybC51c2VyXCIgbWVzc2FnZT1cInt7ICRjdHJsLmVycm9yIH19XCIgYnV0dG9uPVwiQ3JlYXRlIHVzZXJcIiBvbi1zdWJtaXQ9XCIkY3RybC5jcmVhdGVVc2VyKCRldmVudCk7XCI+XFxuICAgICAgICA8L2F1dGgtZm9ybT5cXG4gICAgPC9kaXY+XFxuICAgIDxjZW50ZXI+XFxuICAgICAgICA8ZGl2PlxcbiAgICAgICAgICAgIDxhIHVpLXNyZWY9XCJhdXRoLmxvZ2luXCIgY2xhc3M9XCJhdXRoX190cmFuc1wiPkFscmVhZHkgaGF2ZSBhbiBhY2NvdW50PyBMb2dpbiBoZXJlLjwvYT5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2NlbnRlcj5cXG48L2Rpdj5cXG4nKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dCgnLi9yZXNldC5odG1sJywnPGRpdiBjbGFzcz1cImF1dGhcIiBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtYWxpZ249XCJjZW50ZXJcIj5cXG4gICAgPGZvcm0gd2lkdGg9XCIxMDAlXCIgbmFtZT1cImF1dGhGb3JtXCIgbm92YWxpZGF0ZSBuZy1zdWJtaXQ9XCIkY3RybC5yZXNldCgkY3RybC51c2VyLmVtYWlsKVwiPlxcbiAgICAgICAgPGRpdiB3aWR0aD1cIjEwMCVcIiBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgY2VudGVyXCI+XFxuICAgICAgICAgICAgPGRpdj5cXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJpbWcvMjAwMHB4LUdlbmVyYWxfRWxlY3RyaWNfbG9nby5zdmcucG5nXCIgd2lkdGg9XCI1MHB4XCIgLz5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwibWluLXdpZHRoOjI1JVwiPlxcbiAgICAgICAgICAgICAgICA8bWQtbGlzdD5cXG4gICAgICAgICAgICAgICAgICAgIDxtZC1saXN0LWl0ZW0+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cIm1kLWJsb2NrXCIgbGF5b3V0LWZpbGw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5FbWFpbDwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZW1haWxcIiBuYW1lPVwiZW1haWxcIiBuZy1tb2RlbD1cIiRjdHJsLnVzZXIuZW1haWxcIiBhdXRvY29tcGxldGU9XCJvZmZcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxcbiAgICAgICAgICAgICAgICAgICAgPC9tZC1saXN0LWl0ZW0+XFxuICAgICAgICAgICAgICAgIDwvbWQtbGlzdD5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2PlxcbiAgICAgICAgICAgICAgICA8bWQtYnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBuZy1kaXNhYmxlZD1cImF1dGhGb3JtLiRpbnZhbGlkXCIgY2xhc3M9XCJtZC1yYWlzZWQgYXV0aF9fYnV0dG9uXCI+XFxuICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3M9XCJhdXRoX19idXR0b25UZXh0XCI+UkVTRVQ8L2gxPlxcbiAgICAgICAgICAgICAgICA8L21kLWJ1dHRvbj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Zvcm0+XFxuICAgIDxjZW50ZXI+XFxuICAgICAgICA8ZGl2PlxcbiAgICAgICAgICAgIDxhIHVpLXNyZWY9XCJhdXRoLmxvZ2luXCIgY2xhc3M9XCJhdXRoX190cmFuc1wiPk9yIGxvZ2luIHdpdGggYW4gZXhpc3RpbmcgYWNjb3VudC48L2E+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9jZW50ZXI+XFxuPC9kaXY+XFxuJyk7fV0pOyJdfQ==
